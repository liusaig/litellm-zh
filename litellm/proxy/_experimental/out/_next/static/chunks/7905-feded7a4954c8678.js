"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7905],{87905:(e,s,l)=>{l.d(s,{A:()=>B});var a=l(95155),t=l(12115),r=l(67667),i=l(3373),n=l(28436),o=l(91808),c=l(23060),d=l(25387),m=l(87056),x=l(90659);let{TextArea:h}=o.A,{Option:u}=c.A,g=["Development","Productivity","Learning","Security","Data & Analytics","Integration","Testing","Documentation"],p=({visible:e,onClose:s,accessToken:l,onSuccess:p})=>{let[j]=d.A.useForm(),[y,A]=(0,t.useState)(!1),[b,N]=(0,t.useState)("github"),f=async e=>{if(!l)return void m.Ay.error("No access token available");if(!(0,x.VN)(e.name))return void m.Ay.error("Plugin name must be kebab-case (lowercase letters, numbers, and hyphens only)");if(e.version&&!(0,x.Fn)(e.version))return void m.Ay.error("Version must be in semantic versioning format (e.g., 1.0.0)");if(e.authorEmail&&!(0,x.B9)(e.authorEmail))return void m.Ay.error("Invalid email format");if(e.homepage&&!(0,x.AY)(e.homepage))return void m.Ay.error("Invalid homepage URL format");A(!0);try{let a={name:e.name.trim(),source:"github"===b?{source:"github",repo:e.repo.trim()}:{source:"url",url:e.url.trim()}};e.version&&(a.version=e.version.trim()),e.description&&(a.description=e.description.trim()),(e.authorName||e.authorEmail)&&(a.author={},e.authorName&&(a.author.name=e.authorName.trim()),e.authorEmail&&(a.author.email=e.authorEmail.trim())),e.homepage&&(a.homepage=e.homepage.trim()),e.category&&(a.category=e.category),e.keywords&&(a.keywords=(0,x.Qx)(e.keywords)),await (0,n.registerClaudeCodePlugin)(l,a),m.Ay.success("Plugin registered successfully"),j.resetFields(),N("github"),p(),s()}catch(e){console.error("Error registering plugin:",e),m.Ay.error("Failed to register plugin")}finally{A(!1)}},v=()=>{j.resetFields(),N("github"),s()};return(0,a.jsx)(i.A,{title:"Add New Claude Code Plugin",open:e,onCancel:v,footer:null,width:700,className:"top-8",children:(0,a.jsxs)(d.A,{form:j,layout:"vertical",onFinish:f,className:"mt-4",children:[(0,a.jsx)(d.A.Item,{label:"Plugin Name",name:"name",rules:[{required:!0,message:"Please enter plugin name"},{pattern:/^[a-z0-9-]+$/,message:"Name must be kebab-case (lowercase, numbers, hyphens only)"}],tooltip:"Unique identifier in kebab-case format (e.g., my-awesome-plugin)",children:(0,a.jsx)(o.A,{placeholder:"my-awesome-plugin",className:"rounded-lg"})}),(0,a.jsx)(d.A.Item,{label:"Source Type",name:"sourceType",initialValue:"github",rules:[{required:!0,message:"Please select source type"}],children:(0,a.jsxs)(c.A,{onChange:e=>{N(e),j.setFieldsValue({repo:void 0,url:void 0})},className:"rounded-lg",children:[(0,a.jsx)(u,{value:"github",children:"GitHub"}),(0,a.jsx)(u,{value:"url",children:"URL"})]})}),"github"===b&&(0,a.jsx)(d.A.Item,{label:"GitHub Repository",name:"repo",rules:[{required:!0,message:"Please enter repository"},{pattern:/^[a-zA-Z0-9_-]+\/[a-zA-Z0-9_-]+$/,message:"Repository must be in format: org/repo"}],tooltip:"Format: organization/repository (e.g., anthropics/claude-code)",children:(0,a.jsx)(o.A,{placeholder:"anthropics/claude-code",className:"rounded-lg"})}),"url"===b&&(0,a.jsx)(d.A.Item,{label:"Git URL",name:"url",rules:[{required:!0,message:"Please enter git URL"}],tooltip:"Full git URL to the repository",children:(0,a.jsx)(o.A,{type:"url",placeholder:"https://github.com/org/repo.git",className:"rounded-lg"})}),(0,a.jsx)(d.A.Item,{label:"Version (Optional)",name:"version",tooltip:"Semantic version (e.g., 1.0.0)",children:(0,a.jsx)(o.A,{placeholder:"1.0.0",className:"rounded-lg"})}),(0,a.jsx)(d.A.Item,{label:"Description (Optional)",name:"description",tooltip:"Brief description of what the plugin does",children:(0,a.jsx)(h,{rows:3,placeholder:"A plugin that helps with...",maxLength:500,className:"rounded-lg"})}),(0,a.jsx)(d.A.Item,{label:"Category (Optional)",name:"category",tooltip:"Select a category or enter a custom one",children:(0,a.jsx)(c.A,{placeholder:"Select or type a category",allowClear:!0,showSearch:!0,optionFilterProp:"children",className:"rounded-lg",children:g.map(e=>(0,a.jsx)(u,{value:e,children:e},e))})}),(0,a.jsx)(d.A.Item,{label:"Keywords (Optional)",name:"keywords",tooltip:"Comma-separated list of keywords for search",children:(0,a.jsx)(o.A,{placeholder:"search, web, api",className:"rounded-lg"})}),(0,a.jsx)(d.A.Item,{label:"Author Name (Optional)",name:"authorName",tooltip:"Name of the plugin author or organization",children:(0,a.jsx)(o.A,{placeholder:"Your Name or Organization",className:"rounded-lg"})}),(0,a.jsx)(d.A.Item,{label:"Author Email (Optional)",name:"authorEmail",rules:[{type:"email",message:"Please enter a valid email"}],tooltip:"Contact email for the plugin author",children:(0,a.jsx)(o.A,{type:"email",placeholder:"author@example.com",className:"rounded-lg"})}),(0,a.jsx)(d.A.Item,{label:"Homepage (Optional)",name:"homepage",rules:[{type:"url",message:"Please enter a valid URL"}],tooltip:"URL to the plugin's homepage or documentation",children:(0,a.jsx)(o.A,{type:"url",placeholder:"https://example.com",className:"rounded-lg"})}),(0,a.jsx)(d.A.Item,{className:"mb-0 mt-6",children:(0,a.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,a.jsx)(r.$,{variant:"secondary",onClick:v,disabled:y,children:"Cancel"}),(0,a.jsx)(r.$,{type:"submit",loading:y,children:y?"Registering...":"Register Plugin"})]})})]})})};var j=l(34537),y=l(45588),A=l(14992),b=l(17293),N=l(73946),f=l(37621),v=l(3134),C=l(34254),w=l(38983),k=l(30489),P=l(96961),S=l(95517),_=l(8179),I=l(31556),z=l(95171),E=l(22277),D=l(16989),F=l(12120);let L=({pluginsList:e,isLoading:s,onDeleteClick:l,accessToken:r,onPluginUpdated:i,isAdmin:o,onPluginClick:c})=>{let[d,m]=(0,t.useState)([{id:"created_at",desc:!0}]),[h,u]=(0,t.useState)(null),g=async e=>{if(r){u(e.id);try{e.enabled?(await (0,n.disableClaudeCodePlugin)(r,e.name),F.Ay.success(`Plugin "${e.name}" disabled`)):(await (0,n.enableClaudeCodePlugin)(r,e.name),F.Ay.success(`Plugin "${e.name}" enabled`)),i()}catch(e){F.Ay.error("Failed to toggle plugin status")}finally{u(null)}}},p=[{header:"Plugin Name",accessorKey:"name",cell:({row:e})=>{let s=e.original,l=s.name||"";return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(E.A,{title:l,children:(0,a.jsx)(w.A,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate min-w-[150px] justify-start",onClick:()=>c(s.id),children:l})}),(0,a.jsx)(E.A,{title:"Copy Plugin ID",children:(0,a.jsx)(j.A,{onClick:e=>{var l;e.stopPropagation(),l=s.id,navigator.clipboard.writeText(l),F.Ay.success("Copied to clipboard!")},className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs"})})]})}},{header:"Version",accessorKey:"version",cell:({row:e})=>{let s=e.original.version||"N/A";return(0,a.jsx)("span",{className:"text-xs text-gray-600",children:s})}},{header:"Description",accessorKey:"description",cell:({row:e})=>{let s=e.original.description||"No description";return(0,a.jsx)(E.A,{title:s,children:(0,a.jsx)("span",{className:"text-xs text-gray-600 block max-w-[300px] truncate",children:s})})}},{header:"Category",accessorKey:"category",cell:({row:e})=>{let s=e.original.category;if(!s)return(0,a.jsx)(C.A,{color:"gray",className:"text-xs font-normal",size:"xs",children:"Uncategorized"});let l=(0,x.vt)(s);return(0,a.jsx)(C.A,{color:l,className:"text-xs font-normal",size:"xs",children:s})}},{header:"Enabled",accessorKey:"enabled",cell:({row:e})=>{let s=e.original;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(C.A,{color:s.enabled?"green":"gray",className:"text-xs font-normal",size:"xs",children:s.enabled?"Yes":"No"}),o&&(0,a.jsx)(E.A,{title:s.enabled?"Disable plugin":"Enable plugin",children:(0,a.jsx)(D.A,{size:"small",checked:s.enabled,loading:h===s.id,onChange:()=>g(s)})})]})}},{header:"Created At",accessorKey:"created_at",cell:({row:e})=>{var s;let l=e.original;return(0,a.jsx)(E.A,{title:l.created_at,children:(0,a.jsx)("span",{className:"text-xs",children:(s=l.created_at)?new Date(s).toLocaleString():"-"})})}},...o?[{header:"Actions",id:"actions",enableSorting:!1,cell:({row:e})=>{let s=e.original;return(0,a.jsx)("div",{className:"flex items-center gap-1",children:(0,a.jsx)(E.A,{title:"Delete plugin",children:(0,a.jsx)(w.A,{size:"xs",variant:"light",color:"red",onClick:e=>{e.stopPropagation(),l(s.name,s.name)},icon:y.A,className:"text-red-500 hover:text-red-700 hover:bg-red-50"})})})}}]:[]],L=(0,f.N4)({data:e,columns:p,state:{sorting:d},onSortingChange:m,getCoreRowModel:(0,v.HT)(),getSortedRowModel:(0,v.h5)(),enableSorting:!0});return(0,a.jsx)("div",{className:"rounded-lg custom-border relative",children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)(k.A,{className:"[&_td]:py-0.5 [&_th]:py-1",children:[(0,a.jsx)(_.A,{children:L.getHeaderGroups().map(e=>(0,a.jsx)(z.A,{children:e.headers.map(e=>(0,a.jsx)(I.A,{className:`py-1 h-8 ${"actions"===e.id?"sticky right-0 bg-white shadow-[-4px_0_8px_-6px_rgba(0,0,0,0.1)]":""}`,onClick:e.column.getCanSort()?e.column.getToggleSortingHandler():void 0,children:(0,a.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:e.isPlaceholder?null:(0,f.Kv)(e.column.columnDef.header,e.getContext())}),e.column.getCanSort()&&(0,a.jsx)("div",{className:"w-4",children:e.column.getIsSorted()?({asc:(0,a.jsx)(A.A,{className:"h-4 w-4 text-blue-500"}),desc:(0,a.jsx)(b.A,{className:"h-4 w-4 text-blue-500"})})[e.column.getIsSorted()]:(0,a.jsx)(N.A,{className:"h-4 w-4 text-gray-400"})})]})},e.id))},e.id))}),(0,a.jsx)(P.A,{children:s?(0,a.jsx)(z.A,{children:(0,a.jsx)(S.A,{colSpan:p.length,className:"h-8 text-center",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:"Loading..."})})})}):e&&e.length>0?L.getRowModel().rows.map(e=>(0,a.jsx)(z.A,{className:"h-8",children:e.getVisibleCells().map(e=>(0,a.jsx)(S.A,{className:`py-0.5 max-h-8 overflow-hidden text-ellipsis whitespace-nowrap ${"actions"===e.column.id?"sticky right-0 bg-white shadow-[-4px_0_8px_-6px_rgba(0,0,0,0.1)]":""}`,children:(0,f.Kv)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(z.A,{children:(0,a.jsx)(S.A,{colSpan:p.length,className:"h-8 text-center",children:(0,a.jsx)("div",{className:"text-center text-gray-500",children:(0,a.jsx)("p",{children:"No plugins found. Add one to get started."})})})})})]})})})};var U=l(90550),R=l(44926),$=l(53535),T=l(42837),O=l(13121),K=l(75892),H=l(64628),V=l(95049);let q=({pluginId:e,onClose:s,accessToken:l,isAdmin:r,onPluginUpdated:i})=>{let[o,c]=(0,t.useState)(null),[d,m]=(0,t.useState)(!0),[h,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{g()},[e,l]);let g=async()=>{if(l){m(!0);try{let s=await (0,n.getClaudeCodePluginDetails)(l,e);c(s.plugin)}catch(e){console.error("Error fetching plugin info:",e),F.Ay.error("Failed to load plugin information")}finally{m(!1)}}},p=async()=>{if(l&&o){u(!0);try{o.enabled?(await (0,n.disableClaudeCodePlugin)(l,o.name),F.Ay.success(`Plugin "${o.name}" disabled`)):(await (0,n.enableClaudeCodePlugin)(l,o.name),F.Ay.success(`Plugin "${o.name}" enabled`)),i(),g()}catch(e){F.Ay.error("Failed to toggle plugin status")}finally{u(!1)}}},y=e=>{navigator.clipboard.writeText(e),F.Ay.success("Copied to clipboard!")};if(d)return(0,a.jsx)("div",{className:"flex items-center justify-center p-8",children:(0,a.jsx)(V.A,{size:"large"})});if(!o)return(0,a.jsxs)("div",{className:"p-8 text-center text-gray-500",children:[(0,a.jsx)("p",{children:"Plugin not found"}),(0,a.jsx)(w.A,{className:"mt-4",onClick:s,children:"Go Back"})]});let A=(0,x.qF)(o),b=(0,x.iH)(o.source),N=(0,x.vt)(o.category);return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,a.jsx)(R.A,{className:"h-5 w-5 cursor-pointer text-gray-500 hover:text-gray-700",onClick:s}),(0,a.jsx)("h2",{className:"text-2xl font-bold",children:o.name}),o.version&&(0,a.jsxs)(C.A,{color:"blue",size:"xs",children:["v",o.version]}),o.category&&(0,a.jsx)(C.A,{color:N,size:"xs",children:o.category}),(0,a.jsx)(C.A,{color:o.enabled?"green":"gray",size:"xs",children:o.enabled?"Enabled":"Disabled"})]}),(0,a.jsx)(T.A,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs mb-2",children:"Install Command"}),(0,a.jsx)("div",{className:"font-mono bg-gray-100 px-3 py-2 rounded text-sm",children:A})]}),(0,a.jsx)(E.A,{title:"Copy install command",children:(0,a.jsx)(w.A,{size:"xs",variant:"secondary",icon:j.A,onClick:()=>y(A),className:"ml-4",children:"Copy"})})]})}),(0,a.jsxs)(T.A,{children:[(0,a.jsx)(H.A,{children:"Plugin Details"}),(0,a.jsxs)(O.A,{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Plugin ID"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(K.A,{className:"font-mono text-xs",children:o.id}),(0,a.jsx)(j.A,{className:"cursor-pointer text-gray-500 hover:text-blue-500 text-xs",onClick:()=>y(o.id)})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Name"}),(0,a.jsx)(K.A,{className:"font-semibold mt-1",children:o.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Version"}),(0,a.jsx)(K.A,{className:"font-semibold mt-1",children:o.version||"N/A"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Source"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(K.A,{className:"font-semibold",children:(0,x.lZ)(o.source)}),b&&(0,a.jsx)("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700",children:(0,a.jsx)($.A,{className:"h-4 w-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Category"}),(0,a.jsx)("div",{className:"mt-1",children:o.category?(0,a.jsx)(C.A,{color:N,size:"xs",children:o.category}):(0,a.jsx)(K.A,{className:"text-gray-400",children:"Uncategorized"})})]}),r&&(0,a.jsxs)("div",{className:"col-span-3",children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Status"}),(0,a.jsxs)("div",{className:"flex items-center gap-3 mt-2",children:[(0,a.jsx)(D.A,{checked:o.enabled,loading:h,onChange:p}),(0,a.jsx)(K.A,{className:"text-sm",children:o.enabled?"Plugin is enabled and visible in marketplace":"Plugin is disabled and hidden from marketplace"})]})]})]})]}),o.description&&(0,a.jsxs)(T.A,{children:[(0,a.jsx)(H.A,{children:"Description"}),(0,a.jsx)(K.A,{className:"mt-2",children:o.description})]}),o.keywords&&o.keywords.length>0&&(0,a.jsxs)(T.A,{children:[(0,a.jsx)(H.A,{children:"Keywords"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2 mt-2",children:o.keywords.map((e,s)=>(0,a.jsx)(C.A,{color:"gray",size:"xs",children:e},s))})]}),o.author&&(0,a.jsxs)(T.A,{children:[(0,a.jsx)(H.A,{children:"Author Information"}),(0,a.jsxs)(O.A,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[o.author.name&&(0,a.jsxs)("div",{children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Name"}),(0,a.jsx)(K.A,{className:"font-semibold mt-1",children:o.author.name})]}),o.author.email&&(0,a.jsxs)("div",{children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Email"}),(0,a.jsx)(K.A,{className:"font-semibold mt-1",children:(0,a.jsx)("a",{href:`mailto:${o.author.email}`,className:"text-blue-500 hover:text-blue-700",children:o.author.email})})]})]})]}),o.homepage&&(0,a.jsxs)(T.A,{children:[(0,a.jsx)(H.A,{children:"Homepage"}),(0,a.jsxs)("a",{href:o.homepage,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:text-blue-700 flex items-center gap-2 mt-2",children:[o.homepage,(0,a.jsx)($.A,{className:"h-4 w-4"})]})]}),(0,a.jsxs)(T.A,{children:[(0,a.jsx)(H.A,{children:"Metadata"}),(0,a.jsxs)(O.A,{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Created At"}),(0,a.jsx)(K.A,{className:"font-semibold mt-1",children:(0,x.bU)(o.created_at)})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Updated At"}),(0,a.jsx)(K.A,{className:"font-semibold mt-1",children:(0,x.bU)(o.updated_at)})]}),o.created_by&&(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(K.A,{className:"text-gray-600 text-xs",children:"Created By"}),(0,a.jsx)(K.A,{className:"font-semibold mt-1",children:o.created_by})]})]})]})]})},B=({accessToken:e,userRole:s})=>{let[l,o]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[m,x]=(0,t.useState)(!1),[h,u]=(0,t.useState)(!1),[g,j]=(0,t.useState)(null),[y,A]=(0,t.useState)(null),b=!!s&&(0,U.OY)(s),N=async()=>{if(e){x(!0);try{let s=await (0,n.getClaudeCodePluginsList)(e,!1);console.log(`Claude Code plugins: ${JSON.stringify(s)}`),o(s.plugins)}catch(e){console.error("Error fetching Claude Code plugins:",e)}finally{x(!1)}}};(0,t.useEffect)(()=>{N()},[e]);let f=async()=>{if(g&&e){u(!0);try{await (0,n.deleteClaudeCodePlugin)(e,g.name),F.Ay.success(`Plugin "${g.displayName}" deleted successfully`),N()}catch(e){console.error("Error deleting plugin:",e),F.Ay.error("Failed to delete plugin")}finally{u(!1),j(null)}}};return(0,a.jsxs)("div",{className:"w-full mx-auto flex-auto overflow-y-auto m-8 p-2",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-2 mb-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"Claude Code Plugins"}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Manage Claude Code marketplace plugins. Add, enable, disable, or delete plugins that will be available in your marketplace catalog. Enabled plugins will appear in the public marketplace at"," ",(0,a.jsx)("code",{className:"bg-gray-100 px-1 rounded",children:"/claude-code/marketplace.json"}),"."]}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(r.$,{onClick:()=>{y&&A(null),d(!0)},disabled:!e||!b,children:"+ Add New Plugin"})})]}),y?(0,a.jsx)(q,{pluginId:y,onClose:()=>A(null),accessToken:e,isAdmin:b,onPluginUpdated:N}):(0,a.jsx)(L,{pluginsList:l,isLoading:m,onDeleteClick:(e,s)=>{j({name:e,displayName:s})},accessToken:e,onPluginUpdated:N,isAdmin:b,onPluginClick:e=>A(e)}),(0,a.jsx)(p,{visible:c,onClose:()=>{d(!1)},accessToken:e,onSuccess:()=>{N()}}),g&&(0,a.jsxs)(i.A,{title:"Delete Plugin",open:null!==g,onOk:f,onCancel:()=>{j(null)},confirmLoading:h,okText:"Delete",okButtonProps:{danger:!0},children:[(0,a.jsxs)("p",{children:["Are you sure you want to delete plugin:"," ",(0,a.jsx)("strong",{children:g.displayName}),"?"]}),(0,a.jsx)("p",{children:"This action cannot be undone."})]})]})}}}]);