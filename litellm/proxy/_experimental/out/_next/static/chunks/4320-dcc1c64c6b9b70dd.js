"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4320],{11072:(e,a,s)=>{s.d(a,{A:()=>u});var t=s(95155),r=s(26708),l=s(90078),n=s(28436),i=s(42696);let o=(0,l.D)("mcpAccessGroups");var c=s(37138),d=s(23060);s(12115);let u=({onChange:e,value:a,className:s,accessToken:l,placeholder:u="Select MCP servers",disabled:m=!1})=>{let{data:g=[],isLoading:p}=(0,c.g)(),{data:x=[],isLoading:h}=(()=>{let{accessToken:e}=(0,i.A)();return(0,r.I)({queryKey:o.list({}),queryFn:async()=>await (0,n.fetchMCPAccessGroups)(e),enabled:!!e})})(),y=[...x.map(e=>({label:e,value:e,isAccessGroup:!0,searchText:`${e} Access Group`})),...g.map(e=>({label:`${e.server_name||e.server_id} (${e.server_id})`,value:e.server_id,isAccessGroup:!1,searchText:`${e.server_name||e.server_id} ${e.server_id} MCP Server`}))],_=[...a?.servers||[],...a?.accessGroups||[]];return(0,t.jsx)("div",{children:(0,t.jsx)(d.A,{mode:"multiple",placeholder:u,onChange:a=>{e({servers:a.filter(e=>!x.includes(e)),accessGroups:a.filter(e=>x.includes(e))})},value:_,loading:p||h,className:s,allowClear:!0,showSearch:!0,style:{width:"100%"},disabled:m,filterOption:(e,a)=>(y.find(e=>e.value===a?.value)?.searchText||"").toLowerCase().includes(e.toLowerCase()),children:y.map(e=>(0,t.jsx)(d.A.Option,{value:e.value,label:e.label,children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:e.isAccessGroup?"#52c41a":"#1890ff",flexShrink:0}}),(0,t.jsx)("span",{style:{flex:1},children:e.label}),(0,t.jsx)("span",{style:{color:e.isAccessGroup?"#52c41a":"#1890ff",fontSize:"12px",fontWeight:500,opacity:.8},children:e.isAccessGroup?"Access Group":"MCP Server"})]})},e.value))})})}},13506:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(95155),r=s(12115),l=s(23060),n=s(28436);let i=({onChange:e,value:a,className:s,accessToken:i,placeholder:o="Select pass through routes",disabled:c=!1,teamId:d})=>{let[u,m]=(0,r.useState)([]),[g,p]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(i){p(!0);try{let e=await (0,n.getPassThroughEndpointsCall)(i,d);if(e.endpoints){let a=e.endpoints.flatMap(e=>{let a=e.path,s=e.methods;return s&&s.length>0?s.map(e=>({label:`${e} ${a}`,value:a})):[{label:a,value:a}]});m(a)}}catch(e){console.error("Error fetching pass through routes:",e)}finally{p(!1)}}})()},[i,d]),(0,t.jsx)(l.A,{mode:"tags",placeholder:o,onChange:e,value:a,loading:g,className:s,allowClear:!0,options:u,optionFilterProp:"label",showSearch:!0,style:{width:"100%"},disabled:c})}},14290:(e,a,s)=>{s.d(a,{LanguageProvider:()=>o,o:()=>c});var t=s(95155),r=s(12115);let l="zh-CN";var n=s(63847);let i=(0,r.createContext)(void 0),o=({children:e})=>{let[a,s]=(0,r.useState)(l),[o,c]=(0,r.useState)(()=>(0,n.W)(l)),[d]=(0,r.useState)(()=>(0,n.W)("en-US"));return(0,r.useEffect)(()=>{c((0,n.W)(a))},[a]),(0,t.jsx)(i.Provider,{value:{locale:a,setLocale:e=>{s(l)},t:e=>{let a=a=>{let s=e.split("."),t=a;for(let e of s)if(!t||"object"!=typeof t||!(e in t))return null;else t=t[e];return"string"==typeof t?t:null},s=a(o);if(s)return s;let t=a(d);return t||e}},children:e})},c=()=>{let e=(0,r.useContext)(i);if(!e)throw Error("useLanguage must be used within a LanguageProvider");return e}},21796:(e,a,s)=>{s.d(a,{E:()=>t.A});var t=s(75892)},22603:(e,a,s)=>{s.d(a,{Q:()=>r});var t=s(28436);let r=async e=>{try{let a=await (0,t.modelHubCall)(e);if(console.log("model_info:",a),a?.data.length>0){let e=a.data.map(e=>({model_group:e.model_group,mode:e?.mode}));return e.sort((e,a)=>e.model_group.localeCompare(a.model_group)),e}return[]}catch(e){throw console.error("Error fetching model info:",e),e}}},25707:(e,a,s)=>{s.d(a,{A:()=>u});var t=s(95155),r=s(12115),l=s(28436),n=s(21796),i=s(95049),o=s(61484),c=s(33210),d=s(37138);let u=({accessToken:e,selectedServers:a,toolPermissions:s,onChange:u,disabled:m=!1})=>{let{data:g=[]}=(0,d.g)(),[p,x]=(0,r.useState)({}),[h,y]=(0,r.useState)({}),[_,v]=(0,r.useState)({}),f=(0,r.useMemo)(()=>0===a.length?[]:g.filter(e=>a.includes(e.server_id)),[g,a]),b=async a=>{y(e=>({...e,[a]:!0})),v(e=>({...e,[a]:""}));try{let s=await (0,l.listMCPTools)(e,a);s.error?(v(e=>({...e,[a]:s.message||"Failed to fetch tools"})),x(e=>({...e,[a]:[]}))):x(e=>({...e,[a]:s.tools||[]}))}catch(e){console.error(`Error fetching tools for server ${a}:`,e),v(e=>({...e,[a]:"Failed to fetch tools"})),x(e=>({...e,[a]:[]}))}finally{y(e=>({...e,[a]:!1}))}};return((0,r.useEffect)(()=>{f.forEach(e=>{p[e.server_id]||h[e.server_id]||b(e.server_id)})},[f]),0===a.length)?null:(0,t.jsx)("div",{className:"space-y-4",children:f.map(e=>{let a=e.server_name||e.alias||e.server_id,r=p[e.server_id]||[],l=s[e.server_id]||[],d=h[e.server_id],g=_[e.server_id];return(0,t.jsxs)("div",{className:"border rounded-lg bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-white rounded-t-lg",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(n.E,{className:"font-semibold text-gray-900",children:a}),e.description&&(0,t.jsx)(n.E,{className:"text-sm text-gray-500",children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>{var a;let t;return t=p[a=e.server_id]||[],void u({...s,[a]:t.map(e=>e.name)})},disabled:m||d,children:"Select All"}),(0,t.jsx)("button",{type:"button",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",onClick:()=>{var a;return a=e.server_id,void u({...s,[a]:[]})},disabled:m||d,children:"Deselect All"}),(0,t.jsx)("button",{type:"button",className:"text-gray-400 hover:text-gray-600",onClick:()=>{},children:(0,t.jsx)(c.A,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)(n.E,{className:"text-sm font-medium text-gray-700 mb-3",children:"Available Tools"}),d&&(0,t.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,t.jsx)(i.A,{size:"large"}),(0,t.jsx)(n.E,{className:"ml-3 text-gray-500",children:"Loading tools..."})]}),g&&!d&&(0,t.jsxs)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-center",children:[(0,t.jsx)(n.E,{className:"text-red-600 font-medium",children:"Unable to load tools"}),(0,t.jsx)(n.E,{className:"text-sm text-red-500 mt-1",children:g})]}),!d&&!g&&r.length>0&&(0,t.jsx)("div",{className:"space-y-2",children:r.map(a=>{let r=l.includes(a.name);return(0,t.jsxs)("div",{className:"flex items-start gap-2",children:[(0,t.jsx)(o.A,{checked:r,onChange:()=>{var t,r;let l,n;return t=e.server_id,r=a.name,n=(l=s[t]||[]).includes(r)?l.filter(e=>e!==r):[...l,r],void u({...s,[t]:n})},disabled:m}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(n.E,{className:"font-medium text-gray-900",children:a.name}),(0,t.jsxs)(n.E,{className:"text-sm text-gray-500",children:["- ",a.description||"No description"]})]})})]},a.name)})}),!d&&!g&&0===r.length&&(0,t.jsx)("div",{className:"text-center py-6",children:(0,t.jsx)(n.E,{className:"text-gray-500",children:"No tools available"})})]})]},e.server_id)})})}},37138:(e,a,s)=>{s.d(a,{g:()=>o});var t=s(26708),r=s(90078),l=s(28436),n=s(42696);let i=(0,r.D)("mcpServers"),o=()=>{let{accessToken:e}=(0,n.A)();return(0,t.I)({queryKey:i.list({}),queryFn:async()=>await (0,l.fetchMCPServers)(e),enabled:!!e})}},42025:(e,a,s)=>{s.d(a,{A:()=>c});var t=s(95155);s(12115);var r=s(8536),l=s(23060),n=s(5533),i=s(21796),o=s(94982);let c=({value:e,onChange:a,placeholder:s="Select access groups",disabled:c=!1,style:d,className:u,showLabel:m=!1,labelText:g="Access Group",allowClear:p=!0})=>{let{data:x,isLoading:h,isError:y}=(0,o.o)();if(h)return(0,t.jsxs)("div",{children:[m&&(0,t.jsxs)(i.E,{className:"font-medium block mb-2 text-gray-700 flex items-center",children:[(0,t.jsx)(n.A,{className:"mr-2"})," ",g]}),(0,t.jsx)(r.A.Input,{active:!0,block:!0,style:{height:32,...d}})]});let _=(x??[]).map(e=>({label:(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"font-medium",children:e.access_group_name})," ",(0,t.jsxs)("span",{className:"text-gray-400 text-xs",children:["(",e.access_group_id,")"]})]}),value:e.access_group_id,selectedLabel:e.access_group_name,searchText:`${e.access_group_name} ${e.access_group_id}`}));return(0,t.jsxs)("div",{children:[m&&(0,t.jsxs)(i.E,{className:"font-medium block mb-2 text-gray-700 flex items-center",children:[(0,t.jsx)(n.A,{className:"mr-2"})," ",g]}),(0,t.jsx)(l.A,{mode:"multiple",value:e,placeholder:s,onChange:a,disabled:c,allowClear:p,showSearch:!0,style:{width:"100%",...d},className:`rounded-md ${u??""}`,notFoundContent:y?(0,t.jsx)("span",{className:"text-red-500",children:"Failed to load access groups"}):"No access groups found",filterOption:(e,a)=>(_.find(e=>e.value===a?.value)?.searchText??"").toLowerCase().includes(e.toLowerCase()),optionLabelProp:"selectedLabel",options:_.map(e=>({label:e.label,value:e.value,selectedLabel:e.selectedLabel}))})]})}},42696:(e,a,s)=>{s.d(a,{A:()=>c});var t=s(28436),r=s(12352),l=s(97035),n=s(73321),i=s(12115),o=s(64394);let c=()=>{let e=(0,n.useRouter)(),{data:a,isLoading:s}=(0,o._)(),c="u">typeof document?(0,r.R)("token"):null,d=(0,i.useMemo)(()=>(0,l.oL)(c),[c]),u=(0,i.useMemo)(()=>(0,l.eP)(c),[c])&&!a?.admin_ui_disabled;return(0,i.useEffect)(()=>{!s&&(u||(c&&(0,r.E)(),e.replace(`${(0,t.getProxyBaseUrl)()}/ui/login`)))},[s,u,c,e]),{isLoading:s,isAuthorized:u,token:u?c:null,accessToken:d?.key??null,userId:d?.user_id??null,userEmail:d?.user_email??null,userRole:function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(d?.user_role),premiumUser:d?.premium_user??null,disabledPersonalKeyCreation:d?.disabled_non_admin_personal_key_creation??null,showSSOBanner:d?.login_method==="username_password"}}},46428:(e,a,s)=>{s.d(a,{G7:()=>l,Zv:()=>n,wX:()=>i,xZ:()=>o,zQ:()=>c});let t="../ui/assets/logos/",r=[{id:"arize",displayName:"Arize",logo:`${t}arize.png`,supports_key_team_logging:!0,dynamic_params:{arize_api_key:"password",arize_space_id:"password"},description:"Arize Logging Integration"},{id:"braintrust",displayName:"Braintrust",logo:`${t}braintrust.png`,supports_key_team_logging:!1,dynamic_params:{braintrust_api_key:"password",braintrust_project_name:"text"},description:"Braintrust Logging Integration"},{id:"custom_callback_api",displayName:"Custom Callback API",logo:`${t}custom.svg`,supports_key_team_logging:!0,dynamic_params:{custom_callback_api_url:"text",custom_callback_api_headers:"text"},description:"Custom Callback API Logging Integration"},{id:"datadog",displayName:"Datadog",logo:`${t}datadog.png`,supports_key_team_logging:!1,dynamic_params:{dd_api_key:"password",dd_site:"text"},description:"Datadog Logging Integration"},{id:"lago",displayName:"Lago",logo:`${t}lago.svg`,supports_key_team_logging:!1,dynamic_params:{lago_api_url:"text",lago_api_key:"password"},description:"Lago Billing Logging Integration"},{id:"langfuse",displayName:"Langfuse",logo:`${t}langfuse.png`,supports_key_team_logging:!0,dynamic_params:{langfuse_public_key:"text",langfuse_secret_key:"password",langfuse_host:"text"},description:"Langfuse v2 Logging Integration"},{id:"langfuse_otel",displayName:"Langfuse OTEL",logo:`${t}langfuse.png`,supports_key_team_logging:!0,dynamic_params:{langfuse_public_key:"text",langfuse_secret_key:"password",langfuse_host:"text"},description:"Langfuse v3 OTEL Logging Integration"},{id:"langsmith",displayName:"LangSmith",logo:`${t}langsmith.png`,supports_key_team_logging:!0,dynamic_params:{langsmith_api_key:"password",langsmith_project:"text",langsmith_base_url:"text",langsmith_sampling_rate:"number"},description:"Langsmith Logging Integration"},{id:"openmeter",displayName:"OpenMeter",logo:`${t}openmeter.png`,supports_key_team_logging:!1,dynamic_params:{openmeter_api_key:"password",openmeter_base_url:"text"},description:"OpenMeter Logging Integration"},{id:"otel",displayName:"Open Telemetry",logo:`${t}otel.png`,supports_key_team_logging:!1,dynamic_params:{otel_endpoint:"text",otel_headers:"text"},description:"OpenTelemetry Logging Integration"},{id:"s3",displayName:"S3",logo:`${t}aws.svg`,supports_key_team_logging:!1,dynamic_params:{s3_bucket_name:"text",aws_access_key_id:"password",aws_secret_access_key:"password",aws_region:"text"},description:"S3 Bucket (AWS) Logging Integration"},{id:"SQS",displayName:"SQS",logo:`${t}aws.svg`,supports_key_team_logging:!1,dynamic_params:{sqs_queue_url:"text",aws_access_key_id:"password",aws_secret_access_key:"password",aws_region:"text"},description:"SQS Queue (AWS) Logging Integration"}],l=r.reduce((e,a)=>(e[a.displayName]=a,e),{}),n=r.reduce((e,a)=>(e[a.displayName]=a.id,e),{}),i=r.reduce((e,a)=>(e[a.id]=a.displayName,e),{}),o=e=>e.map(e=>n[e]||e),c=e=>e.map(e=>i[e]||e)},53800:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(95155),r=s(12115),l=s(23060),n=s(28436);let i=({onChange:e,value:a,className:s,accessToken:i,placeholder:o="Select agents",disabled:c=!1})=>{let[d,u]=(0,r.useState)([]),[m,g]=(0,r.useState)([]),[p,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(i){x(!0);try{let e=await (0,n.getAgentsList)(i),a=e?.agents||[];u(a);let s=new Set;a.forEach(e=>{let a=e.agent_access_groups;a&&Array.isArray(a)&&a.forEach(e=>s.add(e))}),g(Array.from(s))}catch(e){console.error("Error fetching agents:",e)}finally{x(!1)}}})()},[i]);let h=[...m.map(e=>({label:e,value:`group:${e}`,isAccessGroup:!0,searchText:`${e} Access Group`})),...d.map(e=>({label:`${e.agent_name||e.agent_id}`,value:e.agent_id,isAccessGroup:!1,searchText:`${e.agent_name||e.agent_id} ${e.agent_id} Agent`}))],y=[...a?.agents||[],...(a?.accessGroups||[]).map(e=>`group:${e}`)];return(0,t.jsx)("div",{children:(0,t.jsx)(l.A,{mode:"multiple",placeholder:o,onChange:a=>{e({agents:a.filter(e=>!e.startsWith("group:")),accessGroups:a.filter(e=>e.startsWith("group:")).map(e=>e.replace("group:",""))})},value:y,loading:p,className:s,allowClear:!0,showSearch:!0,style:{width:"100%"},disabled:c,filterOption:(e,a)=>(h.find(e=>e.value===a?.value)?.searchText||"").toLowerCase().includes(e.toLowerCase()),children:h.map(e=>(0,t.jsx)(l.A.Option,{value:e.value,label:e.label,children:(0,t.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[(0,t.jsx)("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:e.isAccessGroup?"#52c41a":"#722ed1",flexShrink:0}}),(0,t.jsx)("span",{style:{flex:1},children:e.label}),(0,t.jsx)("span",{style:{color:e.isAccessGroup?"#52c41a":"#722ed1",fontSize:"12px",fontWeight:500,opacity:.8},children:e.isAccessGroup?"Access Group":"Agent"})]})},e.value))})})}},58337:(e,a,s)=>{s.d(a,{E:()=>t.A,k:()=>r.A});var t=s(75892),r=s(34487)},64601:(e,a,s)=>{s.d(a,{$L:()=>l,ME:()=>r,wK:()=>n});var t=s(28436);let r=async(e,a,s)=>{try{if(null===e||null===a)return;if(null!==s){let r=(await (0,t.modelAvailableCall)(s,e,a,!0,null,!0)).data.map(e=>e.id),l=[],n=[];return r.forEach(e=>{e.endsWith("/*")?l.push(e):n.push(e)}),[...l,...n]}}catch(e){console.error("Error fetching user models:",e)}},l=e=>{if("all-proxy-models"===e)return"All Proxy Models";if(e.endsWith("/*")){let a=e.replace("/*","");return`All ${a} models`}return e},n=(e,a)=>{let s=[],t=[];return console.log("teamModels",e),console.log("allModels",a),e.forEach(e=>{if(e.endsWith("/*")){let r=e.replace("/*",""),l=a.filter(e=>e.startsWith(r+"/"));t.push(...l),s.push(e)}else t.push(e)}),[...s,...t].filter((e,a,s)=>s.indexOf(e)===a)}},66904:(e,a,s)=>{s.d(a,{A:()=>l});var t=s(95155);s(12115);var r=s(60124);let l=({step:e=.01,style:a={width:"100%"},placeholder:s="Enter a numerical value",min:l,max:n,onChange:i,...o})=>(0,t.jsx)(r.A,{onWheel:e=>e.currentTarget.blur(),step:e,style:a,placeholder:s,min:l,max:n,onChange:i,...o})},66927:(e,a,s)=>{s.d(a,{A:()=>i});var t=s(95155),r=s(12115),l=s(23060),n=s(28436);let i=({onChange:e,value:a,className:s,accessToken:i,placeholder:o="Select vector stores",disabled:c=!1})=>{let[d,u]=(0,r.useState)([]),[m,g]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(i){g(!0);try{let e=await (0,n.vectorStoreListCall)(i);e.data&&u(e.data)}catch(e){console.error("Error fetching vector stores:",e)}finally{g(!1)}}})()},[i]),(0,t.jsx)("div",{children:(0,t.jsx)(l.A,{mode:"multiple",placeholder:o,onChange:e,value:a,loading:m,className:s,allowClear:!0,options:d.map(e=>({label:`${e.vector_store_name||e.vector_store_id} (${e.vector_store_id})`,value:e.vector_store_id,title:e.vector_store_description||e.vector_store_id})),optionFilterProp:"label",showSearch:!0,style:{width:"100%"},disabled:c})})}},69975:(e,a,s)=>{s.d(a,{A:()=>v});var t=s(95155);s(12115);var r=s(23060),l=s(22277),n=s(7339),i=s(94300),o=s(38983),c=s(42837),d=s(34487),u=s(34671),m=s(4853),g=s(61356),p=s(45588),x=s(14290),h=s(46428),y=s(66904);let{Option:_}=r.A,v=({value:e=[],onChange:a,disabledCallbacks:s=[],onDisabledCallbacksChange:v})=>{let{t:f}=(0,x.o)(),b=Object.entries(h.G7).filter(([e,a])=>a.supports_key_team_logging).map(([e,a])=>e),j=Object.keys(h.G7),w=e=>{a?.(e)},N=(a,s,t)=>{let r=[...e];if("callback_name"===s){let e=h.Zv[t]||t;r[a]={...r[a],[s]:e,callback_vars:{}}}else r[a]={...r[a],[s]:t};w(r)},A=(a,s,t)=>{let r=[...e];r[a]={...r[a],callback_vars:{...r[a].callback_vars,[s]:t}},w(r)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(u.A,{className:"w-5 h-5 text-red-500"}),(0,t.jsx)("span",{className:"text-base font-semibold text-gray-800",children:f("keyDetail.disabledCallbacks.title")}),(0,t.jsx)(l.A,{title:f("keyDetail.disabledCallbacks.tooltip"),children:(0,t.jsx)(i.A,{className:"text-gray-400 cursor-help"})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:f("keyDetail.disabledCallbacks.label")}),(0,t.jsx)(r.A,{mode:"multiple",placeholder:f("keyDetail.disabledCallbacks.placeholder"),value:s,onChange:e=>{let a=(0,h.xZ)(e);v?.(a)},style:{width:"100%"},optionLabelProp:"label",children:j.map(e=>{let a=h.G7[e]?.logo,s=h.G7[e]?.description;return(0,t.jsx)(_,{value:e,label:e,children:(0,t.jsx)(l.A,{title:s,placement:"right",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[a&&(0,t.jsx)("img",{src:a,alt:e,className:"w-4 h-4 object-contain",onError:a=>{let s=a.target,t=s.parentElement;if(t){let a=document.createElement("div");a.className="w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-xs",a.textContent=e.charAt(0),t.replaceChild(a,s)}}}),(0,t.jsx)("span",{children:e})]})})},e)})}),(0,t.jsx)("div",{className:"text-xs text-gray-500",children:f("keyDetail.disabledCallbacks.helpText")})]})]}),(0,t.jsx)(n.A,{}),(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.A,{className:"w-5 h-5 text-blue-500"}),(0,t.jsx)("span",{className:"text-base font-semibold text-gray-800",children:f("keyDetail.loggingIntegrations.title")}),(0,t.jsx)(l.A,{title:f("keyDetail.loggingIntegrations.tooltip"),children:(0,t.jsx)(i.A,{className:"text-gray-400 cursor-help"})})]}),(0,t.jsx)(o.A,{variant:"secondary",onClick:()=>{w([...e,{callback_name:"",callback_type:"success",callback_vars:{}}])},icon:g.A,size:"sm",className:"hover:border-blue-400 hover:text-blue-500",type:"button",children:f("keyDetail.loggingIntegrations.addIntegration")})]}),(0,t.jsx)("div",{className:"space-y-4",children:e.map((a,s)=>{let n=a.callback_name?Object.entries(h.Zv).find(([e,s])=>s===a.callback_name)?.[0]:void 0,u=n?h.G7[n]?.logo:null;return(0,t.jsxs)(c.A,{className:"border border-gray-200 shadow-sm hover:shadow-md transition-shadow duration-200",decoration:"top",decorationColor:"blue",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[u&&(0,t.jsx)("img",{src:u,alt:n,className:"w-5 h-5 object-contain"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[n||f("keyDetail.loggingIntegrations.newIntegration")," ",f("keyDetail.loggingIntegrations.configuration")]})]}),(0,t.jsx)(o.A,{variant:"light",onClick:()=>{w(e.filter((e,a)=>a!==s))},icon:p.A,size:"xs",color:"red",className:"hover:bg-red-50",type:"button",children:f("keyDetail.loggingIntegrations.remove")})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:f("keyDetail.loggingIntegrations.integrationType")}),(0,t.jsx)(r.A,{value:n,placeholder:f("keyDetail.loggingIntegrations.selectIntegration"),onChange:e=>N(s,"callback_name",e),className:"w-full",optionLabelProp:"label",children:b.map(e=>{let a=h.G7[e]?.logo,s=h.G7[e]?.description;return(0,t.jsx)(_,{value:e,label:e,children:(0,t.jsx)(l.A,{title:s,placement:"right",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[a&&(0,t.jsx)("img",{src:a,alt:e,className:"w-4 h-4 object-contain",onError:a=>{let s=a.target,t=s.parentElement;if(t){let a=document.createElement("div");a.className="w-4 h-4 rounded-full bg-gray-200 flex items-center justify-center text-xs",a.textContent=e.charAt(0),t.replaceChild(a,s)}}}),(0,t.jsx)("span",{children:e})]})})},e)})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("label",{className:"text-sm font-medium text-gray-700",children:f("keyDetail.loggingIntegrations.eventType")}),(0,t.jsxs)(r.A,{value:a.callback_type,onChange:e=>N(s,"callback_type",e),className:"w-full",children:[(0,t.jsx)(_,{value:"success",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,t.jsx)("span",{children:f("keyDetail.loggingIntegrations.successOnly")})]})}),(0,t.jsx)(_,{value:"failure",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),(0,t.jsx)("span",{children:f("keyDetail.loggingIntegrations.failureOnly")})]})}),(0,t.jsx)(_,{value:"success_and_failure",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,t.jsx)("span",{children:f("keyDetail.loggingIntegrations.successAndFailure")})]})})]})]})]}),((e,a)=>{if(!e.callback_name)return null;let s=Object.entries(h.Zv).find(([a,s])=>s===e.callback_name)?.[0];if(!s)return null;let r=h.G7[s]?.dynamic_params||{};return 0===Object.keys(r).length?null:(0,t.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-100",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-4",children:[(0,t.jsx)("div",{className:"w-3 h-3 bg-blue-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-700",children:f("keyDetail.loggingIntegrations.integrationParameters")})]}),(0,t.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object.entries(r).map(([s,r])=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("label",{className:"text-sm font-medium text-gray-700 capitalize flex items-center space-x-1",children:[(0,t.jsx)("span",{children:s.replace(/_/g," ")}),(0,t.jsx)(l.A,{title:`Environment variable reference recommended: os.environ/${s.toUpperCase()}`,children:(0,t.jsx)(i.A,{className:"text-gray-400 cursor-help text-xs"})}),"password"===r&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:f("keyDetail.loggingIntegrations.sensitive")}),"number"===r&&(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-yellow-100 text-yellow-800",children:f("keyDetail.loggingIntegrations.number")})]}),"number"===r&&(0,t.jsx)("span",{className:"text-xs text-gray-500",children:f("keyDetail.loggingIntegrations.valueRange")}),"number"===r?(0,t.jsx)(y.A,{step:.01,width:400,placeholder:`os.environ/${s.toUpperCase()}`,value:e.callback_vars[s]||"",onChange:e=>A(a,s,e.target.value)}):(0,t.jsx)(d.A,{type:"password"===r?"password":"text",placeholder:`os.environ/${s.toUpperCase()}`,value:e.callback_vars[s]||"",onChange:e=>A(a,s,e.target.value)})]},s))})]})})(a,s)]})]},s)})}),0===e.length&&(0,t.jsxs)("div",{className:"text-center py-12 text-gray-500 border-2 border-dashed border-gray-200 rounded-lg bg-gray-50/50",children:[(0,t.jsx)(m.A,{className:"w-12 h-12 text-gray-300 mb-3 mx-auto"}),(0,t.jsx)("div",{className:"text-base font-medium mb-1",children:f("keyDetail.loggingIntegrations.noIntegrationsConfigured")}),(0,t.jsx)("div",{className:"text-sm text-gray-400",children:f("keyDetail.loggingIntegrations.addIntegrationPrompt")})]})]})}},78211:(e,a,s)=>{s.d(a,{BF:()=>l.A,EY:()=>d.A,Hj:()=>c.A,M_:()=>o.A,XI:()=>r.A,Zp:()=>t.A,hE:()=>u.A,nA:()=>n.A,nd:()=>i.A});var t=s(42837),r=s(30489),l=s(96961),n=s(95517),i=s(8179),o=s(31556),c=s(95171),d=s(75892),u=s(64628)},88534:(e,a,s)=>{s.d(a,{$b:()=>r,HY:()=>l,ee:()=>n,lW:()=>i});var t=s(12120);function r(e,a){let s=structuredClone(e);for(let[e,t]of Object.entries(a))e in s&&(s[e]=t);return s}let l=(e,a=0,s=!1,t=!0)=>{if(null==e||!Number.isFinite(e)||0===e&&!t)return"-";let r={minimumFractionDigits:a,maximumFractionDigits:a};if(!s)return e.toLocaleString("en-US",r);let l=e<0?"-":"",n=Math.abs(e),i=n,o="";return n>=1e6?(i=n/1e6,o="M"):n>=1e3&&(i=n/1e3,o="K"),`${l}${i.toLocaleString("en-US",r)}${o}`},n=(e,a=6)=>{if(null==e||!Number.isFinite(e)||0===e)return"-";let s=l(e,a,!1,!1);if(0===Number(s.replace(/,/g,""))){let e=(1/10**a).toFixed(a);return`< \xa5${e}`}return`\xa5${s}`},i=async(e,a="Copied to clipboard")=>{if(!e)return!1;if(!navigator||!navigator.clipboard||!navigator.clipboard.writeText)return o(e,a);try{return await navigator.clipboard.writeText(e),t.Ay.success(a),!0}catch(s){return console.error("Clipboard API failed: ",s),o(e,a)}},o=(e,a)=>{try{let s=document.createElement("textarea");s.value=e,s.style.position="fixed",s.style.left="-999999px",s.style.top="-999999px",s.setAttribute("readonly",""),document.body.appendChild(s),s.focus(),s.select();let r=document.execCommand("copy");if(document.body.removeChild(s),r)return t.Ay.success(a),!0;throw Error("execCommand failed")}catch(e){return t.Ay.fromBackend("Failed to copy to clipboard"),console.error("Failed to copy: ",e),!1}}},90550:(e,a,s)=>{s.d(a,{CX:()=>t,FJ:()=>l,G9:()=>i,OY:()=>n,UX:()=>r,WU:()=>c,a8:()=>o});let t=["Admin","Admin Viewer","proxy_admin","proxy_admin_viewer","org_admin"],r=["Internal User","Internal Viewer"],l=["Internal User","Admin","proxy_admin"],n=e=>t.includes(e),i=e=>"proxy_admin"===e||"Admin"===e,o=(e,a)=>null!=e&&e.some(e=>c(e.members_with_roles,a)),c=(e,a)=>null!=e&&e.some(e=>e.user_id===a&&"admin"===e.role)},94982:(e,a,s)=>{s.d(a,{M:()=>o,o:()=>d});var t=s(26708),r=s(90078),l=s(28436),n=s(90550),i=s(42696);let o=(0,r.D)("accessGroups"),c=async e=>{let a=(0,l.getProxyBaseUrl)(),s=`${a}/v1/access_group`,t=await fetch(s,{method:"GET",headers:{[(0,l.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"}});if(!t.ok){let e=await t.json(),a=(0,l.deriveErrorMessage)(e);throw(0,l.handleError)(a),Error(a)}return t.json()},d=()=>{let{accessToken:e,userRole:a}=(0,i.A)();return(0,t.I)({queryKey:o.list({}),queryFn:async()=>c(e),enabled:!!e&&n.CX.includes(a||"")})}},97035:(e,a,s)=>{s.d(a,{eP:()=>n,oL:()=>l,xP:()=>r});var t=s(19253);function r(e){try{let a=(0,t.s)(e);if(a&&"number"==typeof a.exp)return 1e3*a.exp<=Date.now();return!1}catch{return!0}}function l(e){if(!e)return null;try{return(0,t.s)(e)}catch{return null}}function n(e){return!!e&&null!==l(e)&&!r(e)}}}]);