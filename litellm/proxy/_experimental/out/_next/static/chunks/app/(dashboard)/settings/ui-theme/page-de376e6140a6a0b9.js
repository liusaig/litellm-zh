(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1169],{7057:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var o=t(95155),a=t(35222),n=t(42696);let l=()=>{let{userId:e,userRole:r,accessToken:t}=(0,n.A)();return(0,o.jsx)(a.A,{userID:e,userRole:r,accessToken:t})}},23745:(e,r,t)=>{"use strict";t.d(r,{$n:()=>o.A,EY:()=>n.A,Zp:()=>a.A,hE:()=>s.A,ks:()=>l.A});var o=t(38983),a=t(42837),n=t(75892),l=t(34487),s=t(64628)},35222:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var o=t(95155),a=t(12115),n=t(23745),l=t(89270),s=t(75266),i=t(28436),d=t(12120);let c=({userID:e,userRole:r,accessToken:t})=>{let{logoUrl:c,setLogoUrl:u,faviconUrl:m,setFaviconUrl:h}=(0,l.D)(),[g,p]=(0,a.useState)(""),[x,f]=(0,a.useState)(""),[b,v]=(0,a.useState)(!1);(0,a.useEffect)(()=>{t&&k()},[t]);let k=async()=>{try{let e=(0,i.getProxyBaseUrl)(),r=e?`${e}/get/ui_theme_settings`:"/get/ui_theme_settings",o=await fetch(r,{method:"GET",headers:{[(0,i.getGlobalLitellmHeaderName)()]:`Bearer ${t}`,"Content-Type":"application/json"}});if(o.ok){let e=await o.json();p(e.values?.logo_url||""),f(e.values?.favicon_url||""),u(e.values?.logo_url||null),h(e.values?.favicon_url||null)}}catch(e){console.error("Error fetching theme settings:",e)}},y=async()=>{v(!0);try{let e=(0,i.getProxyBaseUrl)(),r=e?`${e}/update/ui_theme_settings`:"/update/ui_theme_settings";if((await fetch(r,{method:"PATCH",headers:{[(0,i.getGlobalLitellmHeaderName)()]:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({logo_url:g||null,favicon_url:x||null})})).ok)d.Ay.success("Theme settings updated successfully!"),u(g||null),h(x||null);else throw Error("Failed to update settings")}catch(e){console.error("Error updating theme settings:",e),d.Ay.fromBackend("Failed to update theme settings")}finally{v(!1)}},C=async()=>{p(""),f(""),u(null),h(null),v(!0);try{let e=(0,i.getProxyBaseUrl)(),r=e?`${e}/update/ui_theme_settings`:"/update/ui_theme_settings";if((await fetch(r,{method:"PATCH",headers:{[(0,i.getGlobalLitellmHeaderName)()]:`Bearer ${t}`,"Content-Type":"application/json"},body:JSON.stringify({logo_url:null,favicon_url:null})})).ok)d.Ay.success("Theme settings reset to default!");else throw Error("Failed to reset")}catch(e){console.error("Error resetting theme settings:",e),d.Ay.fromBackend("Failed to reset theme settings")}finally{v(!1)}};return t?(0,o.jsxs)("div",{className:"w-full mx-auto max-w-4xl px-6 py-8",children:[(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)(n.hE,{className:"text-2xl font-bold mb-2",children:"UI Theme Customization"}),(0,o.jsx)(n.EY,{className:"text-gray-600",children:"Customize your Silinex admin dashboard with a custom logo and favicon."})]}),(0,o.jsx)(n.Zp,{className:"shadow-sm p-6",children:(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(n.EY,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Logo URL"}),(0,o.jsx)(n.ks,{placeholder:`https://example.com/logo.svg (default: ${s.Il})`,value:g,onValueChange:e=>{p(e),u(e||null)},className:"w-full"}),(0,o.jsx)(n.EY,{className:"text-xs text-gray-500 mt-1",children:"Enter a URL for your custom logo or leave empty for default"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(n.EY,{className:"text-sm font-medium text-gray-700 mb-2 block",children:"Custom Favicon URL"}),(0,o.jsx)(n.ks,{placeholder:"https://example.com/favicon.ico",value:x,onValueChange:e=>{f(e),h(e||null)},className:"w-full"}),(0,o.jsx)(n.EY,{className:"text-xs text-gray-500 mt-1",children:"Enter a URL for your custom favicon (.ico, .png, or .svg) or leave empty for default"})]}),(0,o.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,o.jsx)(n.$n,{onClick:y,loading:b,disabled:b,color:"indigo",children:"Save Changes"}),(0,o.jsx)(n.$n,{onClick:C,loading:b,disabled:b,variant:"secondary",color:"gray",children:"Reset to Default"})]})]})})]}):null}},38983:(e,r,t)=>{"use strict";t.d(r,{A:()=>v});var o=t(49303),a=t(44641),n=t(12115);let l=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],s=e=>({_s:e,status:l[e],isEnter:e<3,isMounted:6!==e,isResolved:2===e||e>4}),i=e=>e?6:5,d=(e,r,t,o,a)=>{clearTimeout(o.current);let n=s(e);r(n),t.current=n,a&&a({current:n})};var c=t(75565),u=t(30458),m=t(39237);let h=e=>{var r=(0,o.Tt)(e,[]);return n.createElement("svg",Object.assign({},r,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor"}),n.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),n.createElement("path",{d:"M18.364 5.636L16.95 7.05A7 7 0 1 0 19 12h2a9 9 0 1 1-2.636-6.364z"}))};var g=t(97413);let p={xs:{height:"h-4",width:"w-4"},sm:{height:"h-5",width:"w-5"},md:{height:"h-5",width:"w-5"},lg:{height:"h-6",width:"w-6"},xl:{height:"h-6",width:"w-6"}},x=(e,r)=>{switch(e){case"primary":return{textColor:r?(0,m.iv)("white").textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",hoverTextColor:r?(0,m.iv)("white").textColor:"text-tremor-brand-inverted dark:text-dark-tremor-brand-inverted",bgColor:r?(0,m.iv)(r,g.J.background).bgColor:"bg-tremor-brand dark:bg-dark-tremor-brand",hoverBgColor:r?(0,m.iv)(r,g.J.darkBackground).hoverBgColor:"hover:bg-tremor-brand-emphasis dark:hover:bg-dark-tremor-brand-emphasis",borderColor:r?(0,m.iv)(r,g.J.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand",hoverBorderColor:r?(0,m.iv)(r,g.J.darkBorder).hoverBorderColor:"hover:border-tremor-brand-emphasis dark:hover:border-dark-tremor-brand-emphasis"};case"secondary":return{textColor:r?(0,m.iv)(r,g.J.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",hoverTextColor:r?(0,m.iv)(r,g.J.text).textColor:"hover:text-tremor-brand-emphasis dark:hover:text-dark-tremor-brand-emphasis",bgColor:(0,m.iv)("transparent").bgColor,hoverBgColor:r?(0,u.b)((0,m.iv)(r,g.J.background).hoverBgColor,"hover:bg-opacity-20 dark:hover:bg-opacity-20"):"hover:bg-tremor-brand-faint dark:hover:bg-dark-tremor-brand-faint",borderColor:r?(0,m.iv)(r,g.J.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand"};case"light":return{textColor:r?(0,m.iv)(r,g.J.text).textColor:"text-tremor-brand dark:text-dark-tremor-brand",hoverTextColor:r?(0,m.iv)(r,g.J.darkText).hoverTextColor:"hover:text-tremor-brand-emphasis dark:hover:text-dark-tremor-brand-emphasis",bgColor:(0,m.iv)("transparent").bgColor,borderColor:"",hoverBorderColor:""}}},f=(0,m.St)("Button"),b=({loading:e,iconSize:r,iconPosition:t,Icon:o,needMargin:a,transitionStatus:l})=>{let s=a?t===c.fG.Left?(0,u.b)("-ml-1","mr-1.5"):(0,u.b)("-mr-1","ml-1.5"):"",i=(0,u.b)("w-0 h-0"),d={default:i,entering:i,entered:r,exiting:r,exited:i};return e?n.createElement(h,{className:(0,u.b)(f("icon"),"animate-spin shrink-0",s,d.default,d[l]),style:{transition:"width 150ms"}}):n.createElement(o,{className:(0,u.b)(f("icon"),"shrink-0",r,s)})},v=n.forwardRef((e,r)=>{let{icon:t,iconPosition:l=c.fG.Left,size:h=c.DN.SM,color:g,variant:v="primary",disabled:k,loading:y=!1,loadingText:C,children:w,tooltip:_,className:E}=e,N=(0,o.Tt)(e,["icon","iconPosition","size","color","variant","disabled","loading","loadingText","children","tooltip","className"]),T=y||k,S=void 0!==t||y,j=y&&C,B=!(!w&&!j),A=(0,u.b)(p[h].height,p[h].width),P="light"!==v?(0,u.b)("rounded-tremor-default border","shadow-tremor-input","dark:shadow-dark-tremor-input"):"",R=x(v,g),z=("light"!==v?{xs:{paddingX:"px-2.5",paddingY:"py-1.5",fontSize:"text-xs"},sm:{paddingX:"px-4",paddingY:"py-2",fontSize:"text-sm"},md:{paddingX:"px-4",paddingY:"py-2",fontSize:"text-md"},lg:{paddingX:"px-4",paddingY:"py-2.5",fontSize:"text-lg"},xl:{paddingX:"px-4",paddingY:"py-3",fontSize:"text-xl"}}:{xs:{paddingX:"",paddingY:"",fontSize:"text-xs"},sm:{paddingX:"",paddingY:"",fontSize:"text-sm"},md:{paddingX:"",paddingY:"",fontSize:"text-md"},lg:{paddingX:"",paddingY:"",fontSize:"text-lg"},xl:{paddingX:"",paddingY:"",fontSize:"text-xl"}})[h],{tooltipProps:L,getReferenceProps:Y}=(0,a.f)(300),[J,U]=(({enter:e=!0,exit:r=!0,preEnter:t,preExit:o,timeout:a,initialEntered:l,mountOnEnter:c,unmountOnExit:u,onStateChange:m}={})=>{let[h,g]=(0,n.useState)(()=>s(l?2:i(c))),p=(0,n.useRef)(h),x=(0,n.useRef)(0),[f,b]="object"==typeof a?[a.enter,a.exit]:[a,a],v=(0,n.useCallback)(()=>{let e=((e,r)=>{switch(e){case 1:case 0:return 2;case 4:case 3:return i(r)}})(p.current._s,u);e&&d(e,g,p,x,m)},[m,u]);return[h,(0,n.useCallback)(a=>{let n=e=>{switch(d(e,g,p,x,m),e){case 1:f>=0&&(x.current=((...e)=>setTimeout(...e))(v,f));break;case 4:b>=0&&(x.current=((...e)=>setTimeout(...e))(v,b));break;case 0:case 3:x.current=((...e)=>setTimeout(...e))(()=>{isNaN(document.body.offsetTop)||n(e+1)},0)}},l=p.current.isEnter;"boolean"!=typeof a&&(a=!l),a?l||n(e?+!t:2):l&&n(r?o?3:4:i(u))},[v,m,e,r,t,o,f,b,u]),v]})({timeout:50});return(0,n.useEffect)(()=>{U(y)},[y]),n.createElement("button",Object.assign({ref:(0,m.Px)([r,L.refs.setReference]),className:(0,u.b)(f("root"),"shrink-0 inline-flex justify-center items-center group font-medium outline-none",P,z.paddingX,z.paddingY,z.fontSize,R.textColor,R.bgColor,R.borderColor,R.hoverBorderColor,T?"opacity-50 cursor-not-allowed":(0,u.b)(x(v,g).hoverTextColor,x(v,g).hoverBgColor,x(v,g).hoverBorderColor),E),disabled:T},Y,N),n.createElement(a.A,Object.assign({text:_},L)),S&&l!==c.fG.Right?n.createElement(b,{loading:y,iconSize:A,iconPosition:l,Icon:t,transitionStatus:J.status,needMargin:B}):null,j||w?n.createElement("span",{className:(0,u.b)(f("text"),"text-tremor-default whitespace-nowrap")},j?C:w):null,S&&l===c.fG.Right?n.createElement(b,{loading:y,iconSize:A,iconPosition:l,Icon:t,transitionStatus:J.status,needMargin:B}):null)});v.displayName="Button"},42696:(e,r,t)=>{"use strict";t.d(r,{A:()=>d});var o=t(28436),a=t(12352),n=t(97035),l=t(73321),s=t(12115),i=t(64394);let d=()=>{let e=(0,l.useRouter)(),{data:r,isLoading:t}=(0,i._)(),d="u">typeof document?(0,a.R)("token"):null,c=(0,s.useMemo)(()=>(0,n.oL)(d),[d]),u=(0,s.useMemo)(()=>(0,n.eP)(d),[d])&&!r?.admin_ui_disabled;return(0,s.useEffect)(()=>{!t&&(u||(d&&(0,a.E)(),e.replace(`${(0,o.getProxyBaseUrl)()}/ui/login`)))},[t,u,d,e]),{isLoading:t,isAuthorized:u,token:u?d:null,accessToken:c?.key??null,userId:c?.user_id??null,userEmail:c?.user_email??null,userRole:function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(c?.user_role),premiumUser:c?.premium_user??null,disabledPersonalKeyCreation:c?.disabled_non_admin_personal_key_creation??null,showSSOBanner:c?.login_method==="username_password"}}},42837:(e,r,t)=>{"use strict";t.d(r,{A:()=>c});var o=t(49303),a=t(12115),n=t(75565),l=t(97413),s=t(30458),i=t(39237);let d=(0,i.St)("Card"),c=a.forwardRef((e,r)=>{let{decoration:t="",decorationColor:c,children:u,className:m}=e,h=(0,o.Tt)(e,["decoration","decorationColor","children","className"]);return a.createElement("div",Object.assign({ref:r,className:(0,s.b)(d("root"),"relative w-full text-left ring-1 rounded-tremor-default p-6","bg-tremor-background ring-tremor-ring shadow-tremor-card","dark:bg-dark-tremor-background dark:ring-dark-tremor-ring dark:shadow-dark-tremor-card",c?(0,i.iv)(c,l.J.border).borderColor:"border-tremor-brand dark:border-dark-tremor-brand",(e=>{if(!e)return"";switch(e){case n.fG.Left:return"border-l-4";case n.Hl.Top:return"border-t-4";case n.fG.Right:return"border-r-4";case n.Hl.Bottom:return"border-b-4";default:return""}})(t),m)},h),u)});c.displayName="Card"},64628:(e,r,t)=>{"use strict";t.d(r,{A:()=>i});var o=t(49303),a=t(97413),n=t(30458),l=t(39237),s=t(12115);let i=s.forwardRef((e,r)=>{let{color:t,children:i,className:d}=e,c=(0,o.Tt)(e,["color","children","className"]);return s.createElement("p",Object.assign({ref:r,className:(0,n.b)("font-medium text-tremor-title",t?(0,l.iv)(t,a.J.darkText).textColor:"text-tremor-content-strong dark:text-dark-tremor-content-strong",d)},c),i)});i.displayName="Title"},75266:(e,r,t)=>{"use strict";t.d(r,{Il:()=>o,ZB:()=>s,bP:()=>l,eD:()=>a});let o="/ui/assets/logos/silinex.png",a="/get_image",n=["@lobehub/icons-static-png","siliconcloud-color.png"],l=e=>!!e&&n.some(r=>e.includes(r)),s=e=>{if(!e)return!1;let r=e.trim().toLowerCase();return!!r.startsWith("data:image/svg+xml")||r.endsWith(".svg")||r.includes(".svg?")}},75892:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});var o=t(97413),a=t(30458),n=t(39237),l=t(12115);let s=l.forwardRef((e,r)=>{let{color:t,className:s,children:i}=e;return l.createElement("p",{ref:r,className:(0,a.b)("text-tremor-default",t?(0,n.iv)(t,o.J.text).textColor:(0,a.b)("text-tremor-content","dark:text-dark-tremor-content"),s)},i)});s.displayName="Text"},89270:(e,r,t)=>{"use strict";t.d(r,{D:()=>s,N:()=>i});var o=t(95155),a=t(12115),n=t(28436);let l=(0,a.createContext)(void 0),s=()=>{let e=(0,a.useContext)(l);if(!e)throw Error("useTheme must be used within a ThemeProvider");return e},i=({children:e,accessToken:r})=>{let[t,s]=(0,a.useState)(null),[i,d]=(0,a.useState)(null);return(0,a.useEffect)(()=>{(async()=>{try{let e=(0,n.getProxyBaseUrl)(),r=e?`${e}/get/ui_theme_settings`:"/get/ui_theme_settings",t=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){let e=await t.json();e.values?.logo_url&&s(e.values.logo_url),e.values?.favicon_url&&d(e.values.favicon_url)}}catch(e){console.warn("Failed to load theme settings from backend:",e)}})()},[]),(0,a.useEffect)(()=>{if(i){let e=document.querySelectorAll("link[rel*='icon']");if(e.length>0)e.forEach(e=>{e.href=i});else{let e=document.createElement("link");e.rel="icon",e.href=i,document.head.appendChild(e)}}},[i]),(0,o.jsx)(l.Provider,{value:{logoUrl:t,setLogoUrl:s,faviconUrl:i,setFaviconUrl:d},children:e})}},90012:(e,r,t)=>{Promise.resolve().then(t.bind(t,7057))},97035:(e,r,t)=>{"use strict";t.d(r,{eP:()=>l,oL:()=>n,xP:()=>a});var o=t(19253);function a(e){try{let r=(0,o.s)(e);if(r&&"number"==typeof r.exp)return 1e3*r.exp<=Date.now();return!1}catch{return!0}}function n(e){if(!e)return null;try{return(0,o.s)(e)}catch{return null}}function l(e){return!!e&&null!==n(e)&&!a(e)}}},e=>{e.O(0,[3725,5884,1145,1909,4394,8441,3794,7358],()=>e(e.s=90012)),_N_E=e.O()}]);