(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1817],{4269:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(95155),a=r(26430),l=r(35625),n=r(32280),i=r(42696),c=r(12115),o=r(98931);let d=new a.E,m=()=>{let{userId:e,accessToken:s,userRole:r,premiumUser:a}=(0,i.A)(),[m,x]=(0,c.useState)([]),[g,p]=(0,c.useState)([]);return(0,c.useEffect)(()=>{(0,n.f)(s,x).then(()=>{})},[s]),(0,c.useEffect)(()=>{(0,o.kE)(e,r,s,p).then(()=>{})},[e,r,s]),(0,t.jsx)(l.Ht,{client:d,children:(0,t.jsx)(n.A,{organizations:m,userRole:r,userModels:g,accessToken:s,setOrganizations:x,premiumUser:a})})}},20589:(e,s,r)=>{"use strict";r.d(s,{j:()=>a});var t=r(28436);let a=async(e,s,r,a)=>"Admin"!=r&&"Admin Viewer"!=r?await (0,t.teamListCall)(e,a?.organization_id||null,s):await (0,t.teamListCall)(e,a?.organization_id||null)},29653:(e,s,r)=>{"use strict";r.d(s,{E:()=>t.A,l:()=>a.A});var t=r(34254),a=r(75892)},51306:(e,s,r)=>{Promise.resolve().then(r.bind(r,4269))},66793:(e,s,r)=>{"use strict";r.d(s,{A:()=>g});var t=r(95155),a=r(41326),l=r(99476),n=r(3373),i=r(99876),c=r(69779),o=r(30648),d=r(91808),m=r(81283),x=r(12115);function g({isOpen:e,title:s,alertMessage:r,message:g,resourceInformationTitle:p,resourceInformation:h,onCancel:u,onOk:j,confirmLoading:y,requiredConfirmation:b,okText:f="Delete",okLoadingText:v="Deleting...",cancelText:N="Cancel"}){let{Title:k,Text:w}=a.A,{token:A}=l.A.useToken(),[_,E]=(0,x.useState)("");return(0,x.useEffect)(()=>{e&&E("")},[e]),(0,t.jsx)(n.A,{title:s,open:e,onOk:j,onCancel:u,confirmLoading:y,okText:y?v:f,cancelText:N,okButtonProps:{danger:!0,disabled:!!b&&_!==b||y},cancelButtonProps:{disabled:y},children:(0,t.jsxs)("div",{className:"space-y-4",children:[r&&(0,t.jsx)(i.A,{message:r,type:"warning"}),(0,t.jsx)(c.A,{title:p,className:"mt-4",styles:{body:{padding:"16px"},header:{backgroundColor:A.colorErrorBg,borderColor:A.colorErrorBorder}},style:{backgroundColor:A.colorErrorBg,borderColor:A.colorErrorBorder},children:(0,t.jsx)(o.A,{column:1,size:"small",children:h&&h.map(({label:e,value:s,...r})=>(0,t.jsx)(o.A.Item,{label:(0,t.jsx)("span",{className:"font-semibold",children:e}),children:(0,t.jsx)(w,{...r,children:s??"-"})},e))})}),(0,t.jsx)("div",{children:(0,t.jsx)(w,{children:g})}),b&&(0,t.jsxs)("div",{className:"mb-6 mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:[(0,t.jsxs)(w,{className:"block text-base font-medium text-gray-700 dark:text-gray-300 mb-2",children:[(0,t.jsx)(w,{children:"Type "}),(0,t.jsx)(w,{strong:!0,type:"danger",children:b}),(0,t.jsx)(w,{children:" to confirm deletion:"})]}),(0,t.jsx)(d.A,{value:_,onChange:e=>E(e.target.value),placeholder:b,className:"rounded-md",prefix:(0,t.jsx)(m.A,{style:{color:A.colorError}}),autoFocus:!0})]})]})})}},81783:(e,s,r)=>{"use strict";r.d(s,{A:()=>y});var t=r(95155),a=r(14290),l=r(12115),n=r(21796),i=r(29653),c=r(24669),o=r(28436);let d=function({vectorStores:e,accessToken:s}){let{t:r}=(0,a.o)(),[n,d]=(0,l.useState)([]);return(0,l.useEffect)(()=>{(async()=>{if(s&&0!==e.length)try{let e=await (0,o.vectorStoreListCall)(s);e.data&&d(e.data.map(e=>({vector_store_id:e.vector_store_id,vector_store_name:e.vector_store_name})))}catch(e){console.error("Error fetching vector stores:",e)}})()},[s,e.length]),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(i.l,{className:"font-semibold text-gray-900",children:r("keyDetail.objectPermissions.vectorStores")}),(0,t.jsx)(i.E,{color:"blue",size:"xs",children:e.length})]}),e.length>0?(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:e.map((e,s)=>{let r;return(0,t.jsx)("div",{className:"inline-flex items-center px-3 py-1.5 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-sm font-medium",children:(r=n.find(s=>s.vector_store_id===e))?`${r.vector_store_name||r.vector_store_id} (${r.vector_store_id})`:e},s)})}):(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,t.jsx)(c.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)(i.l,{className:"text-gray-500 text-sm",children:r("keyDetail.objectPermissions.noVectorStores")})]})]})};var m=r(68367),x=r(17293),g=r(30947),p=r(22277);let h=function({mcpServers:e,mcpAccessGroups:s=[],mcpToolPermissions:n={},accessToken:c}){let{t:d}=(0,a.o)(),[h,u]=(0,l.useState)([]),[j,y]=(0,l.useState)([]),[b,f]=(0,l.useState)(new Set);(0,l.useEffect)(()=>{(async()=>{if(c&&e.length>0)try{let e=await (0,o.fetchMCPServers)(c);e&&Array.isArray(e)?u(e):e.data&&Array.isArray(e.data)&&u(e.data)}catch(e){console.error("Error fetching MCP servers:",e)}})()},[c,e.length]),(0,l.useEffect)(()=>{(async()=>{if(c&&s.length>0)try{let e=await Promise.resolve().then(r.bind(r,28436)).then(e=>e.fetchMCPAccessGroups(c));y(Array.isArray(e)?e:e.data||[])}catch(e){console.error("Error fetching MCP access groups:",e)}})()},[c,s.length]);let v=[...e.map(e=>({type:"server",value:e})),...s.map(e=>({type:"accessGroup",value:e}))],N=v.length;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-blue-600"}),(0,t.jsx)(i.l,{className:"font-semibold text-gray-900",children:d("keyDetail.objectPermissions.mcpServers")}),(0,t.jsx)(i.E,{color:"blue",size:"xs",children:N})]}),N>0?(0,t.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:v.map((e,s)=>{let r="server"===e.type?n[e.value]:void 0,a=r&&r.length>0,l=b.has(e.value);return(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{onClick:()=>{var s;return a&&(s=e.value,void f(e=>{let r=new Set(e);return r.has(s)?r.delete(s):r.add(s),r}))},className:`flex items-center gap-3 py-2 px-3 rounded-lg border border-gray-200 transition-all ${a?"cursor-pointer hover:bg-gray-50 hover:border-gray-300":"bg-white"}`,children:[(0,t.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:"server"===e.type?(0,t.jsx)(p.A,{title:`Full ID: ${e.value}`,placement:"top",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-blue-500 rounded-full flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:(e=>{let s=h.find(s=>s.server_id===e);if(s){let r=e.length>7?`${e.slice(0,3)}...${e.slice(-4)}`:e;return`${s.alias} (${r})`}return e})(e.value)})]})}):(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.value}),(0,t.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-[9px] font-semibold text-green-600 bg-green-50 border border-green-200 rounded uppercase tracking-wide flex-shrink-0",children:d("keyDetail.objectPermissions.group")})]})}),a&&(0,t.jsxs)("div",{className:"flex items-center gap-1 flex-shrink-0 whitespace-nowrap",children:[(0,t.jsx)("span",{className:"text-xs font-medium text-gray-600",children:r.length}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:1===r.length?d("keyDetail.objectPermissions.tool"):d("keyDetail.objectPermissions.tools")}),l?(0,t.jsx)(x.A,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"}):(0,t.jsx)(g.A,{className:"h-3.5 w-3.5 text-gray-400 ml-0.5"})]})]}),a&&l&&(0,t.jsx)("div",{className:"ml-4 pl-4 border-l-2 border-blue-200 pb-1",children:(0,t.jsx)("div",{className:"flex flex-wrap gap-1.5",children:r.map((e,s)=>(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-1 rounded-lg bg-blue-50 border border-blue-200 text-blue-800 text-xs font-medium",children:e},s))})})]},s)})}):(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,t.jsx)(m.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)(i.l,{className:"text-gray-500 text-sm",children:d("keyDetail.objectPermissions.noMCPServers")})]})]})};var u=r(10512);let j=function({agents:e,agentAccessGroups:s=[],accessToken:r}){let{t:n}=(0,a.o)(),[c,d]=(0,l.useState)([]);(0,l.useEffect)(()=>{(async()=>{if(r&&e.length>0)try{let e=await (0,o.getAgentsList)(r);e&&e.agents&&Array.isArray(e.agents)&&d(e.agents)}catch(e){console.error("Error fetching agents:",e)}})()},[r,e.length]);let m=[...e.map(e=>({type:"agent",value:e})),...s.map(e=>({type:"accessGroup",value:e}))],x=m.length;return(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-purple-600"}),(0,t.jsx)(i.l,{className:"font-semibold text-gray-900",children:n("keyDetail.objectPermissions.agents")}),(0,t.jsx)(i.E,{color:"purple",size:"xs",children:x})]}),x>0?(0,t.jsx)("div",{className:"max-h-[400px] overflow-y-auto space-y-2 pr-1",children:m.map((e,s)=>(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsx)("div",{className:"flex items-center gap-3 py-2 px-3 rounded-lg border border-gray-200 bg-white",children:(0,t.jsx)("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:"agent"===e.type?(0,t.jsx)(p.A,{title:`Full ID: ${e.value}`,placement:"top",children:(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-purple-500 rounded-full flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:(e=>{let s=c.find(s=>s.agent_id===e);if(s){let r=e.length>7?`${e.slice(0,3)}...${e.slice(-4)}`:e;return`${s.agent_name} (${r})`}return e})(e.value)})]})}):(0,t.jsxs)("div",{className:"inline-flex items-center gap-2 min-w-0",children:[(0,t.jsx)("span",{className:"inline-block w-1.5 h-1.5 bg-green-500 rounded-full flex-shrink-0"}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900 truncate",children:e.value}),(0,t.jsx)("span",{className:"ml-1 px-1.5 py-0.5 text-[9px] font-semibold text-green-600 bg-green-50 border border-green-200 rounded uppercase tracking-wide flex-shrink-0",children:n("keyDetail.objectPermissions.group")})]})})})},s))}):(0,t.jsxs)("div",{className:"flex items-center gap-2 px-3 py-2 rounded-lg bg-gray-50 border border-gray-200",children:[(0,t.jsx)(u.A,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)(i.l,{className:"text-gray-500 text-sm",children:n("keyDetail.objectPermissions.noAgents")})]})]})},y=function({objectPermission:e,variant:s="card",className:r="",accessToken:l}){let{t:i}=(0,a.o)(),c=e?.vector_stores||[],o=e?.mcp_servers||[],m=e?.mcp_access_groups||[],x=e?.mcp_tool_permissions||{},g=e?.agents||[],p=e?.agent_access_groups||[],u=(0,t.jsxs)("div",{className:"card"===s?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:[(0,t.jsx)(d,{vectorStores:c,accessToken:l}),(0,t.jsx)(h,{mcpServers:o,mcpAccessGroups:m,mcpToolPermissions:x,accessToken:l}),(0,t.jsx)(j,{agents:g,agentAccessGroups:p,accessToken:l})]});return"card"===s?(0,t.jsxs)("div",{className:`bg-white border border-gray-200 rounded-lg p-6 ${r}`,children:[(0,t.jsx)("div",{className:"flex items-center gap-2 mb-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(n.E,{className:"font-semibold text-gray-900",children:i("keyDetail.objectPermissions.title")}),(0,t.jsx)(n.E,{className:"text-xs text-gray-500",children:i("keyDetail.objectPermissions.description")})]})}),u]}):(0,t.jsxs)("div",{className:`${r}`,children:[(0,t.jsx)(n.E,{className:"font-medium text-gray-900 mb-3",children:i("keyDetail.objectPermissions.title")}),u]})}}},e=>{e.O(0,[1772,3725,5884,1145,1909,1326,8536,8267,3146,9904,1291,5049,9791,2360,1242,54,3138,6769,5895,139,2823,4725,4245,6200,5230,4394,3847,4320,3303,8931,5725,2280,8441,3794,7358],()=>e(e.s=51306)),_N_E=e.O()}]);