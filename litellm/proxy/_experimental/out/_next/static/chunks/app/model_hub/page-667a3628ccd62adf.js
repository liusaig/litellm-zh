(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{42696:(e,r,n)=>{"use strict";n.d(r,{A:()=>o});var s=n(28436),u=n(12352),t=n(97035),a=n(73321),i=n(12115),l=n(64394);let o=()=>{let e=(0,a.useRouter)(),{data:r,isLoading:n}=(0,l._)(),o="u">typeof document?(0,u.R)("token"):null,c=(0,i.useMemo)(()=>(0,t.oL)(o),[o]),d=(0,i.useMemo)(()=>(0,t.eP)(o),[o])&&!r?.admin_ui_disabled;return(0,i.useEffect)(()=>{!n&&(d||(o&&(0,u.E)(),e.replace(`${(0,s.getProxyBaseUrl)()}/ui/login`)))},[n,d,o,e]),{isLoading:n,isAuthorized:d,token:d?o:null,accessToken:c?.key??null,userId:c?.user_id??null,userEmail:c?.user_email??null,userRole:function(e){if(!e)return"Undefined Role";switch(e.toLowerCase()){case"app_owner":case"demo_app_owner":return"App Owner";case"app_admin":case"proxy_admin":return"Admin";case"proxy_admin_viewer":return"Admin Viewer";case"org_admin":return"Org Admin";case"internal_user":return"Internal User";case"internal_user_viewer":case"internal_viewer":return"Internal Viewer";case"app_user":return"App User";default:return"Unknown Role"}}(c?.user_role),premiumUser:c?.premium_user??null,disabledPersonalKeyCreation:c?.disabled_non_admin_personal_key_creation??null,showSSOBanner:c?.login_method==="username_password"}}},64076:(e,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>l});var s=n(95155),u=n(12115),t=n(73321),a=n(78896);function i(){let e=(0,t.useSearchParams)().get("key"),[r,n]=(0,u.useState)(null);return(0,u.useEffect)(()=>{e&&n(e)},[e]),(0,s.jsx)(a.A,{accessToken:r})}function l(){return(0,s.jsx)(u.Suspense,{fallback:(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:"Loading..."}),children:(0,s.jsx)(i,{})})}},71427:(e,r,n)=>{Promise.resolve().then(n.bind(n,64076))},97035:(e,r,n)=>{"use strict";n.d(r,{eP:()=>a,oL:()=>t,xP:()=>u});var s=n(19253);function u(e){try{let r=(0,s.s)(e);if(r&&"number"==typeof r.exp)return 1e3*r.exp<=Date.now();return!1}catch{return!0}}function t(e){if(!e)return null;try{return(0,s.s)(e)}catch{return null}}function a(e){return!!e&&null!==t(e)&&!u(e)}}},e=>{e.O(0,[3725,5884,1145,1909,1326,8536,8267,3146,9904,1242,941,6509,8047,4394,8896,8441,3794,7358],()=>e(e.s=71427)),_N_E=e.O()}]);