(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,114600,e=>{"use strict";var t=e.i(290571),a=e.i(444755),l=e.i(673706),s=e.i(271645);let r=(0,l.makeClassName)("Divider"),i=s.default.forwardRef((e,l)=>{let{className:i,children:o}=e,n=(0,t.__rest)(e,["className","children"]);return s.default.createElement("div",Object.assign({ref:l,className:(0,a.tremorTwMerge)(r("root"),"w-full mx-auto my-6 flex justify-between gap-3 items-center text-tremor-default","text-tremor-content","dark:text-dark-tremor-content",i)},n),o?s.default.createElement(s.default.Fragment,null,s.default.createElement("div",{className:(0,a.tremorTwMerge)("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")}),s.default.createElement("div",{className:(0,a.tremorTwMerge)("text-inherit whitespace-nowrap")},o),s.default.createElement("div",{className:(0,a.tremorTwMerge)("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")})):s.default.createElement("div",{className:(0,a.tremorTwMerge)("w-full h-[1px] bg-tremor-border dark:bg-dark-tremor-border")}))});i.displayName="Divider",e.s(["Divider",()=>i],114600)},846753,e=>{"use strict";let t=(0,e.i(475254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["default",()=>t])},655913,38419,78334,e=>{"use strict";var t=e.i(843476),a=e.i(115504),l=e.i(311451),s=e.i(374009),r=e.i(271645);e.s(["FilterInput",0,({placeholder:e,value:i,onChange:o,icon:n,className:d})=>{let[c,m]=(0,r.useState)(i);(0,r.useEffect)(()=>{m(i)},[i]);let u=(0,r.useMemo)(()=>(0,s.default)(e=>o(e),300),[o]);(0,r.useEffect)(()=>()=>{u.cancel()},[u]);let h=(0,r.useCallback)(e=>{let t=e.target.value;m(t),u(t)},[u]);return(0,t.jsx)(l.Input,{placeholder:e,value:c,onChange:h,prefix:n?(0,t.jsx)(n,{size:16,className:"text-gray-500"}):void 0,className:(0,a.cx)("w-64",d)})}],655913);var i=e.i(906579),o=e.i(464571);let n=(0,e.i(475254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["FiltersButton",0,({onClick:e,active:a,hasActiveFilters:l,label:s="Filters"})=>(0,t.jsx)(i.Badge,{color:"blue",dot:l,children:(0,t.jsx)(o.Button,{type:"default",onClick:e,icon:(0,t.jsx)(n,{size:16}),className:a?"bg-gray-100":"",children:s})})],38419);var d=e.i(367240);e.s(["ResetFiltersButton",0,({onClick:e,label:a="Reset Filters"})=>(0,t.jsx)(o.Button,{type:"default",onClick:e,icon:(0,t.jsx)(d.RotateCcw,{size:16}),children:a})],78334)},284614,e=>{"use strict";var t=e.i(846753);e.s(["User",()=>t.default])},118366,e=>{"use strict";var t=e.i(991124);e.s(["CopyIcon",()=>t.default])},991124,e=>{"use strict";let t=(0,e.i(475254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>t])},678784,678745,e=>{"use strict";let t=(0,e.i(475254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t],678745),e.s(["CheckIcon",()=>t],678784)},906579,e=>{"use strict";e.i(247167);var t=e.i(271645),a=e.i(343794),l=e.i(361275),s=e.i(702779),r=e.i(763731),i=e.i(242064);e.i(296059);var o=e.i(915654),n=e.i(694758),d=e.i(183293),c=e.i(403541),m=e.i(246422),u=e.i(838378);let h=new n.Keyframes("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),g=new n.Keyframes("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),p=new n.Keyframes("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),x=new n.Keyframes("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),b=new n.Keyframes("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),f=new n.Keyframes("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),j=e=>{let{fontHeight:t,lineWidth:a,marginXS:l,colorBorderBg:s}=e,r=e.colorTextLightSolid,i=e.colorError,o=e.colorErrorHover;return(0,u.mergeToken)(e,{badgeFontHeight:t,badgeShadowSize:a,badgeTextColor:r,badgeColor:i,badgeColorHover:o,badgeShadowColor:s,badgeProcessingDuration:"1.2s",badgeRibbonOffset:l,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},_=e=>{let{fontSize:t,lineHeight:a,fontSizeSM:l,lineWidth:s}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*a)-2*s,indicatorHeightSM:t,dotSize:l/2,textFontSize:l,textFontSizeSM:l,textFontWeight:"normal",statusSize:l/2}},y=(0,m.genStyleHooks)("Badge",e=>(e=>{let{componentCls:t,iconCls:a,antCls:l,badgeShadowSize:s,textFontSize:r,textFontSizeSM:i,statusSize:n,dotSize:m,textFontWeight:u,indicatorHeight:j,indicatorHeightSM:_,marginXS:y,calc:v}=e,w=`${l}-scroll-number`,N=(0,c.genPresetColor)(e,(e,{darkColor:a})=>({[`&${t} ${t}-color-${e}`]:{background:a,[`&:not(${t}-count)`]:{color:a},"a:hover &":{background:a}}}));return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,d.resetComponent)(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:j,height:j,color:e.badgeTextColor,fontWeight:u,fontSize:r,lineHeight:(0,o.unit)(j),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:v(j).div(2).equal(),boxShadow:`0 0 0 ${(0,o.unit)(s)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:_,height:_,fontSize:i,lineHeight:(0,o.unit)(_),borderRadius:v(_).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${(0,o.unit)(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:m,minWidth:m,height:m,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${(0,o.unit)(s)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${w}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:f,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:n,height:n,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:s,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:h,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:y,color:e.colorText,fontSize:e.fontSize}}}),N),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:g,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:p,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:x,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:b,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${w}-custom-component, ${t}-count`]:{transform:"none"},[`${w}-custom-component, ${w}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[w]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${w}-only`]:{position:"relative",display:"inline-block",height:j,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${w}-only-unit`]:{height:j,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${w}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${w}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}})(j(e)),_),v=(0,m.genStyleHooks)(["Badge","Ribbon"],e=>(e=>{let{antCls:t,badgeFontHeight:a,marginXS:l,badgeRibbonOffset:s,calc:r}=e,i=`${t}-ribbon`,n=`${t}-ribbon-wrapper`,m=(0,c.genPresetColor)(e,(e,{darkColor:t})=>({[`&${i}-color-${e}`]:{background:t,color:t}}));return{[n]:{position:"relative"},[i]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,d.resetComponent)(e)),{position:"absolute",top:l,padding:`0 ${(0,o.unit)(e.paddingXS)}`,color:e.colorPrimary,lineHeight:(0,o.unit)(a),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${i}-text`]:{color:e.badgeTextColor},[`${i}-corner`]:{position:"absolute",top:"100%",width:s,height:s,color:"currentcolor",border:`${(0,o.unit)(r(s).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),m),{[`&${i}-placement-end`]:{insetInlineEnd:r(s).mul(-1).equal(),borderEndEndRadius:0,[`${i}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${i}-placement-start`]:{insetInlineStart:r(s).mul(-1).equal(),borderEndStartRadius:0,[`${i}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}})(j(e)),_),w=e=>{let l,{prefixCls:s,value:r,current:i,offset:o=0}=e;return o&&(l={position:"absolute",top:`${o}00%`,left:0}),t.createElement("span",{style:l,className:(0,a.default)(`${s}-only-unit`,{current:i})},r)},N=e=>{let a,l,{prefixCls:s,count:r,value:i}=e,o=Number(i),n=Math.abs(r),[d,c]=t.useState(o),[m,u]=t.useState(n),h=()=>{c(o),u(n)};if(t.useEffect(()=>{let e=setTimeout(h,1e3);return()=>clearTimeout(e)},[o]),d===o||Number.isNaN(o)||Number.isNaN(d))a=[t.createElement(w,Object.assign({},e,{key:o,current:!0}))],l={transition:"none"};else{a=[];let s=o+10,r=[];for(let e=o;e<=s;e+=1)r.push(e);let i=m<n?1:-1,c=r.findIndex(e=>e%10===d);a=(i<0?r.slice(0,c+1):r.slice(c)).map((a,l)=>t.createElement(w,Object.assign({},e,{key:a,value:a%10,offset:i<0?l-c:l,current:l===c}))),l={transform:`translateY(${-function(e,t,a){let l=e,s=0;for(;(l+10)%10!==t;)l+=a,s+=a;return s}(d,o,i)}00%)`}}return t.createElement("span",{className:`${s}-only`,style:l,onTransitionEnd:h},a)};var C=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,l=Object.getOwnPropertySymbols(e);s<l.length;s++)0>t.indexOf(l[s])&&Object.prototype.propertyIsEnumerable.call(e,l[s])&&(a[l[s]]=e[l[s]]);return a};let S=t.forwardRef((e,l)=>{let{prefixCls:s,count:o,className:n,motionClassName:d,style:c,title:m,show:u,component:h="sup",children:g}=e,p=C(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:x}=t.useContext(i.ConfigContext),b=x("scroll-number",s),f=Object.assign(Object.assign({},p),{"data-show":u,style:c,className:(0,a.default)(b,n,d),title:m}),j=o;if(o&&Number(o)%1==0){let e=String(o).split("");j=t.createElement("bdi",null,e.map((a,l)=>t.createElement(N,{prefixCls:b,count:Number(o),value:a,key:e.length-l})))}return((null==c?void 0:c.borderColor)&&(f.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),g)?(0,r.cloneElement)(g,e=>({className:(0,a.default)(`${b}-custom-component`,null==e?void 0:e.className,d)})):t.createElement(h,Object.assign({},f,{ref:l}),j)});var M=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&0>t.indexOf(l)&&(a[l]=e[l]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,l=Object.getOwnPropertySymbols(e);s<l.length;s++)0>t.indexOf(l[s])&&Object.prototype.propertyIsEnumerable.call(e,l[s])&&(a[l[s]]=e[l[s]]);return a};let k=t.forwardRef((e,o)=>{var n,d,c,m,u;let{prefixCls:h,scrollNumberPrefixCls:g,children:p,status:x,text:b,color:f,count:j=null,overflowCount:_=99,dot:v=!1,size:w="default",title:N,offset:C,style:k,className:T,rootClassName:O,classNames:$,styles:I,showZero:F=!1}=e,E=M(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:z,direction:A,badge:P}=t.useContext(i.ConfigContext),B=z("badge",h),[L,D,H]=y(B),R=j>_?`${_}+`:j,V="0"===R||0===R||"0"===b||0===b,W=null===j||V&&!F,K=(null!=x||null!=f)&&W,q=null!=x||!V,J=v&&!V,U=J?"":R,G=(0,t.useMemo)(()=>((null==U||""===U)&&(null==b||""===b)||V&&!F)&&!J,[U,V,F,J,b]),Z=(0,t.useRef)(j);G||(Z.current=j);let X=Z.current,Y=(0,t.useRef)(U);G||(Y.current=U);let Q=Y.current,ee=(0,t.useRef)(J);G||(ee.current=J);let et=(0,t.useMemo)(()=>{if(!C)return Object.assign(Object.assign({},null==P?void 0:P.style),k);let e={marginTop:C[1]};return"rtl"===A?e.left=Number.parseInt(C[0],10):e.right=-Number.parseInt(C[0],10),Object.assign(Object.assign(Object.assign({},e),null==P?void 0:P.style),k)},[A,C,k,null==P?void 0:P.style]),ea=null!=N?N:"string"==typeof X||"number"==typeof X?X:void 0,el=!G&&(0===b?F:!!b&&!0!==b),es=el?t.createElement("span",{className:`${B}-status-text`},b):null,er=X&&"object"==typeof X?(0,r.cloneElement)(X,e=>({style:Object.assign(Object.assign({},et),e.style)})):void 0,ei=(0,s.isPresetColor)(f,!1),eo=(0,a.default)(null==$?void 0:$.indicator,null==(n=null==P?void 0:P.classNames)?void 0:n.indicator,{[`${B}-status-dot`]:K,[`${B}-status-${x}`]:!!x,[`${B}-color-${f}`]:ei}),en={};f&&!ei&&(en.color=f,en.background=f);let ed=(0,a.default)(B,{[`${B}-status`]:K,[`${B}-not-a-wrapper`]:!p,[`${B}-rtl`]:"rtl"===A},T,O,null==P?void 0:P.className,null==(d=null==P?void 0:P.classNames)?void 0:d.root,null==$?void 0:$.root,D,H);if(!p&&K&&(b||q||!W)){let e=et.color;return L(t.createElement("span",Object.assign({},E,{className:ed,style:Object.assign(Object.assign(Object.assign({},null==I?void 0:I.root),null==(c=null==P?void 0:P.styles)?void 0:c.root),et)}),t.createElement("span",{className:eo,style:Object.assign(Object.assign(Object.assign({},null==I?void 0:I.indicator),null==(m=null==P?void 0:P.styles)?void 0:m.indicator),en)}),el&&t.createElement("span",{style:{color:e},className:`${B}-status-text`},b)))}return L(t.createElement("span",Object.assign({ref:o},E,{className:ed,style:Object.assign(Object.assign({},null==(u=null==P?void 0:P.styles)?void 0:u.root),null==I?void 0:I.root)}),p,t.createElement(l.default,{visible:!G,motionName:`${B}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:e})=>{var l,s;let r=z("scroll-number",g),i=ee.current,o=(0,a.default)(null==$?void 0:$.indicator,null==(l=null==P?void 0:P.classNames)?void 0:l.indicator,{[`${B}-dot`]:i,[`${B}-count`]:!i,[`${B}-count-sm`]:"small"===w,[`${B}-multiple-words`]:!i&&Q&&Q.toString().length>1,[`${B}-status-${x}`]:!!x,[`${B}-color-${f}`]:ei}),n=Object.assign(Object.assign(Object.assign({},null==I?void 0:I.indicator),null==(s=null==P?void 0:P.styles)?void 0:s.indicator),et);return f&&!ei&&((n=n||{}).background=f),t.createElement(S,{prefixCls:r,show:!G,motionClassName:e,className:o,count:Q,title:ea,style:n,key:"scrollNumber"},er)}),es))});k.Ribbon=e=>{let{className:l,prefixCls:r,style:o,color:n,children:d,text:c,placement:m="end",rootClassName:u}=e,{getPrefixCls:h,direction:g}=t.useContext(i.ConfigContext),p=h("ribbon",r),x=`${p}-wrapper`,[b,f,j]=v(p,x),_=(0,s.isPresetColor)(n,!1),y=(0,a.default)(p,`${p}-placement-${m}`,{[`${p}-rtl`]:"rtl"===g,[`${p}-color-${n}`]:_},l),w={},N={};return n&&!_&&(w.background=n,N.color=n),b(t.createElement("div",{className:(0,a.default)(x,u,f,j)},d,t.createElement("div",{className:(0,a.default)(y,f),style:Object.assign(Object.assign({},w),o)},t.createElement("span",{className:`${p}-text`},c),t.createElement("div",{className:`${p}-corner`,style:N}))))},e.s(["Badge",0,k],906579)},367240,54943,555436,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>a],367240);let l=(0,t.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["default",()=>l],54943),e.s(["Search",()=>l],555436)},227814,e=>{"use strict";var t=e.i(843476),a=e.i(271645),l=e.i(111110),s=e.i(764205),r=e.i(584578),i=e.i(808613),o=e.i(56567),n=e.i(304967),d=e.i(629569),c=e.i(599724),m=e.i(114600),u=e.i(994388),h=e.i(779241),g=e.i(898586),p=e.i(482725),x=e.i(790848),b=e.i(199133),f=e.i(860585),j=e.i(355619),_=e.i(727749),y=e.i(162386);let v=({accessToken:e,userID:r,userRole:i})=>{let{t:o}=(0,l.useLanguage)(),[v,w]=(0,a.useState)(!0),[N,C]=(0,a.useState)(null),[S,M]=(0,a.useState)(!1),[k,T]=(0,a.useState)({}),[O,$]=(0,a.useState)(!1),[I,F]=(0,a.useState)([]),{Paragraph:E}=g.Typography,{Option:z}=b.Select;(0,a.useEffect)(()=>{(async()=>{if(!e)return w(!1);try{let t=await (0,s.getDefaultTeamSettings)(e);if(C(t),T(t.values||{}),e)try{let t=await (0,s.modelAvailableCall)(e,r,i);if(t&&t.data){let e=t.data.map(e=>e.id);F(e)}}catch(e){console.error("Error fetching available models:",e)}}catch(e){console.error("Error fetching team SSO settings:",e),_.default.fromBackend(o("teams.defaultSettings.loadFailed"))}finally{w(!1)}})()},[e]);let A=async()=>{if(e){$(!0);try{let t=await (0,s.updateDefaultTeamSettings)(e,k);C({...N,values:t.settings}),M(!1),_.default.success(o("teams.defaultSettings.saveSuccess"))}catch(e){console.error("Error updating team settings:",e),_.default.fromBackend(o("teams.defaultSettings.updateFailed"))}finally{$(!1)}}},P=(e,t)=>{T(a=>({...a,[e]:t}))};return v?(0,t.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,t.jsx)(p.Spin,{size:"large"})}):N?(0,t.jsxs)(n.Card,{children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)(d.Title,{className:"text-xl",children:o("teams.defaultSettings.title")}),!v&&N&&(S?(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(u.Button,{variant:"secondary",onClick:()=>{M(!1),T(N.values||{})},disabled:O,children:o("teams.defaultSettings.cancel")}),(0,t.jsx)(u.Button,{onClick:A,loading:O,children:o("teams.defaultSettings.saveChanges")})]}):(0,t.jsx)(u.Button,{onClick:()=>M(!0),children:o("teams.defaultSettings.editSettings")}))]}),(0,t.jsx)(c.Text,{children:o("teams.defaultSettings.description")}),N?.field_schema?.description&&(0,t.jsx)(E,{className:"mb-4 mt-2",children:N.field_schema.description}),(0,t.jsx)(m.Divider,{}),(0,t.jsx)("div",{className:"mt-4 space-y-4",children:(()=>{let{values:e,field_schema:a}=N;return a&&a.properties?Object.entries(a.properties).map(([a,l])=>{let s=e[a],r=a.replace(/_/g," ").replace(/\b\w/g,e=>e.toUpperCase());return(0,t.jsxs)("div",{className:"mb-6 pb-6 border-b border-gray-200 last:border-0",children:[(0,t.jsx)(c.Text,{className:"font-medium text-lg",children:r}),(0,t.jsx)(E,{className:"text-sm text-gray-500 mt-1",children:l.description||o("teams.defaultSettings.noDescription")}),S?(0,t.jsx)("div",{className:"mt-2",children:((e,a,l)=>{let s=a.type;if("budget_duration"===e)return(0,t.jsx)(f.default,{value:k[e]||null,onChange:t=>P(e,t),className:"mt-2"});if("boolean"===s)return(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)(x.Switch,{checked:!!k[e],onChange:t=>P(e,t)})});if("array"===s&&a.items?.enum)return(0,t.jsx)(b.Select,{mode:"multiple",style:{width:"100%"},value:k[e]||[],onChange:t=>P(e,t),className:"mt-2",children:a.items.enum.map(e=>(0,t.jsx)(z,{value:e,children:e},e))});if("models"===e)return(0,t.jsx)(y.ModelSelect,{value:k[e]||[],onChange:t=>P(e,t),context:"global",style:{width:"100%"},options:{includeSpecialOptions:!0}});if("string"===s&&a.enum)return(0,t.jsx)(b.Select,{style:{width:"100%"},value:k[e]||"",onChange:t=>P(e,t),className:"mt-2",children:a.enum.map(e=>(0,t.jsx)(z,{value:e,children:e},e))});else return(0,t.jsx)(h.TextInput,{value:void 0!==k[e]?String(k[e]):"",onChange:t=>P(e,t.target.value),placeholder:a.description||"",className:"mt-2"})})(a,l,0)}):(0,t.jsx)("div",{className:"mt-1 p-2 bg-gray-50 rounded",children:((e,a)=>{if(null==a)return(0,t.jsx)("span",{className:"text-gray-400",children:o("teams.defaultSettings.notSet")});if("budget_duration"===e)return(0,t.jsx)("span",{children:(0,f.getBudgetDurationLabel)(a)});if("boolean"==typeof a)return(0,t.jsx)("span",{children:a?o("teams.defaultSettings.enabled"):o("teams.defaultSettings.disabled")});if("models"===e&&Array.isArray(a))return 0===a.length?(0,t.jsx)("span",{className:"text-gray-400",children:o("teams.defaultSettings.none")}):(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:a.map((e,a)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:(0,j.getModelDisplayName)(e)},a))});if("object"==typeof a)return Array.isArray(a)?0===a.length?(0,t.jsx)("span",{className:"text-gray-400",children:o("teams.defaultSettings.none")}):(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:a.map((e,a)=>(0,t.jsx)("span",{className:"px-2 py-1 bg-blue-100 rounded text-xs",children:"object"==typeof e?JSON.stringify(e):String(e)},a))}):(0,t.jsx)("pre",{className:"bg-gray-100 p-2 rounded text-xs overflow-auto mt-1",children:JSON.stringify(a,null,2)});return(0,t.jsx)("span",{children:String(a)})})(a,s)})]},a)}):(0,t.jsx)(c.Text,{children:o("teams.defaultSettings.noSchema")})})()})]}):(0,t.jsx)(n.Card,{children:(0,t.jsx)(c.Text,{children:o("teams.defaultSettings.notAvailable")})})};var w=e.i(708347),N=e.i(309426),C=e.i(350967),S=e.i(404206),M=e.i(500330),k=e.i(752978),T=e.i(197647),O=e.i(653824),$=e.i(881073),I=e.i(723731),F=e.i(278587);let E=({lastRefreshed:e,onRefresh:a,userRole:s,children:r})=>{let{t:i}=(0,l.useLanguage)();return(0,t.jsxs)(O.TabGroup,{className:"gap-2 h-[75vh] w-full",children:[(0,t.jsxs)($.TabList,{className:"flex justify-between mt-2 w-full items-center",children:[(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(T.Tab,{children:i("teams.tabs.myTeams")}),(0,w.isAdminRole)(s||"")&&(0,t.jsx)(T.Tab,{children:i("teams.tabs.defaultSettings")})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[e&&(0,t.jsxs)(c.Text,{children:[i("teams.lastRefreshed"),e]}),(0,t.jsx)(k.Icon,{icon:F.RefreshIcon,variant:"shadow",size:"xs",className:"self-center",onClick:a})]})]}),(0,t.jsx)(I.TabPanels,{children:r})]})};var z=e.i(206929),A=e.i(35983);let P=({filters:e,organizations:a,showFilters:s,onToggleFilters:r,onChange:i,onReset:o})=>{let{t:n}=(0,l.useLanguage)();return(0,t.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsxs)("div",{className:"relative w-64",children:[(0,t.jsx)("input",{type:"text",placeholder:n("teams.filters.searchPlaceholder"),className:"w-full px-3 py-2 pl-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:e.team_alias,onChange:e=>i("team_alias",e.target.value)}),(0,t.jsx)("svg",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,t.jsxs)("button",{className:`px-3 py-2 text-sm border rounded-md hover:bg-gray-50 flex items-center gap-2 ${s?"bg-gray-100":""}`,onClick:()=>r(!s),children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),n("teams.filters.filter"),(e.team_id||e.team_alias||e.organization_id)&&(0,t.jsx)("span",{"data-testid":"active-filter-indicator",className:"w-2 h-2 rounded-full bg-blue-500"})]}),(0,t.jsxs)("button",{className:"px-3 py-2 text-sm border rounded-md hover:bg-gray-50 flex items-center gap-2",onClick:o,children:[(0,t.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),n("teams.filters.reset")]})]}),s&&(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:[(0,t.jsxs)("div",{className:"relative w-64",children:[(0,t.jsx)("input",{type:"text",placeholder:n("teams.filters.teamIdPlaceholder"),className:"w-full px-3 py-2 pl-8 border rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:e.team_id,onChange:e=>i("team_id",e.target.value)}),(0,t.jsx)("svg",{className:"absolute left-2.5 top-2.5 h-4 w-4 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0zm6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),(0,t.jsx)("div",{className:"w-64",children:(0,t.jsx)(z.Select,{value:e.organization_id||"",onValueChange:e=>i("organization_id",e),placeholder:n("teams.filters.selectOrganization"),children:a?.map(e=>(0,t.jsx)(A.SelectItem,{value:e.organization_id||"",children:e.organization_alias||e.organization_id},e.organization_id))})})]})]})};var B=e.i(135214),L=e.i(269200),D=e.i(942232),H=e.i(977572),R=e.i(427612),V=e.i(64848),W=e.i(496020),K=e.i(592968),q=e.i(591935),J=e.i(68155),U=e.i(389083),G=e.i(871943),Z=e.i(502547);let X=({team:e})=>{let{t:s}=(0,l.useLanguage)(),[r,i]=(0,a.useState)(!1);return(0,t.jsx)(H.TableCell,{style:{maxWidth:"8-x",whiteSpace:"pre-wrap",overflow:"hidden"},className:e.models.length>3?"px-0":"",children:(0,t.jsx)("div",{className:"flex flex-col",children:Array.isArray(e.models)?(0,t.jsx)("div",{className:"flex flex-col",children:0===e.models.length?(0,t.jsx)(U.Badge,{size:"xs",className:"mb-1",color:"red",children:(0,t.jsx)(c.Text,{children:s("teams.allProxyModels")})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex items-start",children:[e.models.length>3&&(0,t.jsx)("div",{children:(0,t.jsx)(k.Icon,{icon:r?G.ChevronDownIcon:Z.ChevronRightIcon,className:"cursor-pointer",size:"xs",onClick:()=>{i(e=>!e)}})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.models.slice(0,3).map((e,a)=>"all-proxy-models"===e?(0,t.jsx)(U.Badge,{size:"xs",color:"red",children:(0,t.jsx)(c.Text,{children:s("teams.allProxyModels")})},a):(0,t.jsx)(U.Badge,{size:"xs",color:"blue",children:(0,t.jsx)(c.Text,{children:e.length>30?`${(0,j.getModelDisplayName)(e).slice(0,30)}...`:(0,j.getModelDisplayName)(e)})},a)),e.models.length>3&&!r&&(0,t.jsx)(U.Badge,{size:"xs",color:"gray",className:"cursor-pointer",children:(0,t.jsxs)(c.Text,{children:["+",e.models.length-3," ",s("teams.table.moreModels")]})}),r&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.models.slice(3).map((e,a)=>"all-proxy-models"===e?(0,t.jsx)(U.Badge,{size:"xs",color:"red",children:(0,t.jsx)(c.Text,{children:s("teams.allProxyModels")})},a+3):(0,t.jsx)(U.Badge,{size:"xs",color:"blue",children:(0,t.jsx)(c.Text,{children:e.length>30?`${(0,j.getModelDisplayName)(e).slice(0,30)}...`:(0,j.getModelDisplayName)(e)})},a+3))})]})]})})}):null})})};var Y=e.i(918549),Y=Y,Q=e.i(846753),Q=Q;let ee=({team:e,userId:a})=>{let s=(e=>{let{t:a}=(0,l.useLanguage)(),s="inline-flex items-center px-2.5 py-0.5 rounded-md text-xs font-medium border";return"admin"===e?(0,t.jsxs)("span",{className:s,style:{backgroundColor:"#EEF2FF",color:"#3730A3",borderColor:"#C7D2FE"},children:[(0,t.jsx)(Y.default,{className:"h-3 w-3 mr-1"}),a("teams.roleBadges.admin")]}):(0,t.jsxs)("span",{className:s,style:{backgroundColor:"#F3F4F6",color:"#4B5563",borderColor:"#E5E7EB"},children:[(0,t.jsx)(Q.default,{className:"h-3 w-3 mr-1"}),a("teams.roleBadges.member")]})})(((e,t)=>{if(!t)return null;let a=e.members_with_roles?.find(e=>e.user_id===t);return a?.role??null})(e,a));return(0,t.jsx)(H.TableCell,{children:s})},et=({teams:e,currentOrg:a,setSelectedTeamId:s,perTeamInfo:r,userRole:i,userId:o,setEditTeam:n,onDeleteTeam:d})=>{let{t:m}=(0,l.useLanguage)();return(0,t.jsxs)(L.Table,{children:[(0,t.jsx)(R.TableHead,{children:(0,t.jsxs)(W.TableRow,{children:[(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.teamName")}),(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.teamId")}),(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.createdAt")}),(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.spend")}),(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.budget")}),(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.models")}),(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.organization")}),(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.yourRole")}),(0,t.jsx)(V.TableHeaderCell,{children:m("teams.table.info")})]})}),(0,t.jsx)(D.TableBody,{children:e&&e.length>0?e.filter(e=>!a||e.organization_id===a.organization_id).sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>(0,t.jsxs)(W.TableRow,{children:[(0,t.jsx)(H.TableCell,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:e.team_alias}),(0,t.jsx)(H.TableCell,{children:(0,t.jsx)("div",{className:"overflow-hidden",children:(0,t.jsx)(K.Tooltip,{title:e.team_id,children:(0,t.jsxs)(u.Button,{size:"xs",variant:"light",className:"font-mono text-blue-500 bg-blue-50 hover:bg-blue-100 text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>{s(e.team_id)},children:[e.team_id.slice(0,7),"..."]})})})}),(0,t.jsx)(H.TableCell,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:e.created_at?new Date(e.created_at).toLocaleDateString():m("teams.table.none")}),(0,t.jsx)(H.TableCell,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:(0,M.formatNumberWithCommas)(e.spend,4)}),(0,t.jsx)(H.TableCell,{style:{maxWidth:"4px",whiteSpace:"pre-wrap",overflow:"hidden"},children:null!==e.max_budget&&void 0!==e.max_budget?e.max_budget:m("teams.table.unlimited")}),(0,t.jsx)(X,{team:e}),(0,t.jsx)(H.TableCell,{children:e.organization_id}),(0,t.jsx)(ee,{team:e,userId:o}),(0,t.jsxs)(H.TableCell,{children:[(0,t.jsxs)(c.Text,{children:[r&&e.team_id&&r[e.team_id]&&r[e.team_id].keys&&r[e.team_id].keys.length," ",m("teams.table.keys").trim()]}),(0,t.jsxs)(c.Text,{children:[r&&e.team_id&&r[e.team_id]&&r[e.team_id].team_info&&r[e.team_id].team_info.members_with_roles&&r[e.team_id].team_info.members_with_roles.length," ",m("teams.table.members").trim()]})]}),(0,t.jsx)(H.TableCell,{children:"Admin"==i?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Icon,{icon:q.PencilAltIcon,size:"sm",onClick:()=>{s(e.team_id),n(!0)}}),(0,t.jsx)(k.Icon,{onClick:()=>d(e.team_id),icon:J.TrashIcon,size:"sm"})]}):null})]},e.team_id)):null})]})};var ea=e.i(582458),ea=ea,el=e.i(995926);let es=({teams:e,teamToDelete:s,onCancel:r,onConfirm:i})=>{let{t:o}=(0,l.useLanguage)(),[n,d]=(0,a.useState)(""),c=e?.find(e=>e.team_id===s),m=c?.team_alias||"",u=c?.keys?.length||0,h=n===m;return(0,t.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-2xl min-h-[380px] py-6 overflow-hidden transform transition-all flex flex-col justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:o("teams.deleteModal.title")}),(0,t.jsx)("button",{"aria-label":o("teams.deleteModal.close"),onClick:()=>{r(),d("")},className:"text-gray-400 hover:text-gray-500 focus:outline-none",children:(0,t.jsx)(el.XIcon,{size:20})})]}),(0,t.jsxs)("div",{className:"px-6 py-4",children:[u>0&&(0,t.jsxs)("div",{className:"flex items-start gap-3 p-4 bg-red-50 border border-red-100 rounded-md mb-5",children:[(0,t.jsx)("div",{className:"text-red-500 mt-0.5",children:(0,t.jsx)(ea.default,{size:20})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-base font-medium text-red-600",children:o("teams.deleteModal.warningKeys").replace("{keyCount}",String(u))}),(0,t.jsx)("p",{className:"text-base text-red-600 mt-2",children:o("teams.deleteModal.warningDeleteAll")})]})]}),(0,t.jsx)("p",{className:"text-base text-gray-600 mb-5",children:o("teams.deleteModal.confirmInfo")}),(0,t.jsxs)("div",{className:"mb-5",children:[(0,t.jsxs)("label",{className:"block text-base font-medium text-gray-700 mb-2",children:[o("teams.deleteModal.enterName"),(0,t.jsx)("span",{className:"underline",children:m}),o("teams.deleteModal.confirmLabel")]}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:o("teams.deleteModal.placeholder"),className:"w-full px-4 py-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-base",autoFocus:!0})]})]})]}),(0,t.jsxs)("div",{className:"px-6 py-4 bg-gray-50 flex justify-end gap-4",children:[(0,t.jsx)("button",{onClick:()=>{r(),d("")},className:"px-5 py-3 bg-white border border-gray-300 rounded-md text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:o("teams.deleteModal.cancel")}),(0,t.jsx)("button",{onClick:i,disabled:!h,className:`px-5 py-3 rounded-md text-base font-medium text-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 ${h?"bg-red-600 hover:bg-red-700":"bg-red-300 cursor-not-allowed"}`,children:o("teams.deleteModal.forceDelete")})]})]})})};var er=e.i(464571),ei=e.i(311451),eo=e.i(212931),en=e.i(677667),ed=e.i(130643),ec=e.i(898667),em=e.i(827252),eu=e.i(435451),eh=e.i(916940),eg=e.i(75921),ep=e.i(552130),ex=e.i(651904),eb=e.i(533882),ef=e.i(390605);let ej=({isTeamModalVisible:e,handleOk:r,handleCancel:o,currentOrg:n,organizations:d,teams:m,setTeams:u,modelAliases:g,setModelAliases:p,loggingSettings:f,setLoggingSettings:y,setIsTeamModalVisible:v})=>{let{userId:w,userRole:N,accessToken:C,premiumUser:S}=(0,B.default)(),{t:M}=(0,l.useLanguage)(),[k]=i.Form.useForm(),[T,O]=(0,a.useState)([]),[$,I]=(0,a.useState)(null),[F,E]=(0,a.useState)([]),[z,A]=(0,a.useState)([]),[P,L]=(0,a.useState)([]),[D,H]=(0,a.useState)([]),[R,V]=(0,a.useState)(!1);(0,a.useEffect)(()=>{(async()=>{try{if(null===w||null===N||null===C)return;let e=await (0,j.fetchAvailableModelsForTeamOrKey)(w,N,C);e&&O(e)}catch(e){console.error("Error fetching user models:",e)}})()},[C,w,N,m]),(0,a.useEffect)(()=>{let e;console.log(`currentOrgForCreateTeam: ${$}`);let t=(e=[],$&&$.models.length>0?(console.log(`organization.models: ${$.models}`),e=$.models):e=T,(0,j.unfurlWildcardModelsInList)(e,T));console.log(`models: ${t}`),E(t),k.setFieldValue("models",[])},[$,T,k]);let W=async()=>{try{if(null==C)return;let e=await (0,s.fetchMCPAccessGroups)(C);H(e)}catch(e){console.error("Failed to fetch MCP access groups:",e)}};(0,a.useEffect)(()=>{W()},[C,W]),(0,a.useEffect)(()=>{let e=async()=>{try{if(null==C)return;let e=(await (0,s.getPoliciesList)(C)).policies.map(e=>e.policy_name);L(e)}catch(e){console.error("Failed to fetch policies:",e)}};(async()=>{try{if(null==C)return;let e=(await (0,s.getGuardrailsList)(C)).guardrails.map(e=>e.guardrail_name);A(e)}catch(e){console.error("Failed to fetch guardrails:",e)}})(),e()},[C]);let q=async e=>{try{if(console.log(`formValues: ${JSON.stringify(e)}`),null!=C){let t=e?.team_alias,a=m?.map(e=>e.team_alias)??[],l=e?.organization_id||n?.organization_id;if(""===l||"string"!=typeof l?e.organization_id=null:e.organization_id=l.trim(),a.includes(t))throw Error(`Team alias ${t} already exists, please pick another alias`);if(_.default.info(M("teams.createModal.creating")),f.length>0){let t={};if(e.metadata)try{t=JSON.parse(e.metadata)}catch(e){console.warn("Invalid JSON in metadata field, starting with empty object")}t={...t,logging:f.filter(e=>e.callback_name)},e.metadata=JSON.stringify(t)}if(e.secret_manager_settings&&"string"==typeof e.secret_manager_settings)if(""===e.secret_manager_settings.trim())delete e.secret_manager_settings;else try{e.secret_manager_settings=JSON.parse(e.secret_manager_settings)}catch(e){throw Error("Failed to parse secret manager settings: "+e)}if(e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0||e.allowed_mcp_servers_and_groups&&(e.allowed_mcp_servers_and_groups.servers?.length>0||e.allowed_mcp_servers_and_groups.accessGroups?.length>0||e.allowed_mcp_servers_and_groups.toolPermissions)){if(e.object_permission={},e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0&&(e.object_permission.vector_stores=e.allowed_vector_store_ids,delete e.allowed_vector_store_ids),e.allowed_mcp_servers_and_groups){let{servers:t,accessGroups:a}=e.allowed_mcp_servers_and_groups;t&&t.length>0&&(e.object_permission.mcp_servers=t),a&&a.length>0&&(e.object_permission.mcp_access_groups=a),delete e.allowed_mcp_servers_and_groups}if(e.mcp_tool_permissions&&Object.keys(e.mcp_tool_permissions).length>0&&(e.object_permission||(e.object_permission={}),e.object_permission.mcp_tool_permissions=e.mcp_tool_permissions,delete e.mcp_tool_permissions),e.allowed_agents_and_groups){let{agents:t,accessGroups:a}=e.allowed_agents_and_groups;e.object_permission||(e.object_permission={}),t&&t.length>0&&(e.object_permission.agents=t),a&&a.length>0&&(e.object_permission.agent_access_groups=a),delete e.allowed_agents_and_groups}}e.allowed_mcp_access_groups&&e.allowed_mcp_access_groups.length>0&&(e.object_permission||(e.object_permission={}),e.object_permission.mcp_access_groups=e.allowed_mcp_access_groups,delete e.allowed_mcp_access_groups),Object.keys(g).length>0&&(e.model_aliases=g);let r=await (0,s.teamCreateCall)(C,e);null!==m?u([...m,r]):u([r]),console.log(`response for team create call: ${r}`),_.default.success(M("teams.createModal.success")),k.resetFields(),y([]),p({}),v(!1)}}catch(e){console.error("Error creating the team:",e),_.default.fromBackend(M("teams.createModal.failed")+e)}};return(0,t.jsx)(eo.Modal,{title:M("teams.createModal.title"),open:e,width:1e3,footer:null,onOk:r,onCancel:o,children:(0,t.jsxs)(i.Form,{form:k,onFinish:q,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.teamAlias"),name:"team_alias",rules:[{required:!0,message:M("teams.createModal.teamAliasRequired")}],children:(0,t.jsx)(h.TextInput,{placeholder:M("teams.createModal.teamAliasPlaceholder")})}),(0,t.jsx)(i.Form.Item,{label:(0,t.jsxs)("span",{children:[M("teams.createModal.organization")," ",(0,t.jsx)(K.Tooltip,{title:(0,t.jsxs)("span",{children:[M("teams.createModal.organizationHelp")," ",(0,t.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/user_management_heirarchy",target:"_blank",rel:"noopener noreferrer",style:{color:"#1890ff",textDecoration:"underline"},onClick:e=>e.stopPropagation(),children:M("teams.createModal.userManagementHierarchy")})]}),children:(0,t.jsx)(em.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"organization_id",initialValue:n?n.organization_id:null,className:"mt-8",children:(0,t.jsx)(b.Select,{showSearch:!0,allowClear:!0,placeholder:M("teams.createModal.organizationPlaceholder"),onChange:e=>{k.setFieldValue("organization_id",e),I(d?.find(t=>t.organization_id===e)||null)},filterOption:(e,t)=>!!t&&(t.children?.toString()||"").toLowerCase().includes(e.toLowerCase()),optionFilterProp:"children",children:d?.map(e=>(0,t.jsxs)(b.Select.Option,{value:e.organization_id,children:[(0,t.jsx)("span",{className:"font-medium",children:e.organization_alias})," ",(0,t.jsxs)("span",{className:"text-gray-500",children:["(",e.organization_id,")"]})]},e.organization_id))})}),(0,t.jsx)(i.Form.Item,{label:(0,t.jsxs)("span",{children:[M("teams.createModal.models")," ",(0,t.jsx)(K.Tooltip,{title:M("teams.createModal.modelsHelp"),children:(0,t.jsx)(em.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"models",children:(0,t.jsxs)(b.Select,{mode:"multiple",placeholder:M("teams.createModal.modelsPlaceholder"),style:{width:"100%"},children:[(0,t.jsx)(b.Select.Option,{value:"all-proxy-models",children:M("teams.createModal.allProxyModels")},"all-proxy-models"),F.map(e=>(0,t.jsx)(b.Select.Option,{value:e,children:(0,j.getModelDisplayName)(e)},e))]})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.maxBudget"),name:"max_budget",children:(0,t.jsx)(eu.default,{step:.01,precision:2,width:200,placeholder:M("teams.createModal.maxBudgetPlaceholder")})}),(0,t.jsx)(i.Form.Item,{className:"mt-8",label:M("teams.createModal.budgetDuration"),name:"budget_duration",children:(0,t.jsxs)(b.Select,{defaultValue:null,placeholder:M("teams.createModal.budgetDurationPlaceholder"),children:[(0,t.jsx)(b.Select.Option,{value:"24h",children:M("teams.createModal.budgetDaily")}),(0,t.jsx)(b.Select.Option,{value:"7d",children:M("teams.createModal.budgetWeekly")}),(0,t.jsx)(b.Select.Option,{value:"30d",children:M("teams.createModal.budgetMonthly")})]})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.tpmLimit"),name:"tpm_limit",children:(0,t.jsx)(eu.default,{step:1,width:400,placeholder:M("teams.createModal.tpmLimitPlaceholder")})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.rpmLimit"),name:"rpm_limit",children:(0,t.jsx)(eu.default,{step:1,width:400,placeholder:M("teams.createModal.rpmLimitPlaceholder")})}),(0,t.jsxs)(en.Accordion,{className:"mt-20 mb-8",onClick:()=>{R||(W(),V(!0))},children:[(0,t.jsx)(ec.AccordionHeader,{children:(0,t.jsx)("b",{children:M("teams.createModal.advancedSettings")})}),(0,t.jsxs)(ed.AccordionBody,{children:[(0,t.jsxs)(en.Accordion,{className:"mb-4",children:[(0,t.jsx)(ec.AccordionHeader,{children:(0,t.jsx)("b",{children:M("teams.createModal.otherSettings")})}),(0,t.jsxs)(ed.AccordionBody,{children:[(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.teamId"),name:"team_id",help:M("teams.createModal.teamIdHelp"),children:(0,t.jsx)(h.TextInput,{onChange:e=>{e.target.value=e.target.value.trim()}})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.teamMemberBudget"),name:"team_member_budget",normalize:e=>e?Number(e):void 0,tooltip:M("teams.createModal.teamMemberBudgetHelp"),children:(0,t.jsx)(eu.default,{step:.01,precision:2,width:200,placeholder:M("teams.createModal.maxBudgetPlaceholder")})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.teamMemberKeyDuration"),name:"team_member_key_duration",tooltip:M("teams.createModal.teamMemberKeyDurationHelp"),children:(0,t.jsx)(h.TextInput,{placeholder:M("teams.createModal.teamMemberKeyDurationPlaceholder")})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.teamMemberRpmLimit"),name:"team_member_rpm_limit",tooltip:M("teams.createModal.teamMemberRpmLimitHelp"),children:(0,t.jsx)(eu.default,{step:1,width:400,placeholder:M("teams.createModal.maxBudgetPlaceholder")})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.teamMemberTpmLimit"),name:"team_member_tpm_limit",tooltip:M("teams.createModal.teamMemberTpmLimitHelp"),children:(0,t.jsx)(eu.default,{step:1,width:400,placeholder:M("teams.createModal.maxBudgetPlaceholder")})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.metadata"),name:"metadata",help:M("teams.createModal.metadataHelp"),children:(0,t.jsx)(ei.Input.TextArea,{rows:4})}),(0,t.jsx)(i.Form.Item,{label:M("teams.createModal.secretManagerSettings"),name:"secret_manager_settings",help:S?M("teams.createModal.secretManagerSettingsHelp"):M("teams.createModal.secretManagerSettingsPremiumHelp"),rules:[{validator:async(e,t)=>{if(!t)return Promise.resolve();try{return JSON.parse(t),Promise.resolve()}catch(e){return Promise.reject(Error(M("teams.createModal.invalidJsonError")))}}}],children:(0,t.jsx)(ei.Input.TextArea,{rows:4,placeholder:'{"namespace": "admin", "mount": "secret", "path_prefix": "litellm"}',disabled:!S})}),(0,t.jsx)(i.Form.Item,{label:(0,t.jsxs)("span",{children:["护栏"," ",(0,t.jsx)(K.Tooltip,{title:"配置你的第一个护栏",children:(0,t.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/guardrails/quick_start",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(em.InfoCircleOutlined,{style:{marginLeft:"4px"}})})})]}),name:"guardrails",className:"mt-8",help:M("teams.createModal.guardrailsPlaceholder"),children:(0,t.jsx)(b.Select,{mode:"tags",style:{width:"100%"},placeholder:M("teams.createModal.guardrailsPlaceholder"),options:z.map(e=>({value:e,label:e}))})}),(0,t.jsx)(i.Form.Item,{label:(0,t.jsxs)("span",{children:["禁用全局护栏"," ",(0,t.jsx)(K.Tooltip,{title:"开启后，此分组将跳过所有“每次请求都执行”的全局护栏",children:(0,t.jsx)(em.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"disable_global_guardrails",className:"mt-4",valuePropName:"checked",help:M("teams.createModal.disableGlobalGuardrailsLabelHelp"),children:(0,t.jsx)(x.Switch,{checkedChildren:M("teams.createModal.yes"),unCheckedChildren:M("teams.createModal.no")})}),(0,t.jsx)(i.Form.Item,{label:(0,t.jsxs)("span",{children:["策略"," ",(0,t.jsx)(K.Tooltip,{title:M("teams.createModal.policiesHelp"),children:(0,t.jsx)("a",{href:"https://docs.litellm.ai/docs/proxy/guardrails/guardrail_policies",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),children:(0,t.jsx)(em.InfoCircleOutlined,{style:{marginLeft:"4px"}})})})]}),name:"policies",className:"mt-8",help:M("teams.createModal.policiesPlaceholder"),children:(0,t.jsx)(b.Select,{mode:"tags",style:{width:"100%"},placeholder:M("teams.createModal.policiesPlaceholder"),options:P.map(e=>({value:e,label:e}))})}),(0,t.jsx)(i.Form.Item,{label:(0,t.jsxs)("span",{children:["可用向量库"," ",(0,t.jsx)(K.Tooltip,{title:M("teams.createModal.availableVectorStoresHelp"),children:(0,t.jsx)(em.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"allowed_vector_store_ids",className:"mt-8",help:M("teams.createModal.availableVectorStoresPlaceholder"),children:(0,t.jsx)(eh.default,{onChange:e=>k.setFieldValue("allowed_vector_store_ids",e),value:k.getFieldValue("allowed_vector_store_ids"),accessToken:C||"",placeholder:M("teams.createModal.availableVectorStoresPlaceholder")})})]})]}),(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsxs)(en.Accordion,{className:"mb-4",children:[(0,t.jsx)(ec.AccordionHeader,{children:(0,t.jsx)("b",{children:M("teams.createModal.mcpSettings")})}),(0,t.jsxs)(ed.AccordionBody,{children:[(0,t.jsx)(i.Form.Item,{label:(0,t.jsxs)("span",{children:["可用 MCP 服务"," ",(0,t.jsx)(K.Tooltip,{title:M("teams.createModal.availableMcpServersHelp"),children:(0,t.jsx)(em.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"allowed_mcp_servers_and_groups",className:"mt-4",help:M("teams.createModal.availableMcpServersPlaceholder"),children:(0,t.jsx)(eg.default,{onChange:e=>k.setFieldValue("allowed_mcp_servers_and_groups",e),value:k.getFieldValue("allowed_mcp_servers_and_groups"),accessToken:C||"",placeholder:M("teams.createModal.availableMcpServersPlaceholder")})}),(0,t.jsx)(i.Form.Item,{name:"mcp_tool_permissions",initialValue:{},hidden:!0,children:(0,t.jsx)(ei.Input,{type:"hidden"})}),(0,t.jsx)(i.Form.Item,{noStyle:!0,shouldUpdate:(e,t)=>e.allowed_mcp_servers_and_groups!==t.allowed_mcp_servers_and_groups||e.mcp_tool_permissions!==t.mcp_tool_permissions,children:()=>(0,t.jsx)("div",{className:"mt-6",children:(0,t.jsx)(ef.default,{accessToken:C||"",selectedServers:k.getFieldValue("allowed_mcp_servers_and_groups")?.servers||[],toolPermissions:k.getFieldValue("mcp_tool_permissions")||{},onChange:e=>k.setFieldsValue({mcp_tool_permissions:e})})})})]})]}),(0,t.jsxs)(en.Accordion,{className:"mb-4",children:[(0,t.jsx)(ec.AccordionHeader,{children:(0,t.jsx)("b",{children:M("teams.createModal.agentsSettings")})}),(0,t.jsx)(ed.AccordionBody,{children:(0,t.jsx)(i.Form.Item,{label:(0,t.jsxs)("span",{children:["可用智能体"," ",(0,t.jsx)(K.Tooltip,{title:M("teams.createModal.availableAgentsHelp"),children:(0,t.jsx)(em.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"allowed_agents_and_groups",className:"mt-4",help:M("teams.createModal.availableAgentsPlaceholder"),children:(0,t.jsx)(ep.default,{onChange:e=>k.setFieldValue("allowed_agents_and_groups",e),value:k.getFieldValue("allowed_agents_and_groups"),accessToken:C||"",placeholder:M("teams.createModal.availableAgentsPlaceholder")})})})]}),(0,t.jsxs)(en.Accordion,{className:"mb-4",children:[(0,t.jsx)(ec.AccordionHeader,{children:(0,t.jsx)("b",{children:M("teams.createModal.loggingSettings")})}),(0,t.jsx)(ed.AccordionBody,{children:(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsx)(ex.default,{value:f,onChange:y,premiumUser:S})})})]}),(0,t.jsxs)(en.Accordion,{className:"mb-0",children:[(0,t.jsx)(ec.AccordionHeader,{children:(0,t.jsx)("b",{children:M("teams.createModal.modelAliases")})}),(0,t.jsx)(ed.AccordionBody,{children:(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)(c.Text,{className:"text-sm text-gray-600 mb-4",children:M("teams.createModal.modelAliasesDesc")}),(0,t.jsx)(eb.default,{accessToken:C||"",initialModelAliases:g,onAliasUpdate:p,showExampleConfig:!1})]})})]})]})]})]})]}),(0,t.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,t.jsx)(er.Button,{htmlType:"submit",children:M("teams.createModal.submit")})})]})})};e.s(["default",0,({teams:e,accessToken:d,setTeams:m,userID:h,userRole:g,organizations:p,premiumUser:x=!1})=>{let{t:b}=(0,l.useLanguage)(),[f,j]=(0,a.useState)(null),[_,y]=(0,a.useState)(!1),[k,T]=(0,a.useState)({team_id:"",team_alias:"",organization_id:"",sort_by:"created_at",sort_order:"desc"}),[O]=i.Form.useForm(),[$]=i.Form.useForm(),[I,F]=(0,a.useState)(null),[z,A]=(0,a.useState)(!1),[L,D]=(0,a.useState)(!1),[H,R]=(0,a.useState)(!1),[V,W]=(0,a.useState)(!1),[K,q]=(0,a.useState)([]),[J,U]=(0,a.useState)(!1),[G,Z]=(0,a.useState)(null),[X,Y]=(0,a.useState)({}),[Q,ee]=(0,a.useState)([]),[ea,el]=(0,a.useState)({}),{lastRefreshed:er,onRefreshClick:ei}=(({currentOrg:e,setTeams:t})=>{let[l,s]=(0,a.useState)(""),{accessToken:i,userId:o,userRole:n}=(0,B.default)(),d=(0,a.useCallback)(()=>{s(new Date().toLocaleString())},[]);return(0,a.useEffect)(()=>{i&&(0,r.fetchTeams)(i,o,n,e,t).then(),d()},[i,e,l,d,t,o,n]),{lastRefreshed:l,setLastRefreshed:s,onRefreshClick:d}})({currentOrg:f,setTeams:m});(0,a.useEffect)(()=>{e&&Y(e.reduce((e,t)=>(e[t.team_id]={keys:t.keys||[],team_info:{members_with_roles:t.members_with_roles||[]}},e),{}))},[e]);let eo=async e=>{Z(e),U(!0)},en=async()=>{if(null!=G&&null!=e&&null!=d){try{await (0,s.teamDeleteCall)(d,G),(0,r.fetchTeams)(d,h,g,f,m)}catch(e){console.error("Error deleting the team:",e)}U(!1),Z(null)}};return(0,t.jsx)("div",{className:"w-full mx-4 h-[75vh]",children:(0,t.jsx)(C.Grid,{numItems:1,className:"gap-2 p-8 w-full mt-2",children:(0,t.jsxs)(N.Col,{numColSpan:1,className:"flex flex-col gap-2",children:[("Admin"==g||"Org Admin"==g)&&(0,t.jsx)(u.Button,{className:"w-fit",onClick:()=>D(!0),children:b("teams.create")}),I?(0,t.jsx)(o.default,{teamId:I,onUpdate:e=>{m(t=>{if(null==t)return t;let a=t.map(t=>e.team_id===t.team_id?(0,M.updateExistingKeys)(t,e):t);return d&&(0,r.fetchTeams)(d,h,g,f,m),a})},onClose:()=>{F(null),A(!1)},accessToken:d,is_team_admin:(e=>{if(null==e||null==e.members_with_roles)return!1;for(let t=0;t<e.members_with_roles.length;t++){let a=e.members_with_roles[t];if(a.user_id==h&&"admin"==a.role)return!0}return!1})(e?.find(e=>e.team_id===I)),is_proxy_admin:"Admin"==g,userModels:K,editTeam:z,premiumUser:x}):(0,t.jsxs)(E,{lastRefreshed:er,onRefresh:ei,userRole:g,children:[(0,t.jsxs)(S.TabPanel,{children:[(0,t.jsx)(c.Text,{children:b("teams.clickToView")}),(0,t.jsx)(C.Grid,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,t.jsx)(N.Col,{numColSpan:1,children:(0,t.jsxs)(n.Card,{className:"w-full mx-auto flex-auto overflow-hidden overflow-y-auto max-h-[50vh]",children:[(0,t.jsx)("div",{className:"border-b px-6 py-4",children:(0,t.jsx)("div",{className:"flex flex-col space-y-4",children:(0,t.jsx)(P,{filters:k,organizations:p,showFilters:_,onToggleFilters:y,onChange:(e,t)=>{let a={...k,[e]:t};T(a),d&&(0,s.v2TeamListCall)(d,a.organization_id||null,null,a.team_id||null,a.team_alias||null).then(e=>{e&&e.teams&&m(e.teams)}).catch(e=>{console.error("Error fetching teams:",e)})},onReset:()=>{T({team_id:"",team_alias:"",organization_id:"",sort_by:"created_at",sort_order:"desc"}),d&&(0,s.v2TeamListCall)(d,null,h||null,null,null).then(e=>{e&&e.teams&&m(e.teams)}).catch(e=>{console.error("Error fetching teams:",e)})}})})}),(0,t.jsx)(et,{teams:e,currentOrg:f,perTeamInfo:X,userRole:g,userId:h,setSelectedTeamId:F,setEditTeam:A,onDeleteTeam:eo}),J&&(0,t.jsx)(es,{teams:e,teamToDelete:G,onCancel:()=>{U(!1),Z(null)},onConfirm:en})]})})})]}),(0,w.isAdminRole)(g||"")&&(0,t.jsx)(S.TabPanel,{children:(0,t.jsx)(v,{accessToken:d,userID:h||"",userRole:g||""})})]}),("Admin"==g||"Org Admin"==g)&&(0,t.jsx)(ej,{isTeamModalVisible:L,handleOk:()=>{D(!1),O.resetFields(),ee([]),el({})},handleCancel:()=>{D(!1),O.resetFields(),ee([]),el({})},currentOrg:f,organizations:p,teams:e,setTeams:m,modelAliases:ea,setModelAliases:el,loggingSettings:Q,setLoggingSettings:ee,setIsTeamModalVisible:D})]})})})}],227814)}]);