(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,846835,e=>{"use strict";var t=e.i(843476),a=e.i(655913),i=e.i(38419),l=e.i(78334),r=e.i(555436),s=e.i(284614);let o=({filters:e,showFilters:o,onToggleFilters:n,onChange:d,onReset:c})=>{let m=!!(e.org_id||e.org_alias);return(0,t.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3",children:[(0,t.jsx)(a.FilterInput,{placeholder:"按组织名称搜索",value:e.org_alias,onChange:e=>d("org_alias",e),icon:r.Search,className:"w-64"}),(0,t.jsx)(i.FiltersButton,{onClick:()=>n(!o),active:o,hasActiveFilters:m,label:"筛选"}),(0,t.jsx)(l.ResetFiltersButton,{onClick:c,label:"重置筛选"})]}),o&&(0,t.jsx)("div",{className:"flex flex-wrap items-center gap-3 mt-3",children:(0,t.jsx)(a.FilterInput,{placeholder:"按组织 ID 搜索",value:e.org_id,onChange:e=>d("org_id",e),icon:s.User,className:"w-64"})})]})};var n=e.i(827252),d=e.i(871943),c=e.i(502547),m=e.i(278587),u=e.i(389083),g=e.i(994388),h=e.i(304967),p=e.i(309426),b=e.i(350967),x=e.i(752978),f=e.i(197647),v=e.i(653824),_=e.i(269200),j=e.i(942232),y=e.i(977572),z=e.i(427612),w=e.i(64848),C=e.i(496020),T=e.i(881073),N=e.i(404206),D=e.i(723731),S=e.i(599724),O=e.i(779241),I=e.i(808613),F=e.i(311451),k=e.i(212931),$=e.i(199133),P=e.i(592968),M=e.i(271645),E=e.i(111110),B=e.i(500330),R=e.i(127952),A=e.i(902555),L=e.i(355619),q=e.i(75921),H=e.i(162386),K=e.i(727749),U=e.i(764205),Q=e.i(785242),V=e.i(980187),W=e.i(530212),G=e.i(629569),Z=e.i(464571),J=e.i(653496),X=e.i(898586),Y=e.i(678784),ee=e.i(118366),et=e.i(294612),ea=e.i(907308),ei=e.i(384767),el=e.i(435451),er=e.i(276173),es=e.i(916940);let eo=({organizationId:e,onClose:a,accessToken:i,is_org_admin:l,is_proxy_admin:r,userModels:s,editOrg:o})=>{let[n,d]=(0,M.useState)(null),[c,m]=(0,M.useState)(!0),[p]=I.Form.useForm(),[x,f]=(0,M.useState)(!1),[v,_]=(0,M.useState)(!1),[j,y]=(0,M.useState)(!1),[z,w]=(0,M.useState)(null),[C,T]=(0,M.useState)({}),[N,D]=(0,M.useState)(!1),k=l||r,{data:P}=(0,Q.useTeams)(),{t:R}=(0,E.useLanguage)(),A=(0,M.useMemo)(()=>(0,V.createTeamAliasMap)(P),[P]),L=async()=>{try{if(m(!0),!i)return;let t=await (0,U.organizationInfoCall)(i,e);d(t)}catch(e){K.default.fromBackend(R("organizationDetail.errors.loadFailed")),console.error("Error fetching organization info:",e)}finally{m(!1)}};(0,M.useEffect)(()=>{L()},[e,i]);let eo=async t=>{try{if(null==i)return;let a={user_email:t.user_email,user_id:t.user_id,role:t.role};await (0,U.organizationMemberAddCall)(i,e,a),K.default.success(R("organizationDetail.notifications.memberAdded")),_(!1),p.resetFields(),L()}catch(e){K.default.fromBackend(R("organizationDetail.errors.memberAddFailed")),console.error("Error adding organization member:",e)}},en=async t=>{try{if(!i)return;let a={user_email:t.user_email,user_id:t.user_id,role:t.role};await (0,U.organizationMemberUpdateCall)(i,e,a),K.default.success(R("organizationDetail.notifications.memberUpdated")),y(!1),p.resetFields(),L()}catch(e){K.default.fromBackend(R("organizationDetail.errors.memberUpdateFailed")),console.error("Error updating organization member:",e)}},ed=async t=>{try{if(!i)return;await (0,U.organizationMemberDeleteCall)(i,e,t.user_id),K.default.success(R("organizationDetail.notifications.memberDeleted")),y(!1),p.resetFields(),L()}catch(e){K.default.fromBackend(R("organizationDetail.errors.memberDeleteFailed")),console.error("Error deleting organization member:",e)}},ec=async t=>{try{if(!i)return;D(!0);let a={organization_id:e,organization_alias:t.organization_alias,models:t.models,litellm_budget_table:{tpm_limit:t.tpm_limit,rpm_limit:t.rpm_limit,max_budget:t.max_budget,budget_duration:t.budget_duration},metadata:t.metadata?JSON.parse(t.metadata):null};if((void 0!==t.vector_stores||void 0!==t.mcp_servers_and_groups)&&(a.object_permission={...n?.object_permission,vector_stores:t.vector_stores||[]},void 0!==t.mcp_servers_and_groups)){let{servers:e,accessGroups:i}=t.mcp_servers_and_groups||{servers:[],accessGroups:[]};e&&e.length>0&&(a.object_permission.mcp_servers=e),i&&i.length>0&&(a.object_permission.mcp_access_groups=i)}await (0,U.organizationUpdateCall)(i,a),K.default.success(R("organizationDetail.notifications.settingsUpdated")),f(!1),L()}catch(e){K.default.fromBackend(R("organizationDetail.errors.settingsUpdateFailed")),console.error("Error updating organization:",e)}finally{D(!1)}};if(c)return(0,t.jsx)("div",{className:"p-4",children:R("organizationDetail.loading")});if(!n)return(0,t.jsx)("div",{className:"p-4",children:R("organizationDetail.notFound")});let em=async(e,t)=>{await (0,B.copyToClipboard)(e)&&(T(e=>({...e,[t]:!0})),setTimeout(()=>{T(e=>({...e,[t]:!1}))},2e3))},eu=[{title:R("organizationDetail.columns.spend"),key:"spend",render:(e,a)=>{let i=null!=a.user_id?(n.members||[]).find(e=>e.user_id===a.user_id):void 0;return(0,t.jsx)(X.Typography.Text,{children:(0,B.formatNumberWithCommas)(i?.spend??0,4)})}},{title:R("organizationDetail.columns.createdAt"),key:"created_at",render:(e,a)=>{let i=null!=a.user_id?(n.members||[]).find(e=>e.user_id===a.user_id):void 0;return(0,t.jsx)(X.Typography.Text,{children:i?.created_at?new Date(i.created_at).toLocaleString():"-"})}}];return(0,t.jsxs)("div",{className:"w-full h-screen p-4 bg-white",children:[(0,t.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,t.jsxs)("div",{children:[(0,t.jsx)(g.Button,{icon:W.ArrowLeftIcon,onClick:a,variant:"light",className:"mb-4",children:R("organizationDetail.backButton")}),(0,t.jsx)(G.Title,{children:n.organization_alias}),(0,t.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,t.jsx)(S.Text,{className:"text-gray-500 font-mono",children:n.organization_id}),(0,t.jsx)(Z.Button,{type:"text",size:"small",icon:C["org-id"]?(0,t.jsx)(Y.CheckIcon,{size:12}):(0,t.jsx)(ee.CopyIcon,{size:12}),onClick:()=>em(n.organization_id,"org-id"),className:`left-2 z-10 transition-all duration-200 ${C["org-id"]?"text-green-600 bg-green-50 border-green-200":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`})]})]})}),(0,t.jsx)(J.Tabs,{defaultActiveKey:o?"settings":"overview",className:"mb-4",items:[{key:"overview",label:R("organizationDetail.tabs.overview"),children:(0,t.jsxs)(b.Grid,{numItems:1,numItemsSm:2,numItemsLg:3,className:"gap-6",children:[(0,t.jsxs)(h.Card,{children:[(0,t.jsx)(S.Text,{children:R("organizationDetail.overview.orgDetails")}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)(S.Text,{children:[R("organizationDetail.overview.created"),": ",new Date(n.created_at).toLocaleDateString()]}),(0,t.jsxs)(S.Text,{children:[R("organizationDetail.overview.updated"),": ",new Date(n.updated_at).toLocaleDateString()]}),(0,t.jsxs)(S.Text,{children:[R("organizationDetail.overview.createdBy"),": ",n.created_by]})]})]}),(0,t.jsxs)(h.Card,{children:[(0,t.jsx)(S.Text,{children:R("organizationDetail.overview.budgetStatus")}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsx)(G.Title,{children:(0,B.formatNumberWithCommas)(n.spend,4)}),(0,t.jsxs)(S.Text,{children:[R("organizationDetail.overview.of")," ",null===n.litellm_budget_table.max_budget?R("organizationDetail.overview.unlimited"):(0,B.formatNumberWithCommas)(n.litellm_budget_table.max_budget,4)]}),n.litellm_budget_table.budget_duration&&(0,t.jsxs)(S.Text,{className:"text-gray-500",children:[R("organizationDetail.overview.reset"),": ",n.litellm_budget_table.budget_duration]})]})]}),(0,t.jsxs)(h.Card,{children:[(0,t.jsx)(S.Text,{children:R("organizationDetail.overview.rateLimits")}),(0,t.jsxs)("div",{className:"mt-2",children:[(0,t.jsxs)(S.Text,{children:[R("organizationDetail.overview.tpm"),": ",n.litellm_budget_table.tpm_limit||R("organizationDetail.overview.unlimited")]}),(0,t.jsxs)(S.Text,{children:[R("organizationDetail.overview.rpm"),": ",n.litellm_budget_table.rpm_limit||R("organizationDetail.overview.unlimited")]}),n.litellm_budget_table.max_parallel_requests&&(0,t.jsxs)(S.Text,{children:[R("organizationDetail.overview.maxParallelRequests"),": ",n.litellm_budget_table.max_parallel_requests]})]})]}),(0,t.jsxs)(h.Card,{children:[(0,t.jsx)(S.Text,{children:R("organizationDetail.overview.models")}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:0===n.models.length?(0,t.jsx)(u.Badge,{color:"red",children:R("organizationDetail.overview.allProxyModels")}):n.models.map((e,a)=>(0,t.jsx)(u.Badge,{color:"red",children:e},a))})]}),(0,t.jsxs)(h.Card,{children:[(0,t.jsx)(S.Text,{children:R("organizationDetail.overview.teams")}),(0,t.jsx)("div",{className:"mt-2 flex flex-wrap gap-2",children:n.teams?.map((e,a)=>(0,t.jsx)(u.Badge,{color:"red",children:A[e.team_id]||e.team_id},a))})]}),(0,t.jsx)(ei.default,{objectPermission:n.object_permission,variant:"card",accessToken:i})]})},{key:"members",label:R("organizationDetail.tabs.members"),children:(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsx)(et.default,{members:(n.members||[]).map(e=>({role:e.user_role||"",user_id:e.user_id,user_email:e.user_email})),canEdit:k,onEdit:e=>{w(e),y(!0)},onDelete:e=>ed(e),onAddMember:()=>_(!0),roleColumnTitle:R("organizationDetail.members.roleColumn"),extraColumns:eu,emptyText:R("organizationDetail.members.noMembers")})})},{key:"settings",label:R("organizationDetail.tabs.settings"),children:(0,t.jsxs)(h.Card,{className:"overflow-y-auto max-h-[65vh]",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)(G.Title,{children:R("organizationDetail.settings.title")}),k&&!x&&(0,t.jsx)(g.Button,{onClick:()=>f(!0),children:R("organizationDetail.settings.editButton")})]}),x?(0,t.jsxs)(I.Form,{form:p,onFinish:ec,initialValues:{organization_alias:n.organization_alias,models:n.models,tpm_limit:n.litellm_budget_table.tpm_limit,rpm_limit:n.litellm_budget_table.rpm_limit,max_budget:n.litellm_budget_table.max_budget,budget_duration:n.litellm_budget_table.budget_duration,metadata:n.metadata?JSON.stringify(n.metadata,null,2):"",vector_stores:n.object_permission?.vector_stores||[],mcp_servers_and_groups:{servers:n.object_permission?.mcp_servers||[],accessGroups:n.object_permission?.mcp_access_groups||[]}},layout:"vertical",children:[(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.orgName"),name:"organization_alias",rules:[{required:!0,message:R("organizationDetail.settings.orgNameRequired")}],children:(0,t.jsx)(O.TextInput,{})}),(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.models"),name:"models",children:(0,t.jsx)(H.ModelSelect,{value:p.getFieldValue("models"),onChange:e=>p.setFieldValue("models",e),context:"organization",options:{includeSpecialOptions:!0,showAllProxyModelsOverride:!0}})}),(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.maxBudget"),name:"max_budget",children:(0,t.jsx)(el.default,{step:.01,precision:2,style:{width:"100%"}})}),(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.resetBudget"),name:"budget_duration",children:(0,t.jsxs)($.Select,{placeholder:R("organizationDetail.settings.resetBudgetPlaceholder"),children:[(0,t.jsx)($.Select.Option,{value:"24h",children:R("organizationDetail.settings.daily")}),(0,t.jsx)($.Select.Option,{value:"7d",children:R("organizationDetail.settings.weekly")}),(0,t.jsx)($.Select.Option,{value:"30d",children:R("organizationDetail.settings.monthly")})]})}),(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.tpmLimit"),name:"tpm_limit",children:(0,t.jsx)(el.default,{step:1,style:{width:"100%"}})}),(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.rpmLimit"),name:"rpm_limit",children:(0,t.jsx)(el.default,{step:1,style:{width:"100%"}})}),(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.vectorStores"),name:"vector_stores",children:(0,t.jsx)(es.default,{onChange:e=>p.setFieldValue("vector_stores",e),value:p.getFieldValue("vector_stores"),accessToken:i||"",placeholder:R("organizationDetail.settings.vectorStoresPlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.mcpServers"),name:"mcp_servers_and_groups",children:(0,t.jsx)(q.default,{onChange:e=>p.setFieldValue("mcp_servers_and_groups",e),value:p.getFieldValue("mcp_servers_and_groups"),accessToken:i||"",placeholder:R("organizationDetail.settings.mcpServersPlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:R("organizationDetail.settings.metadata"),name:"metadata",children:(0,t.jsx)(F.Input.TextArea,{rows:4})}),(0,t.jsx)("div",{className:"sticky z-10 bg-white p-4 border-t border-gray-200 bottom-[-1.5rem] inset-x-[-1.5rem]",children:(0,t.jsxs)("div",{className:"flex justify-end items-center gap-2",children:[(0,t.jsx)(g.Button,{variant:"secondary",onClick:()=>f(!1),disabled:N,children:R("organizationDetail.settings.cancel")}),(0,t.jsx)(g.Button,{type:"submit",loading:N,children:R("organizationDetail.settings.saveChanges")})]})})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(S.Text,{className:"font-medium",children:R("organizationDetail.settings.orgName")}),(0,t.jsx)("div",{children:n.organization_alias})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S.Text,{className:"font-medium",children:R("organizationDetail.settings.orgId")}),(0,t.jsx)("div",{className:"font-mono",children:n.organization_id})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S.Text,{className:"font-medium",children:R("organizationDetail.settings.createdAt")}),(0,t.jsx)("div",{children:new Date(n.created_at).toLocaleString()})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S.Text,{className:"font-medium",children:R("organizationDetail.settings.models")}),(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mt-1",children:n.models.map((e,a)=>(0,t.jsx)(u.Badge,{color:"red",children:e},a))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S.Text,{className:"font-medium",children:R("organizationDetail.settings.rateLimits")}),(0,t.jsxs)("div",{children:[R("organizationDetail.overview.tpm"),": ",n.litellm_budget_table.tpm_limit||R("organizationDetail.overview.unlimited")]}),(0,t.jsxs)("div",{children:[R("organizationDetail.overview.rpm"),": ",n.litellm_budget_table.rpm_limit||R("organizationDetail.overview.unlimited")]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S.Text,{className:"font-medium",children:R("organizationDetail.settings.budget")}),(0,t.jsxs)("div",{children:[R("organizationDetail.settings.max"),":"," ",null!==n.litellm_budget_table.max_budget?(0,B.formatNumberWithCommas)(n.litellm_budget_table.max_budget,4):R("organizationDetail.settings.noLimit")]}),(0,t.jsxs)("div",{children:[R("organizationDetail.settings.reset"),": ",n.litellm_budget_table.budget_duration||R("organizationDetail.settings.never")]})]}),(0,t.jsx)(ei.default,{objectPermission:n.object_permission,variant:"inline",className:"pt-4 border-t border-gray-200",accessToken:i})]})]})}]}),(0,t.jsx)(ea.default,{isVisible:v,onCancel:()=>_(!1),onSubmit:eo,accessToken:i,title:R("organizationDetail.members.addMemberTitle"),roles:[{label:"org_admin",value:"org_admin",description:R("organizationDetail.members.roles.orgAdmin.description")},{label:"internal_user",value:"internal_user",description:R("organizationDetail.members.roles.internalUser.description")},{label:"internal_user_viewer",value:"internal_user_viewer",description:R("organizationDetail.members.roles.internalUserViewer.description")}],defaultRole:"internal_user"}),(0,t.jsx)(er.default,{visible:j,onCancel:()=>y(!1),onSubmit:en,initialData:z,mode:"edit",config:{title:R("organizationDetail.members.editMemberTitle"),showEmail:!0,showUserId:!0,roleOptions:[{label:R("organizationDetail.members.roles.orgAdmin.label"),value:"org_admin"},{label:R("organizationDetail.members.roles.internalUser.label"),value:"internal_user"},{label:R("organizationDetail.members.roles.internalUserViewer.label"),value:"internal_user_viewer"}]}})]})},en=async(e,t,a=null,i=null)=>{t(await (0,U.organizationListCall)(e,a,i))};e.s(["default",0,({organizations:e,userRole:a,userModels:i,accessToken:l,lastRefreshed:r,handleRefreshClick:s,currentOrg:Q,guardrailsList:V=[],setOrganizations:W,premiumUser:G})=>{let{t:Z}=(0,E.useLanguage)(),[J,X]=(0,M.useState)(null),[Y,ee]=(0,M.useState)(!1),[et,ea]=(0,M.useState)(!1),[ei,er]=(0,M.useState)(null),[ed,ec]=(0,M.useState)(!1),[em,eu]=(0,M.useState)(!1),[eg]=I.Form.useForm(),[eh,ep]=(0,M.useState)({}),[eb,ex]=(0,M.useState)(!1),[ef,ev]=(0,M.useState)({org_id:"",org_alias:"",sort_by:"created_at",sort_order:"desc"}),e_=async()=>{if(ei&&l)try{ec(!0),await (0,U.organizationDeleteCall)(l,ei),K.default.success(Z("organizations.notifications.deleteSuccess")),ea(!1),er(null),await en(l,W,ef.org_id||null,ef.org_alias||null)}catch(e){console.error("Error deleting organization:",e)}finally{ec(!1)}},ej=async e=>{try{if(!l)return;console.log(`values in organizations new create call: ${JSON.stringify(e)}`),(e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0||e.allowed_mcp_servers_and_groups&&(e.allowed_mcp_servers_and_groups.servers?.length>0||e.allowed_mcp_servers_and_groups.accessGroups?.length>0))&&(e.object_permission={},e.allowed_vector_store_ids&&e.allowed_vector_store_ids.length>0&&(e.object_permission.vector_stores=e.allowed_vector_store_ids,delete e.allowed_vector_store_ids),e.allowed_mcp_servers_and_groups&&(e.allowed_mcp_servers_and_groups.servers?.length>0&&(e.object_permission.mcp_servers=e.allowed_mcp_servers_and_groups.servers),e.allowed_mcp_servers_and_groups.accessGroups?.length>0&&(e.object_permission.mcp_access_groups=e.allowed_mcp_servers_and_groups.accessGroups),delete e.allowed_mcp_servers_and_groups)),await (0,U.organizationCreateCall)(l,e),K.default.success(Z("organizations.notifications.createSuccess")),eu(!1),eg.resetFields(),en(l,W,ef.org_id||null,ef.org_alias||null)}catch(e){console.error("Error creating organization:",e)}};return(0,t.jsxs)("div",{className:"w-full mx-4 h-[75vh]",children:[(0,t.jsx)(b.Grid,{numItems:1,className:"gap-2 p-8 w-full mt-2",children:(0,t.jsxs)(p.Col,{numColSpan:1,className:"flex flex-col gap-2",children:[(0,t.jsxs)(g.Button,{className:"w-fit",onClick:()=>eu(!0),children:["+ ",Z("organizations.createButton")]}),J?(0,t.jsx)(eo,{organizationId:J,onClose:()=>{X(null),ee(!1)},accessToken:l,is_org_admin:!0,is_proxy_admin:"Admin"===a,userModels:i,editOrg:Y}):(0,t.jsxs)(v.TabGroup,{className:"gap-2 h-[75vh] w-full",children:[(0,t.jsxs)(T.TabList,{className:"flex justify-between mt-2 w-full items-center",children:[(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)(f.Tab,{children:Z("organizations.myOrganizations")})}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[r&&(0,t.jsxs)(S.Text,{children:[Z("organizations.lastRefreshed"),r]}),(0,t.jsx)(x.Icon,{icon:m.RefreshIcon,variant:"shadow",size:"xs",className:"self-center",onClick:s})]})]}),(0,t.jsx)(D.TabPanels,{children:(0,t.jsxs)(N.TabPanel,{children:[(0,t.jsx)(S.Text,{children:Z("organizations.clickToView")}),(0,t.jsx)(b.Grid,{numItems:1,className:"gap-2 pt-2 pb-2 h-[75vh] w-full mt-2",children:(0,t.jsx)(p.Col,{numColSpan:1,children:(0,t.jsxs)(h.Card,{className:"w-full mx-auto flex-auto overflow-hidden overflow-y-auto max-h-[50vh]",children:[(0,t.jsx)("div",{className:"border-b px-6 py-4",children:(0,t.jsx)("div",{className:"flex flex-col space-y-4",children:(0,t.jsx)(o,{filters:ef,showFilters:eb,onToggleFilters:ex,onChange:(e,t)=>{let a={...ef,[e]:t};ev(a),l&&(0,U.organizationListCall)(l,a.org_id||null,a.org_alias||null).then(e=>{e&&W(e)}).catch(e=>{console.error("Error fetching organizations:",e)})},onReset:()=>{ev({org_id:"",org_alias:"",sort_by:"created_at",sort_order:"desc"}),l&&(0,U.organizationListCall)(l,null,null).then(e=>{e&&W(e)}).catch(e=>{console.error("Error fetching organizations:",e)})}})})}),(0,t.jsxs)(_.Table,{children:[(0,t.jsx)(z.TableHead,{children:(0,t.jsxs)(C.TableRow,{children:[(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.orgId")}),(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.orgName")}),(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.createdAt")}),(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.spend")}),(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.budget")}),(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.models")}),(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.tpmRpmLimit")}),(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.info")}),(0,t.jsx)(w.TableHeaderCell,{children:Z("organizations.table.actions")})]})}),(0,t.jsx)(j.TableBody,{children:e&&e.length>0?e.sort((e,t)=>new Date(t.created_at).getTime()-new Date(e.created_at).getTime()).map(e=>(0,t.jsxs)(C.TableRow,{children:[(0,t.jsx)(y.TableCell,{children:(0,t.jsx)("div",{className:"overflow-hidden",children:(0,t.jsx)(P.Tooltip,{title:e.organization_id,children:(0,t.jsxs)(g.Button,{size:"xs",variant:"light",className:"font-mono text-[#6E29F6] bg-[#F1EAFE] hover:bg-[#E6D9FE] text-xs font-normal px-2 py-0.5 text-left overflow-hidden truncate max-w-[200px]",onClick:()=>X(e.organization_id),children:[e.organization_id?.slice(0,7),"..."]})})})}),(0,t.jsx)(y.TableCell,{children:e.organization_alias}),(0,t.jsx)(y.TableCell,{children:e.created_at?new Date(e.created_at).toLocaleDateString():Z("organizations.table.noDate")}),(0,t.jsx)(y.TableCell,{children:(0,B.formatNumberWithCommas)(e.spend,4)}),(0,t.jsx)(y.TableCell,{children:e.litellm_budget_table?.max_budget!==null&&e.litellm_budget_table?.max_budget!==void 0?e.litellm_budget_table?.max_budget:Z("organizations.table.unlimited")}),(0,t.jsx)(y.TableCell,{style:{maxWidth:"8-x",whiteSpace:"pre-wrap",overflow:"hidden"},className:e.models.length>3?"px-0":"",children:(0,t.jsx)("div",{className:"flex flex-col",children:Array.isArray(e.models)?(0,t.jsx)("div",{className:"flex flex-col",children:0===e.models.length?(0,t.jsx)(u.Badge,{size:"xs",className:"mb-1",color:"red",children:(0,t.jsx)(S.Text,{children:Z("organizations.table.allModels")})}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"flex items-start",children:[e.models.length>3&&(0,t.jsx)("div",{children:(0,t.jsx)(x.Icon,{icon:eh[e.organization_id||""]?d.ChevronDownIcon:c.ChevronRightIcon,className:"cursor-pointer",size:"xs",onClick:()=>{ep(t=>({...t,[e.organization_id||""]:!t[e.organization_id||""]}))}})}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-1",children:[e.models.slice(0,3).map((e,a)=>"all-proxy-models"===e?(0,t.jsx)(u.Badge,{size:"xs",color:"red",children:(0,t.jsx)(S.Text,{children:Z("organizations.table.allModels")})},a):(0,t.jsx)(u.Badge,{size:"xs",color:"blue",children:(0,t.jsx)(S.Text,{children:e.length>30?`${(0,L.getModelDisplayName)(e).slice(0,30)}...`:(0,L.getModelDisplayName)(e)})},a)),e.models.length>3&&!eh[e.organization_id||""]&&(0,t.jsx)(u.Badge,{size:"xs",color:"gray",className:"cursor-pointer",children:(0,t.jsxs)(S.Text,{children:["+",e.models.length-3,Z("organizations.table.moreModels")]})}),eh[e.organization_id||""]&&(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:e.models.slice(3).map((e,a)=>"all-proxy-models"===e?(0,t.jsx)(u.Badge,{size:"xs",color:"red",children:(0,t.jsx)(S.Text,{children:Z("organizations.table.allModels")})},a+3):(0,t.jsx)(u.Badge,{size:"xs",color:"blue",children:(0,t.jsx)(S.Text,{children:e.length>30?`${(0,L.getModelDisplayName)(e).slice(0,30)}...`:(0,L.getModelDisplayName)(e)})},a+3))})]})]})})}):null})}),(0,t.jsx)(y.TableCell,{children:(0,t.jsxs)(S.Text,{children:[Z("organizations.table.tpm"),e.litellm_budget_table?.tpm_limit?e.litellm_budget_table?.tpm_limit:Z("organizations.table.unlimited"),(0,t.jsx)("br",{}),Z("organizations.table.rpm"),e.litellm_budget_table?.rpm_limit?e.litellm_budget_table?.rpm_limit:Z("organizations.table.unlimited")]})}),(0,t.jsx)(y.TableCell,{children:(0,t.jsxs)(S.Text,{children:[e.members?.length||0,Z("organizations.table.members")]})}),(0,t.jsx)(y.TableCell,{children:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(A.default,{variant:"Edit",tooltipText:Z("organizations.actions.edit"),onClick:()=>{X(e.organization_id),ee(!0)}}),(0,t.jsx)(A.default,{variant:"Delete",tooltipText:Z("organizations.actions.delete"),onClick:()=>{var t;(t=e.organization_id)&&(er(t),ea(!0))}})]})})]},e.organization_id)):null})]})]})})})]})})]})]})}),(0,t.jsx)(k.Modal,{title:Z("organizations.modal.createTitle"),visible:em,width:800,footer:null,onCancel:()=>{eu(!1),eg.resetFields()},children:(0,t.jsxs)(I.Form,{form:eg,onFinish:ej,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[(0,t.jsx)(I.Form.Item,{label:Z("organizations.modal.orgName"),name:"organization_alias",rules:[{required:!0,message:Z("organizations.modal.orgNameRequired")}],children:(0,t.jsx)(O.TextInput,{placeholder:Z("organizations.modal.orgNamePlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:Z("organizations.modal.models"),name:"models",style:{marginTop:16},children:(0,t.jsx)(H.ModelSelect,{options:{showAllProxyModelsOverride:!0,includeSpecialOptions:!0},value:eg.getFieldValue("models"),onChange:e=>eg.setFieldValue("models",e),context:"organization",placeholder:Z("organizations.modal.modelsPlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:Z("organizations.modal.maxBudget"),name:"max_budget",style:{marginTop:16},children:(0,t.jsx)(el.default,{step:.01,precision:2,width:200,placeholder:Z("organizations.modal.maxBudgetPlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:Z("organizations.modal.budgetDuration"),name:"budget_duration",style:{marginTop:16},children:(0,t.jsxs)($.Select,{defaultValue:null,placeholder:Z("organizations.modal.budgetDurationPlaceholder"),children:[(0,t.jsx)($.Select.Option,{value:"24h",children:Z("organizations.modal.budgetDaily")}),(0,t.jsx)($.Select.Option,{value:"7d",children:Z("organizations.modal.budgetWeekly")}),(0,t.jsx)($.Select.Option,{value:"30d",children:Z("organizations.modal.budgetMonthly")})]})}),(0,t.jsx)(I.Form.Item,{label:Z("organizations.modal.tpmLimit"),name:"tpm_limit",style:{marginTop:16},children:(0,t.jsx)(el.default,{step:1,width:400,placeholder:Z("organizations.modal.tpmLimitPlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:Z("organizations.modal.rpmLimit"),name:"rpm_limit",style:{marginTop:16},children:(0,t.jsx)(el.default,{step:1,width:400,placeholder:Z("organizations.modal.rpmLimitPlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:(0,t.jsxs)("span",{children:[Z("organizations.modal.vectorStores")," ",(0,t.jsx)(P.Tooltip,{title:Z("organizations.modal.vectorStoresTooltip"),children:(0,t.jsx)(n.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"allowed_vector_store_ids",style:{marginTop:16,marginBottom:32},help:Z("organizations.modal.vectorStoresHelp"),children:(0,t.jsx)(es.default,{onChange:e=>eg.setFieldValue("allowed_vector_store_ids",e),value:eg.getFieldValue("allowed_vector_store_ids"),accessToken:l||"",placeholder:Z("organizations.modal.vectorStoresPlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:(0,t.jsxs)("span",{children:[Z("organizations.modal.mcpServers")," ",(0,t.jsx)(P.Tooltip,{title:Z("organizations.modal.mcpServersTooltip"),children:(0,t.jsx)(n.InfoCircleOutlined,{style:{marginLeft:"4px"}})})]}),name:"allowed_mcp_servers_and_groups",style:{marginTop:20,marginBottom:32},help:Z("organizations.modal.mcpServersHelp"),children:(0,t.jsx)(q.default,{onChange:e=>eg.setFieldValue("allowed_mcp_servers_and_groups",e),value:eg.getFieldValue("allowed_mcp_servers_and_groups"),accessToken:l||"",placeholder:Z("organizations.modal.mcpServersPlaceholder")})}),(0,t.jsx)(I.Form.Item,{label:Z("organizations.modal.metadata"),name:"metadata",style:{marginTop:16},children:(0,t.jsx)(F.Input.TextArea,{rows:4})}),(0,t.jsx)("div",{style:{textAlign:"right",marginTop:"10px"},children:(0,t.jsx)(g.Button,{type:"submit",children:Z("organizations.modal.createSubmit")})})]})}),(0,t.jsx)(R.default,{isOpen:et,title:Z("organizations.delete.title"),message:Z("organizations.delete.message"),resourceInformationTitle:Z("organizations.delete.resourceTitle"),resourceInformation:[{label:Z("organizations.delete.resourceLabel"),value:ei,code:!0}],onCancel:()=>{ea(!1),er(null)},onOk:e_,confirmLoading:ed})]})},"fetchOrganizations",0,en],846835)},846753,e=>{"use strict";let t=(0,e.i(475254).default)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["default",()=>t])},655913,38419,78334,e=>{"use strict";var t=e.i(843476),a=e.i(115504),i=e.i(311451),l=e.i(374009),r=e.i(271645);e.s(["FilterInput",0,({placeholder:e,value:s,onChange:o,icon:n,className:d})=>{let[c,m]=(0,r.useState)(s);(0,r.useEffect)(()=>{m(s)},[s]);let u=(0,r.useMemo)(()=>(0,l.default)(e=>o(e),300),[o]);(0,r.useEffect)(()=>()=>{u.cancel()},[u]);let g=(0,r.useCallback)(e=>{let t=e.target.value;m(t),u(t)},[u]);return(0,t.jsx)(i.Input,{placeholder:e,value:c,onChange:g,prefix:n?(0,t.jsx)(n,{size:16,className:"text-gray-500"}):void 0,className:(0,a.cx)("w-64",d)})}],655913);var s=e.i(906579),o=e.i(464571);let n=(0,e.i(475254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["FiltersButton",0,({onClick:e,active:a,hasActiveFilters:i,label:l="Filters"})=>(0,t.jsx)(s.Badge,{color:"blue",dot:i,children:(0,t.jsx)(o.Button,{type:"default",onClick:e,icon:(0,t.jsx)(n,{size:16}),className:a?"bg-gray-100":"",children:l})})],38419);var d=e.i(367240);e.s(["ResetFiltersButton",0,({onClick:e,label:a="Reset Filters"})=>(0,t.jsx)(o.Button,{type:"default",onClick:e,icon:(0,t.jsx)(d.RotateCcw,{size:16}),children:a})],78334)},284614,e=>{"use strict";var t=e.i(846753);e.s(["User",()=>t.default])},118366,e=>{"use strict";var t=e.i(991124);e.s(["CopyIcon",()=>t.default])},991124,e=>{"use strict";let t=(0,e.i(475254).default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["default",()=>t])},678784,678745,e=>{"use strict";let t=(0,e.i(475254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>t],678745),e.s(["CheckIcon",()=>t],678784)},906579,e=>{"use strict";e.i(247167);var t=e.i(271645),a=e.i(343794),i=e.i(361275),l=e.i(702779),r=e.i(763731),s=e.i(242064);e.i(296059);var o=e.i(915654),n=e.i(694758),d=e.i(183293),c=e.i(403541),m=e.i(246422),u=e.i(838378);let g=new n.Keyframes("antStatusProcessing",{"0%":{transform:"scale(0.8)",opacity:.5},"100%":{transform:"scale(2.4)",opacity:0}}),h=new n.Keyframes("antZoomBadgeIn",{"0%":{transform:"scale(0) translate(50%, -50%)",opacity:0},"100%":{transform:"scale(1) translate(50%, -50%)"}}),p=new n.Keyframes("antZoomBadgeOut",{"0%":{transform:"scale(1) translate(50%, -50%)"},"100%":{transform:"scale(0) translate(50%, -50%)",opacity:0}}),b=new n.Keyframes("antNoWrapperZoomBadgeIn",{"0%":{transform:"scale(0)",opacity:0},"100%":{transform:"scale(1)"}}),x=new n.Keyframes("antNoWrapperZoomBadgeOut",{"0%":{transform:"scale(1)"},"100%":{transform:"scale(0)",opacity:0}}),f=new n.Keyframes("antBadgeLoadingCircle",{"0%":{transformOrigin:"50%"},"100%":{transform:"translate(50%, -50%) rotate(360deg)",transformOrigin:"50%"}}),v=e=>{let{fontHeight:t,lineWidth:a,marginXS:i,colorBorderBg:l}=e,r=e.colorTextLightSolid,s=e.colorError,o=e.colorErrorHover;return(0,u.mergeToken)(e,{badgeFontHeight:t,badgeShadowSize:a,badgeTextColor:r,badgeColor:s,badgeColorHover:o,badgeShadowColor:l,badgeProcessingDuration:"1.2s",badgeRibbonOffset:i,badgeRibbonCornerTransform:"scaleY(0.75)",badgeRibbonCornerFilter:"brightness(75%)"})},_=e=>{let{fontSize:t,lineHeight:a,fontSizeSM:i,lineWidth:l}=e;return{indicatorZIndex:"auto",indicatorHeight:Math.round(t*a)-2*l,indicatorHeightSM:t,dotSize:i/2,textFontSize:i,textFontSizeSM:i,textFontWeight:"normal",statusSize:i/2}},j=(0,m.genStyleHooks)("Badge",e=>(e=>{let{componentCls:t,iconCls:a,antCls:i,badgeShadowSize:l,textFontSize:r,textFontSizeSM:s,statusSize:n,dotSize:m,textFontWeight:u,indicatorHeight:v,indicatorHeightSM:_,marginXS:j,calc:y}=e,z=`${i}-scroll-number`,w=(0,c.genPresetColor)(e,(e,{darkColor:a})=>({[`&${t} ${t}-color-${e}`]:{background:a,[`&:not(${t}-count)`]:{color:a},"a:hover &":{background:a}}}));return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,d.resetComponent)(e)),{position:"relative",display:"inline-block",width:"fit-content",lineHeight:1,[`${t}-count`]:{display:"inline-flex",justifyContent:"center",zIndex:e.indicatorZIndex,minWidth:v,height:v,color:e.badgeTextColor,fontWeight:u,fontSize:r,lineHeight:(0,o.unit)(v),whiteSpace:"nowrap",textAlign:"center",background:e.badgeColor,borderRadius:y(v).div(2).equal(),boxShadow:`0 0 0 ${(0,o.unit)(l)} ${e.badgeShadowColor}`,transition:`background ${e.motionDurationMid}`,a:{color:e.badgeTextColor},"a:hover":{color:e.badgeTextColor},"a:hover &":{background:e.badgeColorHover}},[`${t}-count-sm`]:{minWidth:_,height:_,fontSize:s,lineHeight:(0,o.unit)(_),borderRadius:y(_).div(2).equal()},[`${t}-multiple-words`]:{padding:`0 ${(0,o.unit)(e.paddingXS)}`,bdi:{unicodeBidi:"plaintext"}},[`${t}-dot`]:{zIndex:e.indicatorZIndex,width:m,minWidth:m,height:m,background:e.badgeColor,borderRadius:"100%",boxShadow:`0 0 0 ${(0,o.unit)(l)} ${e.badgeShadowColor}`},[`${t}-count, ${t}-dot, ${z}-custom-component`]:{position:"absolute",top:0,insetInlineEnd:0,transform:"translate(50%, -50%)",transformOrigin:"100% 0%",[`&${a}-spin`]:{animationName:f,animationDuration:"1s",animationIterationCount:"infinite",animationTimingFunction:"linear"}},[`&${t}-status`]:{lineHeight:"inherit",verticalAlign:"baseline",[`${t}-status-dot`]:{position:"relative",top:-1,display:"inline-block",width:n,height:n,verticalAlign:"middle",borderRadius:"50%"},[`${t}-status-success`]:{backgroundColor:e.colorSuccess},[`${t}-status-processing`]:{overflow:"visible",color:e.colorInfo,backgroundColor:e.colorInfo,borderColor:"currentcolor","&::after":{position:"absolute",top:0,insetInlineStart:0,width:"100%",height:"100%",borderWidth:l,borderStyle:"solid",borderColor:"inherit",borderRadius:"50%",animationName:g,animationDuration:e.badgeProcessingDuration,animationIterationCount:"infinite",animationTimingFunction:"ease-in-out",content:'""'}},[`${t}-status-default`]:{backgroundColor:e.colorTextPlaceholder},[`${t}-status-error`]:{backgroundColor:e.colorError},[`${t}-status-warning`]:{backgroundColor:e.colorWarning},[`${t}-status-text`]:{marginInlineStart:j,color:e.colorText,fontSize:e.fontSize}}}),w),{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:h,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`${t}-zoom-leave`]:{animationName:p,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack,animationFillMode:"both"},[`&${t}-not-a-wrapper`]:{[`${t}-zoom-appear, ${t}-zoom-enter`]:{animationName:b,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`${t}-zoom-leave`]:{animationName:x,animationDuration:e.motionDurationSlow,animationTimingFunction:e.motionEaseOutBack},[`&:not(${t}-status)`]:{verticalAlign:"middle"},[`${z}-custom-component, ${t}-count`]:{transform:"none"},[`${z}-custom-component, ${z}`]:{position:"relative",top:"auto",display:"block",transformOrigin:"50% 50%"}},[z]:{overflow:"hidden",transition:`all ${e.motionDurationMid} ${e.motionEaseOutBack}`,[`${z}-only`]:{position:"relative",display:"inline-block",height:v,transition:`all ${e.motionDurationSlow} ${e.motionEaseOutBack}`,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden",[`> p${z}-only-unit`]:{height:v,margin:0,WebkitTransformStyle:"preserve-3d",WebkitBackfaceVisibility:"hidden"}},[`${z}-symbol`]:{verticalAlign:"top"}},"&-rtl":{direction:"rtl",[`${t}-count, ${t}-dot, ${z}-custom-component`]:{transform:"translate(-50%, -50%)"}}})}})(v(e)),_),y=(0,m.genStyleHooks)(["Badge","Ribbon"],e=>(e=>{let{antCls:t,badgeFontHeight:a,marginXS:i,badgeRibbonOffset:l,calc:r}=e,s=`${t}-ribbon`,n=`${t}-ribbon-wrapper`,m=(0,c.genPresetColor)(e,(e,{darkColor:t})=>({[`&${s}-color-${e}`]:{background:t,color:t}}));return{[n]:{position:"relative"},[s]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,d.resetComponent)(e)),{position:"absolute",top:i,padding:`0 ${(0,o.unit)(e.paddingXS)}`,color:e.colorPrimary,lineHeight:(0,o.unit)(a),whiteSpace:"nowrap",backgroundColor:e.colorPrimary,borderRadius:e.borderRadiusSM,[`${s}-text`]:{color:e.badgeTextColor},[`${s}-corner`]:{position:"absolute",top:"100%",width:l,height:l,color:"currentcolor",border:`${(0,o.unit)(r(l).div(2).equal())} solid`,transform:e.badgeRibbonCornerTransform,transformOrigin:"top",filter:e.badgeRibbonCornerFilter}}),m),{[`&${s}-placement-end`]:{insetInlineEnd:r(l).mul(-1).equal(),borderEndEndRadius:0,[`${s}-corner`]:{insetInlineEnd:0,borderInlineEndColor:"transparent",borderBlockEndColor:"transparent"}},[`&${s}-placement-start`]:{insetInlineStart:r(l).mul(-1).equal(),borderEndStartRadius:0,[`${s}-corner`]:{insetInlineStart:0,borderBlockEndColor:"transparent",borderInlineStartColor:"transparent"}},"&-rtl":{direction:"rtl"}})}})(v(e)),_),z=e=>{let i,{prefixCls:l,value:r,current:s,offset:o=0}=e;return o&&(i={position:"absolute",top:`${o}00%`,left:0}),t.createElement("span",{style:i,className:(0,a.default)(`${l}-only-unit`,{current:s})},r)},w=e=>{let a,i,{prefixCls:l,count:r,value:s}=e,o=Number(s),n=Math.abs(r),[d,c]=t.useState(o),[m,u]=t.useState(n),g=()=>{c(o),u(n)};if(t.useEffect(()=>{let e=setTimeout(g,1e3);return()=>clearTimeout(e)},[o]),d===o||Number.isNaN(o)||Number.isNaN(d))a=[t.createElement(z,Object.assign({},e,{key:o,current:!0}))],i={transition:"none"};else{a=[];let l=o+10,r=[];for(let e=o;e<=l;e+=1)r.push(e);let s=m<n?1:-1,c=r.findIndex(e=>e%10===d);a=(s<0?r.slice(0,c+1):r.slice(c)).map((a,i)=>t.createElement(z,Object.assign({},e,{key:a,value:a%10,offset:s<0?i-c:i,current:i===c}))),i={transform:`translateY(${-function(e,t,a){let i=e,l=0;for(;(i+10)%10!==t;)i+=a,l+=a;return l}(d,o,s)}00%)`}}return t.createElement("span",{className:`${l}-only`,style:i,onTransitionEnd:g},a)};var C=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)0>t.indexOf(i[l])&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};let T=t.forwardRef((e,i)=>{let{prefixCls:l,count:o,className:n,motionClassName:d,style:c,title:m,show:u,component:g="sup",children:h}=e,p=C(e,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),{getPrefixCls:b}=t.useContext(s.ConfigContext),x=b("scroll-number",l),f=Object.assign(Object.assign({},p),{"data-show":u,style:c,className:(0,a.default)(x,n,d),title:m}),v=o;if(o&&Number(o)%1==0){let e=String(o).split("");v=t.createElement("bdi",null,e.map((a,i)=>t.createElement(w,{prefixCls:x,count:Number(o),value:a,key:e.length-i})))}return((null==c?void 0:c.borderColor)&&(f.style=Object.assign(Object.assign({},c),{boxShadow:`0 0 0 1px ${c.borderColor} inset`})),h)?(0,r.cloneElement)(h,e=>({className:(0,a.default)(`${x}-custom-component`,null==e?void 0:e.className,d)})):t.createElement(g,Object.assign({},f,{ref:i}),v)});var N=function(e,t){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&0>t.indexOf(i)&&(a[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,i=Object.getOwnPropertySymbols(e);l<i.length;l++)0>t.indexOf(i[l])&&Object.prototype.propertyIsEnumerable.call(e,i[l])&&(a[i[l]]=e[i[l]]);return a};let D=t.forwardRef((e,o)=>{var n,d,c,m,u;let{prefixCls:g,scrollNumberPrefixCls:h,children:p,status:b,text:x,color:f,count:v=null,overflowCount:_=99,dot:y=!1,size:z="default",title:w,offset:C,style:D,className:S,rootClassName:O,classNames:I,styles:F,showZero:k=!1}=e,$=N(e,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","rootClassName","classNames","styles","showZero"]),{getPrefixCls:P,direction:M,badge:E}=t.useContext(s.ConfigContext),B=P("badge",g),[R,A,L]=j(B),q=v>_?`${_}+`:v,H="0"===q||0===q||"0"===x||0===x,K=null===v||H&&!k,U=(null!=b||null!=f)&&K,Q=null!=b||!H,V=y&&!H,W=V?"":q,G=(0,t.useMemo)(()=>((null==W||""===W)&&(null==x||""===x)||H&&!k)&&!V,[W,H,k,V,x]),Z=(0,t.useRef)(v);G||(Z.current=v);let J=Z.current,X=(0,t.useRef)(W);G||(X.current=W);let Y=X.current,ee=(0,t.useRef)(V);G||(ee.current=V);let et=(0,t.useMemo)(()=>{if(!C)return Object.assign(Object.assign({},null==E?void 0:E.style),D);let e={marginTop:C[1]};return"rtl"===M?e.left=Number.parseInt(C[0],10):e.right=-Number.parseInt(C[0],10),Object.assign(Object.assign(Object.assign({},e),null==E?void 0:E.style),D)},[M,C,D,null==E?void 0:E.style]),ea=null!=w?w:"string"==typeof J||"number"==typeof J?J:void 0,ei=!G&&(0===x?k:!!x&&!0!==x),el=ei?t.createElement("span",{className:`${B}-status-text`},x):null,er=J&&"object"==typeof J?(0,r.cloneElement)(J,e=>({style:Object.assign(Object.assign({},et),e.style)})):void 0,es=(0,l.isPresetColor)(f,!1),eo=(0,a.default)(null==I?void 0:I.indicator,null==(n=null==E?void 0:E.classNames)?void 0:n.indicator,{[`${B}-status-dot`]:U,[`${B}-status-${b}`]:!!b,[`${B}-color-${f}`]:es}),en={};f&&!es&&(en.color=f,en.background=f);let ed=(0,a.default)(B,{[`${B}-status`]:U,[`${B}-not-a-wrapper`]:!p,[`${B}-rtl`]:"rtl"===M},S,O,null==E?void 0:E.className,null==(d=null==E?void 0:E.classNames)?void 0:d.root,null==I?void 0:I.root,A,L);if(!p&&U&&(x||Q||!K)){let e=et.color;return R(t.createElement("span",Object.assign({},$,{className:ed,style:Object.assign(Object.assign(Object.assign({},null==F?void 0:F.root),null==(c=null==E?void 0:E.styles)?void 0:c.root),et)}),t.createElement("span",{className:eo,style:Object.assign(Object.assign(Object.assign({},null==F?void 0:F.indicator),null==(m=null==E?void 0:E.styles)?void 0:m.indicator),en)}),ei&&t.createElement("span",{style:{color:e},className:`${B}-status-text`},x)))}return R(t.createElement("span",Object.assign({ref:o},$,{className:ed,style:Object.assign(Object.assign({},null==(u=null==E?void 0:E.styles)?void 0:u.root),null==F?void 0:F.root)}),p,t.createElement(i.default,{visible:!G,motionName:`${B}-zoom`,motionAppear:!1,motionDeadline:1e3},({className:e})=>{var i,l;let r=P("scroll-number",h),s=ee.current,o=(0,a.default)(null==I?void 0:I.indicator,null==(i=null==E?void 0:E.classNames)?void 0:i.indicator,{[`${B}-dot`]:s,[`${B}-count`]:!s,[`${B}-count-sm`]:"small"===z,[`${B}-multiple-words`]:!s&&Y&&Y.toString().length>1,[`${B}-status-${b}`]:!!b,[`${B}-color-${f}`]:es}),n=Object.assign(Object.assign(Object.assign({},null==F?void 0:F.indicator),null==(l=null==E?void 0:E.styles)?void 0:l.indicator),et);return f&&!es&&((n=n||{}).background=f),t.createElement(T,{prefixCls:r,show:!G,motionClassName:e,className:o,count:Y,title:ea,style:n,key:"scrollNumber"},er)}),el))});D.Ribbon=e=>{let{className:i,prefixCls:r,style:o,color:n,children:d,text:c,placement:m="end",rootClassName:u}=e,{getPrefixCls:g,direction:h}=t.useContext(s.ConfigContext),p=g("ribbon",r),b=`${p}-wrapper`,[x,f,v]=y(p,b),_=(0,l.isPresetColor)(n,!1),j=(0,a.default)(p,`${p}-placement-${m}`,{[`${p}-rtl`]:"rtl"===h,[`${p}-color-${n}`]:_},i),z={},w={};return n&&!_&&(z.background=n,w.color=n),x(t.createElement("div",{className:(0,a.default)(b,u,f,v)},d,t.createElement("div",{className:(0,a.default)(j,f),style:Object.assign(Object.assign({},z),o)},t.createElement("span",{className:`${p}-text`},c),t.createElement("div",{className:`${p}-corner`,style:w}))))},e.s(["Badge",0,D],906579)},367240,54943,555436,e=>{"use strict";var t=e.i(475254);let a=(0,t.default)("rotate-ccw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);e.s(["RotateCcw",()=>a],367240);let i=(0,t.default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["default",()=>i],54943),e.s(["Search",()=>i],555436)},621482,e=>{"use strict";var t=e.i(869230),a=e.i(992571),i=class extends t.QueryObserver{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:(0,a.infiniteQueryBehavior)()})}getOptimisticResult(e){return e.behavior=(0,a.infiniteQueryBehavior)(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){let{state:i}=e,l=super.createResult(e,t),{isFetching:r,isRefetching:s,isError:o,isRefetchError:n}=l,d=i.fetchMeta?.fetchMore?.direction,c=o&&"forward"===d,m=r&&"forward"===d,u=o&&"backward"===d,g=r&&"backward"===d;return{...l,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:(0,a.hasNextPage)(t,i.data),hasPreviousPage:(0,a.hasPreviousPage)(t,i.data),isFetchNextPageError:c,isFetchingNextPage:m,isFetchPreviousPageError:u,isFetchingPreviousPage:g,isRefetchError:n&&!c&&!u,isRefetching:s&&!m&&!g}}},l=e.i(469637);function r(e,t){return(0,l.useBaseQuery)(e,i,t)}e.s(["useInfiniteQuery",()=>r],621482)},785242,e=>{"use strict";var t=e.i(619273),a=e.i(266027),i=e.i(912598),l=e.i(135214),r=e.i(270345),s=e.i(243652),o=e.i(764205);let n=(0,s.createQueryKeys)("teams"),d=async(e,t,a,i={})=>{try{let l=(0,o.getProxyBaseUrl)(),r=new URLSearchParams(Object.entries({team_id:i.teamID,organization_id:i.organizationID,team_alias:i.team_alias,user_id:i.userID,page:t,page_size:a,sort_by:i.sortBy,sort_order:i.sortOrder,status:"deleted"}).filter(([,e])=>null!=e).map(([e,t])=>[e,String(t)])),s=`${l?`${l}/v2/team/list`:"/v2/team/list"}?${r}`,n=await fetch(s,{method:"GET",headers:{[(0,o.getGlobalLitellmHeaderName)()]:`Bearer ${e}`,"Content-Type":"application/json"}});if(!n.ok){let e=await n.json(),t=(0,o.deriveErrorMessage)(e);throw(0,o.handleError)(t),Error(t)}let d=await n.json();if(console.log("/team/list?status=deleted API Response:",d),d&&"object"==typeof d&&"teams"in d)return d.teams;return d}catch(e){throw console.error("Failed to list deleted teams:",e),e}},c=(0,s.createQueryKeys)("deletedTeams");e.s(["useDeletedTeams",0,(e,i,r={})=>{let{accessToken:s}=(0,l.default)();return(0,a.useQuery)({queryKey:c.list({page:e,limit:i,...r}),queryFn:async()=>await d(s,e,i,r),enabled:!!s,staleTime:3e4,placeholderData:t.keepPreviousData})},"useTeam",0,e=>{let{accessToken:t}=(0,l.default)(),r=(0,i.useQueryClient)();return(0,a.useQuery)({queryKey:n.detail(e),enabled:!!(t&&e),queryFn:async()=>{if(!t||!e)throw Error("Missing auth or teamId");return(0,o.teamInfoCall)(t,e)},initialData:()=>{if(!e)return;let t=r.getQueryData(n.list({}));return t?.find(t=>t.team_id===e)}})},"useTeams",0,()=>{let{accessToken:e,userId:t,userRole:i}=(0,l.default)();return(0,a.useQuery)({queryKey:n.list({}),queryFn:async()=>await (0,r.fetchTeams)(e,t,i,null),enabled:!!e})}])},738014,e=>{"use strict";var t=e.i(135214),a=e.i(764205),i=e.i(266027);let l=(0,e.i(243652).createQueryKeys)("users");e.s(["useCurrentUser",0,()=>{let{accessToken:e,userId:r,userRole:s}=(0,t.default)();return(0,i.useQuery)({queryKey:l.detail(r),queryFn:async()=>{let t=await (0,a.userInfoCall)(e,r,s,!1,null,null);return console.log(`userInfo: ${JSON.stringify(t)}`),t.user_info},enabled:!!(e&&r&&s)})}])},980187,e=>{"use strict";e.s(["createTeamAliasMap",0,e=>e?e.reduce((e,t)=>(e[t.team_id]=t.team_alias,e),{}):{},"resolveTeamAliasFromTeamID",0,(e,t)=>{let a=t.find(t=>t.team_id===e);return a?a.team_alias:null}])},109799,e=>{"use strict";var t=e.i(135214),a=e.i(764205),i=e.i(266027),l=e.i(912598);let r=(0,e.i(243652).createQueryKeys)("organizations");e.s(["useOrganization",0,e=>{let s=(0,l.useQueryClient)(),{accessToken:o}=(0,t.default)();return(0,i.useQuery)({queryKey:r.detail(e),enabled:!!(o&&e),queryFn:async()=>{if(!o||!e)throw Error("Missing auth or teamId");return(0,a.organizationInfoCall)(o,e)},initialData:()=>{if(!e)return;let t=s.getQueryData(r.list({}));return t?.find(t=>t.organization_id===e)}})},"useOrganizations",0,()=>{let{accessToken:e,userId:l,userRole:s}=(0,t.default)();return(0,i.useQuery)({queryKey:r.list({}),queryFn:async()=>await (0,a.organizationListCall)(e),enabled:!!(e&&l&&s)})}])},625901,e=>{"use strict";var t=e.i(266027),a=e.i(621482),i=e.i(243652),l=e.i(764205),r=e.i(135214);let s=(0,i.createQueryKeys)("models"),o=(0,i.createQueryKeys)("modelHub"),n=(0,i.createQueryKeys)("allProxyModels");(0,i.createQueryKeys)("selectedTeamModels");let d=(0,i.createQueryKeys)("infiniteModels");e.s(["useAllProxyModels",0,()=>{let{accessToken:e,userId:a,userRole:i}=(0,r.default)();return(0,t.useQuery)({queryKey:n.list({}),queryFn:async()=>await (0,l.modelAvailableCall)(e,a,i,!0,null,!0,!1,"expand"),enabled:!!(e&&a&&i)})},"useInfiniteModelInfo",0,(e=50,t)=>{let{accessToken:i,userId:s,userRole:o}=(0,r.default)();return(0,a.useInfiniteQuery)({queryKey:d.list({filters:{...s&&{userId:s},...o&&{userRole:o},size:e,...t&&{search:t}}}),queryFn:async({pageParam:a})=>await (0,l.modelInfoCall)(i,s,o,a,e,t),initialPageParam:1,getNextPageParam:e=>{if(e.current_page<e.total_pages)return e.current_page+1},enabled:!!(i&&s&&o)})},"useModelHub",0,()=>{let{accessToken:e}=(0,r.default)();return(0,t.useQuery)({queryKey:o.list({}),queryFn:async()=>await (0,l.modelHubCall)(e),enabled:!!e})},"useModelsInfo",0,(e=1,a=50,i,o,n,d,c)=>{let{accessToken:m,userId:u,userRole:g}=(0,r.default)();return(0,t.useQuery)({queryKey:s.list({filters:{...u&&{userId:u},...g&&{userRole:g},page:e,size:a,...i&&{search:i},...o&&{modelId:o},...n&&{teamId:n},...d&&{sortBy:d},...c&&{sortOrder:c}}}),queryFn:async()=>await (0,l.modelInfoCall)(m,u,g,e,a,i,o,n,d,c),enabled:!!(m&&u&&g)})}])},907308,e=>{"use strict";var t=e.i(843476),a=e.i(271645),i=e.i(212931),l=e.i(808613),r=e.i(464571),s=e.i(199133),o=e.i(592968),n=e.i(374009),d=e.i(764205);e.s(["default",0,({isVisible:e,onCancel:c,onSubmit:m,accessToken:u,title:g="Add Team Member",roles:h=[{label:"admin",value:"admin",description:"Admin role. Can create team keys, add members, and manage settings."},{label:"user",value:"user",description:"User role. Can view team info, but not manage it."}],defaultRole:p="user"})=>{let[b]=l.Form.useForm(),[x,f]=(0,a.useState)([]),[v,_]=(0,a.useState)(!1),[j,y]=(0,a.useState)("user_email"),z=async(e,t)=>{if(!e)return void f([]);_(!0);try{let a=new URLSearchParams;if(a.append(t,e),null==u)return;let i=(await (0,d.userFilterUICall)(u,a)).map(e=>({label:"user_email"===t?`${e.user_email}`:`${e.user_id}`,value:"user_email"===t?e.user_email:e.user_id,user:e}));f(i)}catch(e){console.error("Error fetching users:",e)}finally{_(!1)}},w=(0,a.useCallback)((0,n.default)((e,t)=>z(e,t),300),[]),C=(e,t)=>{y(t),w(e,t)},T=(e,t)=>{let a=t.user;b.setFieldsValue({user_email:a.user_email,user_id:a.user_id,role:b.getFieldValue("role")})};return(0,t.jsx)(i.Modal,{title:g,open:e,onCancel:()=>{b.resetFields(),f([]),c()},footer:null,width:800,children:(0,t.jsxs)(l.Form,{form:b,onFinish:m,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",initialValues:{role:p},children:[(0,t.jsx)(l.Form.Item,{label:"Email",name:"user_email",className:"mb-4",children:(0,t.jsx)(s.Select,{showSearch:!0,className:"w-full",placeholder:"Search by email",filterOption:!1,onSearch:e=>C(e,"user_email"),onSelect:(e,t)=>T(e,t),options:"user_email"===j?x:[],loading:v,allowClear:!0})}),(0,t.jsx)("div",{className:"text-center mb-4",children:"OR"}),(0,t.jsx)(l.Form.Item,{label:"User ID",name:"user_id",className:"mb-4",children:(0,t.jsx)(s.Select,{showSearch:!0,className:"w-full",placeholder:"Search by user ID",filterOption:!1,onSearch:e=>C(e,"user_id"),onSelect:(e,t)=>T(e,t),options:"user_id"===j?x:[],loading:v,allowClear:!0})}),(0,t.jsx)(l.Form.Item,{label:"Member Role",name:"role",className:"mb-4",children:(0,t.jsx)(s.Select,{defaultValue:p,children:h.map(e=>(0,t.jsx)(s.Select.Option,{value:e.value,children:(0,t.jsxs)(o.Tooltip,{title:e.description,children:[(0,t.jsx)("span",{className:"font-medium",children:e.label}),(0,t.jsxs)("span",{className:"ml-2 text-gray-500 text-sm",children:["- ",e.description]})]})},e.value))})}),(0,t.jsx)("div",{className:"text-right mt-4",children:(0,t.jsx)(r.Button,{type:"default",htmlType:"submit",children:"Add Member"})})]})})}])},162386,e=>{"use strict";var t=e.i(843476),a=e.i(625901),i=e.i(109799),l=e.i(785242),r=e.i(738014),s=e.i(199133),o=e.i(981339),n=e.i(592968);let d={label:"全部模型",value:"all-proxy-models"},c={label:"无默认模型",value:"no-default-models"},m=[d,c],u={user:({allProxyModels:e,userModels:t,options:a})=>t&&a?.includeUserModels?t:[],team:({allProxyModels:e,selectedOrganization:t,userModels:a})=>t?t.models.includes(d.value)||0===t.models.length?e:e.filter(e=>t.models.includes(e)):e??[],organization:({allProxyModels:e})=>e,global:({allProxyModels:e})=>e};e.s(["ModelSelect",0,e=>{let{teamID:g,organizationID:h,options:p,context:b,dataTestId:x,value:f=[],onChange:v,style:_,placeholder:j}=e,{includeUserModels:y,showAllTeamModelsOption:z,showAllProxyModelsOverride:w,includeSpecialOptions:C}=p||{},{data:T,isLoading:N}=(0,a.useAllProxyModels)(),{data:D,isLoading:S}=(0,l.useTeam)(g),{data:O,isLoading:I}=(0,i.useOrganization)(h),{data:F,isLoading:k}=(0,r.useCurrentUser)(),$=e=>m.some(t=>t.value===e),P=f.some($),M=O?.models.includes(d.value)||O?.models.length===0;if(N||S||I||k)return(0,t.jsx)(o.Skeleton.Input,{active:!0,block:!0});let{wildcard:E,regular:B}=(e=>{let t=[],a=[];for(let i of e)i.endsWith("/*")?t.push(i):a.push(i);return{wildcard:t,regular:a}})(((e,t,a)=>{let i=Array.from(new Map(e.map(e=>[e.id,e])).values()).map(e=>e.id);if(t.options?.showAllProxyModelsOverride)return i;let l=u[t.context];return l?l({allProxyModels:i,...a,options:t.options}):[]})(T?.data??[],e,{selectedTeam:D,selectedOrganization:O,userModels:F?.models}));return(0,t.jsx)(s.Select,{"data-testid":x,value:f,onChange:e=>{let t=e.filter($);v(t.length>0?[t[t.length-1]]:e)},style:_,options:[C?{label:(0,t.jsx)("span",{children:"Special Options"}),title:"Special Options",options:[...w||M&&C||"global"===b?[{label:(0,t.jsx)("span",{children:"全部模型"}),value:d.value,disabled:f.length>0&&f.some(e=>$(e)&&e!==d.value),key:d.value}]:[],{label:(0,t.jsx)("span",{children:"无默认模型"}),value:c.value,disabled:f.length>0&&f.some(e=>$(e)&&e!==c.value),key:c.value}]}:[],...E.length>0?[{label:(0,t.jsx)("span",{children:"Wildcard Options"}),title:"Wildcard Options",options:E.map(e=>{let a=e.replace("/*",""),i=a.charAt(0).toUpperCase()+a.slice(1);return{label:(0,t.jsx)("span",{children:`All ${i} models`}),value:e,disabled:P}})}]:[],{label:(0,t.jsx)("span",{children:"Models"}),title:"Models",options:B.map(e=>({label:(0,t.jsx)("span",{children:e}),value:e,disabled:P}))}],mode:"multiple",placeholder:j??"Select Models",allowClear:!0,maxTagCount:"responsive",maxTagPlaceholder:e=>(0,t.jsx)(n.Tooltip,{styles:{root:{pointerEvents:"none"}},title:e.map(({value:e})=>e).join(", "),children:(0,t.jsxs)("span",{children:["+",e.length," more"]})})})}],162386)},276173,e=>{"use strict";var t=e.i(843476),a=e.i(599724),i=e.i(779241),l=e.i(464571),r=e.i(808613),s=e.i(212931),o=e.i(199133),n=e.i(271645),d=e.i(435451),c=e.i(111110);e.s(["default",0,({visible:e,onCancel:m,onSubmit:u,initialData:g,mode:h,config:p})=>{let b,{t:x}=(0,c.useLanguage)(),[f]=r.Form.useForm(),[v,_]=(0,n.useState)(!1);console.log("Initial Data:",g),(0,n.useEffect)(()=>{if(e)if("edit"===h&&g){let e={...g,role:g.role||p.defaultRole,max_budget_in_team:g.max_budget_in_team||null,tpm_limit:g.tpm_limit||null,rpm_limit:g.rpm_limit||null};console.log("Setting form values:",e),f.setFieldsValue(e)}else f.resetFields(),f.setFieldsValue({role:p.defaultRole||p.roleOptions[0]?.value})},[e,g,h,f,p.defaultRole,p.roleOptions]);let j=async e=>{try{_(!0);let t=Object.entries(e).reduce((e,[t,a])=>{if("string"==typeof a){let i=a.trim();return""===i&&("max_budget_in_team"===t||"tpm_limit"===t||"rpm_limit"===t)?{...e,[t]:null}:{...e,[t]:i}}return{...e,[t]:a}},{});console.log("Submitting form data:",t),await Promise.resolve(u(t)),f.resetFields()}catch(e){console.error("Form submission error:",e)}finally{_(!1)}};return(0,t.jsx)(s.Modal,{title:p.title||x("add"===h?"teamDetail.memberPermissions.modal.addMember":"teamDetail.memberPermissions.modal.editMember"),open:e,width:1e3,footer:null,onCancel:m,children:(0,t.jsxs)(r.Form,{form:f,onFinish:j,labelCol:{span:8},wrapperCol:{span:16},labelAlign:"left",children:[p.showEmail&&(0,t.jsx)(r.Form.Item,{label:x("teamDetail.memberPermissions.modal.userEmail"),name:"user_email",className:"mb-4",rules:[{type:"email",message:x("teamDetail.memberPermissions.modal.validEmail")}],children:(0,t.jsx)(i.TextInput,{placeholder:"user@example.com"})}),p.showEmail&&p.showUserId&&(0,t.jsx)("div",{className:"text-center mb-4",children:(0,t.jsx)(a.Text,{children:x("teamDetail.memberPermissions.modal.or")})}),p.showUserId&&(0,t.jsx)(r.Form.Item,{label:x("teamDetail.memberPermissions.modal.userId"),name:"user_id",className:"mb-4",children:(0,t.jsx)(i.TextInput,{placeholder:"user_123"})}),(0,t.jsx)(r.Form.Item,{label:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:x("teamDetail.memberPermissions.modal.role")}),"edit"===h&&g&&(0,t.jsxs)("span",{className:"text-gray-500 text-sm",children:["(",x("teamDetail.memberPermissions.modal.current"),(b=g.role,p.roleOptions.find(e=>e.value===b)?.label||b),")"]})]}),name:"role",className:"mb-4",rules:[{required:!0,message:x("teamDetail.memberPermissions.modal.roleRequired")}],children:(0,t.jsx)(o.Select,{children:"edit"===h&&g?[...p.roleOptions.filter(e=>e.value===g.role),...p.roleOptions.filter(e=>e.value!==g.role)].map(e=>(0,t.jsx)(o.Select.Option,{value:e.value,children:e.label},e.value)):p.roleOptions.map(e=>(0,t.jsx)(o.Select.Option,{value:e.value,children:e.label},e.value))})}),p.additionalFields?.map(e=>(0,t.jsx)(r.Form.Item,{label:e.label,name:e.name,className:"mb-4",rules:e.rules,children:(e=>{switch(e.type){case"input":return(0,t.jsx)(i.TextInput,{placeholder:e.placeholder});case"numerical":return(0,t.jsx)(d.default,{step:e.step||1,min:e.min||0,style:{width:"100%"},placeholder:e.placeholder||"Enter a numerical value"});case"select":return(0,t.jsx)(o.Select,{children:e.options?.map(e=>(0,t.jsx)(o.Select.Option,{value:e.value,children:e.label},e.value))});default:return null}})(e)},e.name)),(0,t.jsxs)("div",{className:"text-right mt-6",children:[(0,t.jsx)(l.Button,{onClick:m,className:"mr-2",disabled:v,children:x("teamDetail.memberPermissions.modal.cancel")}),(0,t.jsx)(l.Button,{type:"default",htmlType:"submit",loading:v,children:x("add"===h?v?"teamDetail.memberPermissions.modal.adding":"teamDetail.memberPermissions.modal.addMember":v?"teamDetail.memberPermissions.modal.saving":"teamDetail.memberPermissions.saveChanges")})]})]})})}])},294612,e=>{"use strict";var t=e.i(843476);e.i(247167);var a=e.i(931067),i=e.i(271645);let l={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M899.6 276.5L705 396.4 518.4 147.5a8.06 8.06 0 00-12.9 0L319 396.4 124.3 276.5c-5.7-3.5-13.1 1.2-12.2 7.9L188.5 865c1.1 7.9 7.9 14 16 14h615.1c8 0 14.9-6 15.9-14l76.4-580.6c.8-6.7-6.5-11.4-12.3-7.9zm-126 534.1H250.3l-53.8-409.4 139.8 86.1L512 252.9l175.7 234.4 139.8-86.1-53.9 409.4zM512 509c-62.1 0-112.6 50.5-112.6 112.6S449.9 734.2 512 734.2s112.6-50.5 112.6-112.6S574.1 509 512 509zm0 160.9c-26.6 0-48.2-21.6-48.2-48.3 0-26.6 21.6-48.3 48.2-48.3s48.2 21.6 48.2 48.3c0 26.6-21.6 48.3-48.2 48.3z"}}]},name:"crown",theme:"outlined"};var r=e.i(9583),s=i.forwardRef(function(e,t){return i.createElement(r.default,(0,a.default)({},e,{ref:t,icon:l}))}),o=e.i(827252),n=e.i(213205),d=e.i(771674),c=e.i(464571),m=e.i(770914),u=e.i(291542),g=e.i(262218),h=e.i(592968),p=e.i(898586),b=e.i(902555),x=e.i(111110);let{Text:f}=p.Typography;function v({members:e,canEdit:a,onEdit:i,onDelete:l,onAddMember:r,roleColumnTitle:p="Role",roleTooltip:v,extraColumns:_=[],showDeleteForMember:j,emptyText:y}){let{t:z}=(0,x.useLanguage)(),w=[{title:z("teamDetail.memberPermissions.modal.userEmail"),dataIndex:"user_email",key:"user_email",render:e=>(0,t.jsx)(f,{children:e||"-"})},{title:z("teamDetail.memberPermissions.modal.userId"),dataIndex:"user_id",key:"user_id",render:e=>"default_user_id"===e?(0,t.jsx)(g.Tag,{color:"blue",children:z("memberTable.defaultProxyAdmin")}):(0,t.jsx)(f,{children:e||"-"})},{title:v?(0,t.jsxs)(m.Space,{direction:"horizontal",children:[p,(0,t.jsx)(h.Tooltip,{title:v,children:(0,t.jsx)(o.InfoCircleOutlined,{})})]}):p,dataIndex:"role",key:"role",render:e=>(0,t.jsxs)(m.Space,{children:[e?.toLowerCase()==="admin"||e?.toLowerCase()==="org_admin"?(0,t.jsx)(s,{}):(0,t.jsx)(d.UserOutlined,{}),(0,t.jsx)(f,{style:{textTransform:"capitalize"},children:e||"-"})]})},..._,{title:z("memberTable.actions"),key:"actions",fixed:"right",width:120,render:(e,r)=>a?(0,t.jsxs)(m.Space,{children:[(0,t.jsx)(b.default,{variant:"Edit",tooltipText:z("memberTable.editMember"),dataTestId:"edit-member",onClick:()=>i(r)}),(!j||j(r))&&(0,t.jsx)(b.default,{variant:"Delete",tooltipText:z("memberTable.deleteMember"),dataTestId:"delete-member",onClick:()=>l(r)})]}):null}];return(0,t.jsxs)(m.Space,{direction:"vertical",style:{width:"100%"},children:[(0,t.jsx)(u.Table,{columns:w,dataSource:e,rowKey:e=>e.user_id??e.user_email??JSON.stringify(e),pagination:!1,size:"small",scroll:{x:"max-content"},locale:y?{emptyText:y}:void 0}),r&&a&&(0,t.jsx)(c.Button,{icon:(0,t.jsx)(n.UserAddOutlined,{}),type:"primary",onClick:r,children:z("memberTable.addMember")})]})}e.s(["default",()=>v],294612)}]);