const TEAM_ZH_FALLBACK: Record<string, string> = {
  "teams.create": "+ 创建新分组",
  "teams.tabs.myTeams": "我的分组",
  "teams.tabs.defaultSettings": "默认分组设置",
  "teams.lastRefreshed": "最近刷新：",
  "teams.clickToView": "点击 \"分组 ID\" 查看分组详情并管理分组成员。",
  "teams.filters.searchPlaceholder": "按分组名称搜索...",
  "teams.filters.filter": "筛选",
  "teams.filters.reset": "重置筛选",
  "teams.filters.teamIdPlaceholder": "输入分组 ID",
  "teams.filters.selectOrganization": "选择组织",
  "teams.table.teamName": "分组名称",
  "teams.table.teamId": "分组 ID",
  "teams.table.createdAt": "创建时间",
  "teams.table.spend": "花费",
  "teams.table.budget": "预算",
  "teams.table.models": "模型",
  "teams.table.organization": "组织",
  "teams.table.yourRole": "角色",
  "teams.table.info": "信息",
  "teams.table.none": "无",
  "teams.table.unlimited": "不限制",
  "teams.table.keys": "个密钥",
  "teams.table.members": "个成员",
  "teams.table.moreModels": "个更多模型",
  "teams.allProxyModels": "所有代理模型",
  "teams.roleBadges.admin": "分组管理员",
  "teams.roleBadges.member": "成员",
  "teams.defaultSettings.title": "默认分组设置",
  "teams.defaultSettings.description": "创建新分组时将默认应用这些设置。",
  "teams.defaultSettings.editSettings": "编辑设置",
  "teams.defaultSettings.saveChanges": "保存更改",
  "teams.defaultSettings.cancel": "取消",
  "teams.defaultSettings.notSet": "未设置",
  "teams.defaultSettings.none": "无",
  "teams.defaultSettings.enabled": "已启用",
  "teams.defaultSettings.disabled": "已禁用",
  "teams.defaultSettings.notAvailable": "没有可用的分组设置，或者您没有权限查看。",
  "teams.defaultSettings.noSchema": "没有可用的架构信息",
  "teams.defaultSettings.noDescription": "没有可用描述",
  "teams.defaultSettings.loadFailed": "获取分组设置失败",
  "teams.defaultSettings.saveSuccess": "默认分组设置已成功更新",
  "teams.defaultSettings.updateFailed": "更新分组设置失败",
  "teams.memberTab.spendColumnTitle": "花费",
  "teams.memberTab.spendTooltip": "成员已花费金额",
  "teams.memberTab.budgetColumnTitle": "预算",
  "teams.memberTab.rateLimitColumnTitle": "速率限制",
  "teams.memberTab.rateLimitTooltip": "成员的 RPM / TPM 限制",
  "teams.memberTab.roleColumnTitle": "角色",
  "teams.memberTab.roleTooltip": "将成员提升为分组管理员，或将其降级为普通成员",
  "teams.memberTab.noLimit": "不限制",
  "teams.memberTab.noLimits": "不限制",
  "teams.memberTab.roleAdmin": "管理员",
  "teams.memberTab.roleUser": "成员",
  "teamDetail.memberPermissions.modal.userEmail": "用户邮箱",
  "teamDetail.memberPermissions.modal.userId": "用户 ID",
  "teamDetail.memberPermissions.loading": "加载中...",
  "teamDetail.memberPermissions.title": "成员权限",
  "teamDetail.memberPermissions.reset": "重置",
  "teamDetail.memberPermissions.saveChanges": "保存更改",
  "teamDetail.tabs.members": "成员",
  "teamDetail.tabs.memberPermissions": "成员权限",
  "teamDetail.memberPermissions.description": "控制非管理员分组成员的权限",
  "teamDetail.memberPermissions.updateSuccess": "成员权限更新成功",
  "teamDetail.memberPermissions.updateFailed": "更新成员权限失败",
  "teamDetail.memberPermissions.loadFailed": "加载成员权限失败",
  "teamDetail.memberPermissions.table.method": "方法",
  "teamDetail.memberPermissions.table.endpoint": "端点",
  "teamDetail.memberPermissions.table.description": "描述",
  "teamDetail.memberPermissions.table.allowAccess": "允许访问",
  "teamDetail.memberPermissions.noPermissions": "暂无可用权限",
  "teamDetail.memberModal.editTitle": "编辑分组成员",
  "teamDetail.memberModal.adminRole": "管理员",
  "teamDetail.memberModal.userRole": "成员",
  "teamDetail.memberModal.teamMemberBudget": "分组成员预算",
  "teamDetail.memberModal.teamMemberBudgetTooltip": "设置该成员在分组内可使用的最大预算",
  "teamDetail.memberModal.teamMemberBudgetPlaceholder": "输入分组成员预算",
  "teamDetail.memberModal.teamMemberTpmLimit": "分组成员 TPM 限制",
  "teamDetail.memberModal.teamMemberTpmLimitTooltip": "设置该成员在分组内每分钟 Token 限制",
  "teamDetail.memberModal.teamMemberTpmLimitPlaceholder": "输入分组成员 TPM 限制",
  "teamDetail.memberModal.teamMemberRpmLimit": "分组成员 RPM 限制",
  "teamDetail.memberModal.teamMemberRpmLimitTooltip": "设置该成员在分组内每分钟请求限制",
  "teamDetail.memberModal.teamMemberRpmLimitPlaceholder": "输入分组成员 RPM 限制",
  "teamDetail.memberPermissions.modal.addMember": "添加成员",
  "teamDetail.memberPermissions.modal.editMember": "编辑分组成员",
  "teamDetail.memberPermissions.modal.validEmail": "请输入有效的邮箱地址",
  "teamDetail.memberPermissions.modal.or": "或",
  "teamDetail.memberPermissions.modal.role": "成员角色",
  "teamDetail.memberPermissions.modal.current": "当前：",
  "teamDetail.memberPermissions.modal.roleRequired": "请选择成员角色",
  "teamDetail.memberPermissions.modal.cancel": "取消",
  "teamDetail.memberPermissions.modal.adding": "添加中...",
  "teamDetail.memberPermissions.modal.saving": "保存中...",
  "memberTable.defaultProxyAdmin": "默认代理管理员",
  "memberTable.actions": "操作",
  "memberTable.addMember": "添加成员",
  "memberTable.editMember": "编辑成员",
  "memberTable.deleteMember": "删除成员",
  "teamDetail.deleteModal.title": "删除成员",
  "teamDetail.deleteModal.alertMessage": "确认删除该分组成员？",
  "teamDetail.deleteModal.message": "此操作不可撤销。",
  "teamDetail.deleteModal.resourceTitle": "成员信息",
  "teamDetail.deleteModal.userId": "用户 ID",
  "teamDetail.deleteModal.email": "邮箱",
  "teamDetail.deleteModal.role": "角色",
  "teamDetail.tabs.settings": "设置",
  "teamDetail.settings.title": "分组设置",
  "teamDetail.settings.editButton": "编辑",
  "teamDetail.settings.teamName": "分组名称",
  "teamDetail.settings.teamNameRequired": "请输入分组名称",
  "teamDetail.settings.models": "模型",
  "teamDetail.settings.modelsRequired": "请选择模型",
  "teamDetail.settings.numericPlaceholder": "请输入数值",
  "teamDetail.settings.maxBudget": "最大预算",
  "teamDetail.settings.softBudget": "软预算",
  "teamDetail.settings.softBudgetAlertingEmails": "软预算告警邮箱",
  "teamDetail.settings.softBudgetAlertingEmailsTooltip": "达到软预算后通知这些邮箱，多个用英文逗号分隔",
  "teamDetail.settings.softBudgetAlertingEmailsPlaceholder": "例如：a@example.com,b@example.com",
  "teamDetail.settings.teamMemberBudget": "分组成员预算",
  "teamDetail.settings.teamMemberBudgetTooltip": "设置分组成员默认最大预算",
  "teamDetail.settings.teamMemberBudgetDuration": "成员预算周期",
  "teamDetail.settings.teamMemberKeyDuration": "成员密钥时长",
  "teamDetail.settings.teamMemberKeyDurationTooltip": "例如：1h、30m、7d",
  "teamDetail.settings.teamMemberKeyDurationPlaceholder": "输入成员密钥时长，如 7d",
  "teamDetail.settings.teamMemberTpmLimit": "成员 TPM 限制",
  "teamDetail.settings.teamMemberTpmLimitTooltip": "设置成员每分钟 Token 限额",
  "teamDetail.settings.teamMemberTpmLimitPlaceholder": "输入成员 TPM 限制",
  "teamDetail.settings.teamMemberRpmLimit": "成员 RPM 限制",
  "teamDetail.settings.teamMemberRpmLimitTooltip": "设置成员每分钟请求限额",
  "teamDetail.settings.teamMemberRpmLimitPlaceholder": "输入成员 RPM 限制",
  "teamDetail.settings.resetBudget": "预算重置周期",
  "teamDetail.settings.resetBudgetPlaceholder": "选择预算重置周期",
  "teamDetail.settings.daily": "每日",
  "teamDetail.settings.weekly": "每周",
  "teamDetail.settings.monthly": "每月",
  "teamDetail.settings.tpmLimit": "TPM 限制",
  "teamDetail.settings.rpmLimit": "RPM 限制",
  "teamDetail.settings.guardrails": "防护栏",
  "teamDetail.settings.guardrailsTooltip": "为该分组配置防护栏",
  "teamDetail.settings.guardrailsHelp": "可选择一个或多个防护栏",
  "teamDetail.settings.guardrailsPlaceholder": "选择或输入防护栏",
  "teamDetail.settings.disableGlobalGuardrails": "禁用全局防护栏",
  "teamDetail.settings.disableGlobalGuardrailsTooltip": "仅对当前分组生效",
  "teamDetail.settings.disableGlobalGuardrailsHelp": "开启后将不继承全局防护栏配置",
  "teamDetail.settings.disableGlobalGuardrailsYes": "是",
  "teamDetail.settings.disableGlobalGuardrailsNo": "否",
  "teamDetail.settings.policies": "策略",
  "teamDetail.settings.policiesTooltip": "为该分组配置策略",
  "teamDetail.settings.policiesHelp": "可选择一个或多个策略",
  "teamDetail.settings.policiesPlaceholder": "选择或输入策略",
  "teamDetail.settings.accessGroups": "访问组",
  "teamDetail.settings.accessGroupsTooltip": "限制该分组可访问的资源组",
  "teamDetail.settings.accessGroupsPlaceholder": "选择访问组",
  "teamDetail.settings.vectorStores": "向量库",
  "teamDetail.settings.vectorStoresPlaceholder": "选择向量库",
  "teamDetail.settings.allowedPassThroughRoutes": "允许的透传路由",
  "teamDetail.settings.allowedPassThroughRoutesPlaceholder": "选择允许的透传路由",
  "teamDetail.settings.mcpServers": "MCP 服务器",
  "teamDetail.settings.mcpServersPlaceholder": "选择 MCP 服务器",
  "teamDetail.settings.agents": "智能体",
  "teamDetail.settings.agentsPlaceholder": "选择智能体",
  "teamDetail.settings.organizationId": "组织 ID",
  "teamDetail.settings.loggingSettings": "日志设置",
  "teamDetail.settings.secretManagerSettings": "密钥管理器设置",
  "teamDetail.settings.secretManagerSettingsHelp": "输入 JSON 格式的密钥管理配置",
  "teamDetail.settings.secretManagerSettingsPremiumHelp": "高级版可配置密钥管理器",
  "teamDetail.settings.secretManagerSettingsInvalid": "密钥管理器配置 JSON 格式无效",
  "teamDetail.settings.secretManagerSettingsPlaceholder": "请输入 JSON 配置",
  "teamDetail.settings.metadata": "元数据",
  "teamDetail.settings.cancel": "取消",
  "teamDetail.settings.saveChanges": "保存更改",
  "teamDetail.settings.teamId": "分组 ID",
  "teamDetail.settings.createdAt": "创建时间",
  "teamDetail.settings.rateLimitsLabel": "速率限制",
  "teamDetail.settings.teamBudget": "分组预算",
  "teamDetail.settings.maxBudgetLabel": "最大预算",
  "teamDetail.settings.softBudgetLabel": "软预算",
  "teamDetail.settings.noLimit": "不限制",
  "teamDetail.settings.budgetReset": "预算重置",
  "teamDetail.settings.never": "从不",
  "teamDetail.settings.softBudgetAlertingEmailsLabel": "软预算告警邮箱",
  "teamDetail.settings.teamMemberSettings": "成员设置",
  "teamDetail.settings.teamMemberSettingsTooltip": "控制分组成员的默认预算和限额",
  "teamDetail.settings.maxBudgetMember": "成员最大预算",
  "teamDetail.settings.budgetDuration": "预算周期",
  "teamDetail.settings.keyDuration": "密钥时长",
  "teamDetail.settings.tpmLimitLabel": "TPM",
  "teamDetail.settings.rpmLimitLabel": "RPM",
  "teamDetail.settings.status": "状态",
  "teamDetail.settings.blocked": "已禁用",
  "teamDetail.settings.active": "启用中",
  "teamDetail.settings.disableGlobalGuardrailsLabel": "全局防护栏",
  "teamDetail.settings.disableGlobalGuardrailsEnabled": "已禁用全局防护栏",
  "teamDetail.settings.disableGlobalGuardrailsDisabled": "继承全局防护栏",
  "teamDetail.settings.secretManagerSettingsLabel": "密钥管理器配置",
};

const TEAM_DEFAULT_SETTINGS_FIELD_LABELS_ZH: Record<string, string> = {
  models: "模型",
  max_budget: "最大预算",
  budget_duration: "预算周期",
  tpm_limit: "TPM 限制",
  rpm_limit: "RPM 限制",
  max_parallel_requests: "最大并行请求数",
  metadata: "元数据",
};

const TEAM_DEFAULT_SETTINGS_FIELD_DESCRIPTIONS_ZH: Record<string, string> = {
  models: "新自动创建分组可访问的默认模型列表",
  max_budget: "新自动创建分组的默认最大预算（CNY）",
  budget_duration: "默认预算重置周期",
  tpm_limit: "默认每分钟 Token 限制（TPM）",
  rpm_limit: "默认每分钟请求限制（RPM）",
  max_parallel_requests: "默认最大并行请求数",
  metadata: "默认附加元数据",
};

export const teamT = (t: (key: string) => string, key: string): string => {
  const translated = t(key);
  if (translated === key) {
    return TEAM_ZH_FALLBACK[key] ?? key;
  }
  return translated;
};

export const teamDefaultSettingsFieldLabel = (key: string, fallback: string): string => {
  return TEAM_DEFAULT_SETTINGS_FIELD_LABELS_ZH[key] ?? fallback;
};

export const teamDefaultSettingsFieldDescription = (key: string, fallback?: string): string => {
  return TEAM_DEFAULT_SETTINGS_FIELD_DESCRIPTIONS_ZH[key] ?? fallback ?? TEAM_ZH_FALLBACK["teams.defaultSettings.noDescription"];
};

const TEAM_PERMISSION_DESCRIPTION_ZH: Record<string, string> = {
  "/key/generate": "成员可为该分组生成虚拟密钥",
  "/key/service-account/generate": "成员可为该分组生成服务账号密钥（不归属具体用户）",
  "/key/update": "成员可更新该分组下的虚拟密钥",
  "/key/delete": "成员可删除该分组下的虚拟密钥",
  "/key/info": "成员可查看该分组下虚拟密钥的信息",
  "/key/regenerate": "成员可重新生成该分组下的虚拟密钥",
  "/key/{key_id}/regenerate": "成员可重新生成该分组下的虚拟密钥",
  "/key/list": "成员可查看该分组下的虚拟密钥列表",
  "/key/block": "成员可封禁该分组下的虚拟密钥",
  "/key/unblock": "成员可解封该分组下的虚拟密钥",
  "/team/daily/activity": "成员可查看分组全部使用数据（不仅是自己的）",
};

export const teamPermissionDescription = (route: string, fallback: string): string => {
  return TEAM_PERMISSION_DESCRIPTION_ZH[route] ?? fallback;
};
